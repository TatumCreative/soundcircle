{
  "version": 3,
  "sources": [
    "node_modules/browserify/node_modules/browser-pack/_prelude.js",
    "/Users/gregtatum/Google Drive/lemmas/soundcircle/node_modules/dat-gui/index.js",
    "/Users/gregtatum/Google Drive/lemmas/soundcircle/node_modules/dat-gui/vendor/dat.color.js",
    "/Users/gregtatum/Google Drive/lemmas/soundcircle/node_modules/dat-gui/vendor/dat.gui.js",
    "/Users/gregtatum/Google Drive/lemmas/soundcircle/node_modules/lodash/index.js",
    "/Users/gregtatum/Google Drive/lemmas/soundcircle/node_modules/octavian/build/chord/add-additional-notes.js",
    "/Users/gregtatum/Google Drive/lemmas/soundcircle/node_modules/octavian/build/chord/index.js",
    "/Users/gregtatum/Google Drive/lemmas/soundcircle/node_modules/octavian/build/chord/modes.js",
    "/Users/gregtatum/Google Drive/lemmas/soundcircle/node_modules/octavian/build/index.js",
    "/Users/gregtatum/Google Drive/lemmas/soundcircle/node_modules/octavian/build/note/get-alternate-name.js",
    "/Users/gregtatum/Google Drive/lemmas/soundcircle/node_modules/octavian/build/note/get-note-from-piano-key.js",
    "/Users/gregtatum/Google Drive/lemmas/soundcircle/node_modules/octavian/build/note/index.js",
    "/Users/gregtatum/Google Drive/lemmas/soundcircle/node_modules/octavian/build/note/intervals.js",
    "/Users/gregtatum/Google Drive/lemmas/soundcircle/node_modules/octavian/build/note/normalize-note.js",
    "/Users/gregtatum/Google Drive/lemmas/soundcircle/node_modules/octavian/build/note/parse-note.js",
    "/Users/gregtatum/Google Drive/lemmas/soundcircle/node_modules/octavian/build/note/piano-keys.js",
    "/Users/gregtatum/Google Drive/lemmas/soundcircle/node_modules/octavian/build/note/validate-note.js",
    "/Users/gregtatum/Google Drive/lemmas/soundcircle/src/index.js",
    "/Users/gregtatum/Google Drive/lemmas/soundcircle/src/sound/make-sound-node.js",
    "/Users/gregtatum/Google Drive/lemmas/soundcircle/src/sound/sound-utils.js",
    "/Users/gregtatum/Google Drive/lemmas/soundcircle/src/sound/sound.js"
  ],
  "names": [],
  "mappings": "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AAE,CAAC,EAAE,EAAE,GCGtB,EACf,GAAG,CACH,CAAA;AFDA,ACHC,AERH,CDaC,EAED,IDPO,EERE,CDeF,CAAC,CDPI,GAAG,IDGI,ACHA,CAAC,CDGE,IGXG,CFQC,AERC,EFQC,CERE,EFQC,ACOH,ACfI,CFQA,ECOD,CDPI,CAAC,CAAA,EERI,EAAE,GDeA,ECfK,CDeF,CCfI,CDeF,IAAI,EAAE,ACfG,EAAG,ODeG,EAAG;AFH9D,ACHA,KAAE,GAAG,OAAO,CDGC,EAAG,ACHD,CDId,CAAC,ACJe,GDIZ,ACJe,EDIb,GCJkB,GDIZ,ACJe,EDIb,CAAC,EAAE,CAAC,CAAC,EACnB,ACLoC,CDKnC,ACLmC,GDKhC,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,EACnB,CAAC,GAAG,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,CACnB;AACD,ACPA,ACOF,ACfA,KFQI,ACOA,ACfA,CDeC,EDPE,OAAO,ACOA,CAAC,CFAC,AGfA,CFQC,CDOE,CAChB,ACRgB,AERA,CHgBf,ECRkB,AERA,CHgBf,AGhBgB,EHgBd,ECRkB,CDQf,EAAE,ACRgB,ACOA,CFCf,AEAd,EFAgB,AGhBgB,CHgBf,CAAC,CGhBiB,CHiBjC,CAAC,CCTmC,CAAA,ACQ7B,EFCF,AEAP,EFAS,AGjBkC,CDiBxC,ACjBwC,CHiBhC,AEAP,EFAS,CAAC,EAAE,CAAC,CAAC,EAChB,CAAC,CEDY,EACf,CFAO,EAAE,AEAN,CACH,CAAA,CFDY,EAAE,CAAC,EAAE,CAAC,CAAC,EACjB,CAAC,GAAG,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAChB;AACD,ACZA,AERF,CDmBA,CAAA,GDXI,AERA,GFQG,GERG,GAAG,CFQC,CDYC,CGpBC,CHoBE,ACZD,AERA,CHqBd,CAAC,ACbe,GDaZ,ACbe,EDab,GAAG,ACbe,EDab,AGrBe,CHqBd,ACbe,AERC,CAAC,CHqBf,CAAC,AGrBgB,CHqBf,EAChB,CAAC,ECdmC,CDchC,ACdgC,EDc9B,GAAG,AGtBkC,EHsBhC,AGtBkC,CHsBjC,EAAE,AGtBkC,CHsBjC,AGtBkC,CHsBjC,EAChB,CAAC,GAAG,EAAE,CGvBqD,CAAE,CHuBpD,AGvBoD,EHuBlD,CAAC,EAAE,CAAC,CAAC,EAChB,CAAC,GAAG,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAChB;AACD,ACjBA,AERF,KFQI,AERA,GFQG,IDiBI,AGzBA,EHyBG,CACX,AClBW,AERA,CH0BV,EClBa,CDkBV,CClBY,CDkBV,AG1BW,CAAC,CFQC,GDkBR,EAAE,AClBW,CDkBV,EAAE,AClBW,CDkBV,CAAC,EAClB,CAAC,AG3B+B,CAAC,CAAC,CH2B9B,AG3B+B,CFQC,AERD,CH2B7B,ACnB8B,KDmBzB,EAAE,CAAC,EAAE,CAAC,CAAC,EAClB,CAAC,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC,EAClB,CAAC,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC,CAClB;ACrBD,ACWH,ACnBC,GH8BE,ECtBE,AERA,EDmBE,CDXC,ACWA,ICnBI,GFQG,ACWA,ACnBA,GFQG,ACWA,EDXE,CERC,CAAC,CFQC,KAAK,ACWA,GDXG,ECWE,EAAG,CCnBA,CAAC,CAAC,CAAC,CFQC,AERD,CFQC;AACrC,EDsBD,GCtBG,GAAG,CAAC,MAAM,GAAG,EAAE,GAAG,KAAK,GAAG,SAAS,CAAA;ADuBvC,ACtBE,ACWF,ACnBA,EDmBC,CAAC,GCnBG,CDmBC,CAAE,CDXA,ACWC,ACnBD,CFQC,ACWC,CDXA,CDsBC,ACtBA,EDsBG,AEXA,ACnBD,CFQC,ACWE,EDXA,CDsBE,AG9BD,EFQE,ACWE,CAAE,ACnBH,CFQC,AERD,CDmBK,EDXD,EAAE,GAAG,EAAE,CCWG,EDXA,EAAE,ACWE,EAAE,CDXD,ACWE,EDXA,ACWE,GDXC,CCWG,CDXD,CCWG,EDXA,KAAK,GAAG,MAAM,CAAA;AAC7D,ACWD,CFWD,CAAA,IEXK,GDXG,CAAC,CAAC,CAAC,ECWE,EDXE,CCWC,GDXG,CAAA,CCWE,CAAC,CAAC,CAAC,CAAA;ADVtB,AERF,KFQI,CERA,EFQG,EERC,CAAC,EFQG,CERA,CAAC,CFQE,CERA,CAAC,GAAG,GFQI,CAAA,QERQ,EAAE,CA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",
  "file": "generated.js",
  "sourceRoot": "",
  "sourcesContent": [
    "(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})",
    "module.exports = require('./vendor/dat.gui')\nmodule.exports.color = require('./vendor/dat.color')",
    "/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\n/** @namespace */\nvar dat = module.exports = dat || {};\n\n/** @namespace */\ndat.color = dat.color || {};\n\n/** @namespace */\ndat.utils = dat.utils || {};\n\ndat.utils.common = (function () {\n  \n  var ARR_EACH = Array.prototype.forEach;\n  var ARR_SLICE = Array.prototype.slice;\n\n  /**\n   * Band-aid methods for things that should be a lot easier in JavaScript.\n   * Implementation and structure inspired by underscore.js\n   * http://documentcloud.github.com/underscore/\n   */\n\n  return { \n    \n    BREAK: {},\n  \n    extend: function(target) {\n      \n      this.each(ARR_SLICE.call(arguments, 1), function(obj) {\n        \n        for (var key in obj)\n          if (!this.isUndefined(obj[key])) \n            target[key] = obj[key];\n        \n      }, this);\n      \n      return target;\n      \n    },\n    \n    defaults: function(target) {\n      \n      this.each(ARR_SLICE.call(arguments, 1), function(obj) {\n        \n        for (var key in obj)\n          if (this.isUndefined(target[key])) \n            target[key] = obj[key];\n        \n      }, this);\n      \n      return target;\n    \n    },\n    \n    compose: function() {\n      var toCall = ARR_SLICE.call(arguments);\n            return function() {\n              var args = ARR_SLICE.call(arguments);\n              for (var i = toCall.length -1; i >= 0; i--) {\n                args = [toCall[i].apply(this, args)];\n              }\n              return args[0];\n            }\n    },\n    \n    each: function(obj, itr, scope) {\n\n      \n      if (ARR_EACH && obj.forEach === ARR_EACH) { \n        \n        obj.forEach(itr, scope);\n        \n      } else if (obj.length === obj.length + 0) { // Is number but not NaN\n        \n        for (var key = 0, l = obj.length; key < l; key++)\n          if (key in obj && itr.call(scope, obj[key], key) === this.BREAK) \n            return;\n            \n      } else {\n\n        for (var key in obj) \n          if (itr.call(scope, obj[key], key) === this.BREAK)\n            return;\n            \n      }\n            \n    },\n    \n    defer: function(fnc) {\n      setTimeout(fnc, 0);\n    },\n    \n    toArray: function(obj) {\n      if (obj.toArray) return obj.toArray();\n      return ARR_SLICE.call(obj);\n    },\n\n    isUndefined: function(obj) {\n      return obj === undefined;\n    },\n    \n    isNull: function(obj) {\n      return obj === null;\n    },\n    \n    isNaN: function(obj) {\n      return obj !== obj;\n    },\n    \n    isArray: Array.isArray || function(obj) {\n      return obj.constructor === Array;\n    },\n    \n    isObject: function(obj) {\n      return obj === Object(obj);\n    },\n    \n    isNumber: function(obj) {\n      return obj === obj+0;\n    },\n    \n    isString: function(obj) {\n      return obj === obj+'';\n    },\n    \n    isBoolean: function(obj) {\n      return obj === false || obj === true;\n    },\n    \n    isFunction: function(obj) {\n      return Object.prototype.toString.call(obj) === '[object Function]';\n    }\n  \n  };\n    \n})();\n\n\ndat.color.toString = (function (common) {\n\n  return function(color) {\n\n    if (color.a == 1 || common.isUndefined(color.a)) {\n\n      var s = color.hex.toString(16);\n      while (s.length < 6) {\n        s = '0' + s;\n      }\n\n      return '#' + s;\n\n    } else {\n\n      return 'rgba(' + Math.round(color.r) + ',' + Math.round(color.g) + ',' + Math.round(color.b) + ',' + color.a + ')';\n\n    }\n\n  }\n\n})(dat.utils.common);\n\n\ndat.Color = dat.color.Color = (function (interpret, math, toString, common) {\n\n  var Color = function() {\n\n    this.__state = interpret.apply(this, arguments);\n\n    if (this.__state === false) {\n      throw 'Failed to interpret color arguments';\n    }\n\n    this.__state.a = this.__state.a || 1;\n\n\n  };\n\n  Color.COMPONENTS = ['r','g','b','h','s','v','hex','a'];\n\n  common.extend(Color.prototype, {\n\n    toString: function() {\n      return toString(this);\n    },\n\n    toOriginal: function() {\n      return this.__state.conversion.write(this);\n    }\n\n  });\n\n  defineRGBComponent(Color.prototype, 'r', 2);\n  defineRGBComponent(Color.prototype, 'g', 1);\n  defineRGBComponent(Color.prototype, 'b', 0);\n\n  defineHSVComponent(Color.prototype, 'h');\n  defineHSVComponent(Color.prototype, 's');\n  defineHSVComponent(Color.prototype, 'v');\n\n  Object.defineProperty(Color.prototype, 'a', {\n\n    get: function() {\n      return this.__state.a;\n    },\n\n    set: function(v) {\n      this.__state.a = v;\n    }\n\n  });\n\n  Object.defineProperty(Color.prototype, 'hex', {\n\n    get: function() {\n\n      if (!this.__state.space !== 'HEX') {\n        this.__state.hex = math.rgb_to_hex(this.r, this.g, this.b);\n      }\n\n      return this.__state.hex;\n\n    },\n\n    set: function(v) {\n\n      this.__state.space = 'HEX';\n      this.__state.hex = v;\n\n    }\n\n  });\n\n  function defineRGBComponent(target, component, componentHexIndex) {\n\n    Object.defineProperty(target, component, {\n\n      get: function() {\n\n        if (this.__state.space === 'RGB') {\n          return this.__state[component];\n        }\n\n        recalculateRGB(this, component, componentHexIndex);\n\n        return this.__state[component];\n\n      },\n\n      set: function(v) {\n\n        if (this.__state.space !== 'RGB') {\n          recalculateRGB(this, component, componentHexIndex);\n          this.__state.space = 'RGB';\n        }\n\n        this.__state[component] = v;\n\n      }\n\n    });\n\n  }\n\n  function defineHSVComponent(target, component) {\n\n    Object.defineProperty(target, component, {\n\n      get: function() {\n\n        if (this.__state.space === 'HSV')\n          return this.__state[component];\n\n        recalculateHSV(this);\n\n        return this.__state[component];\n\n      },\n\n      set: function(v) {\n\n        if (this.__state.space !== 'HSV') {\n          recalculateHSV(this);\n          this.__state.space = 'HSV';\n        }\n\n        this.__state[component] = v;\n\n      }\n\n    });\n\n  }\n\n  function recalculateRGB(color, component, componentHexIndex) {\n\n    if (color.__state.space === 'HEX') {\n\n      color.__state[component] = math.component_from_hex(color.__state.hex, componentHexIndex);\n\n    } else if (color.__state.space === 'HSV') {\n\n      common.extend(color.__state, math.hsv_to_rgb(color.__state.h, color.__state.s, color.__state.v));\n\n    } else {\n\n      throw 'Corrupted color state';\n\n    }\n\n  }\n\n  function recalculateHSV(color) {\n\n    var result = math.rgb_to_hsv(color.r, color.g, color.b);\n\n    common.extend(color.__state,\n        {\n          s: result.s,\n          v: result.v\n        }\n    );\n\n    if (!common.isNaN(result.h)) {\n      color.__state.h = result.h;\n    } else if (common.isUndefined(color.__state.h)) {\n      color.__state.h = 0;\n    }\n\n  }\n\n  return Color;\n\n})(dat.color.interpret = (function (toString, common) {\n\n  var result, toReturn;\n\n  var interpret = function() {\n\n    toReturn = false;\n\n    var original = arguments.length > 1 ? common.toArray(arguments) : arguments[0];\n\n    common.each(INTERPRETATIONS, function(family) {\n\n      if (family.litmus(original)) {\n\n        common.each(family.conversions, function(conversion, conversionName) {\n\n          result = conversion.read(original);\n\n          if (toReturn === false && result !== false) {\n            toReturn = result;\n            result.conversionName = conversionName;\n            result.conversion = conversion;\n            return common.BREAK;\n\n          }\n\n        });\n\n        return common.BREAK;\n\n      }\n\n    });\n\n    return toReturn;\n\n  };\n\n  var INTERPRETATIONS = [\n\n    // Strings\n    {\n\n      litmus: common.isString,\n\n      conversions: {\n\n        THREE_CHAR_HEX: {\n\n          read: function(original) {\n\n            var test = original.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);\n            if (test === null) return false;\n\n            return {\n              space: 'HEX',\n              hex: parseInt(\n                  '0x' +\n                      test[1].toString() + test[1].toString() +\n                      test[2].toString() + test[2].toString() +\n                      test[3].toString() + test[3].toString())\n            };\n\n          },\n\n          write: toString\n\n        },\n\n        SIX_CHAR_HEX: {\n\n          read: function(original) {\n\n            var test = original.match(/^#([A-F0-9]{6})$/i);\n            if (test === null) return false;\n\n            return {\n              space: 'HEX',\n              hex: parseInt('0x' + test[1].toString())\n            };\n\n          },\n\n          write: toString\n\n        },\n\n        CSS_RGB: {\n\n          read: function(original) {\n\n            var test = original.match(/^rgb\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/);\n            if (test === null) return false;\n\n            return {\n              space: 'RGB',\n              r: parseFloat(test[1]),\n              g: parseFloat(test[2]),\n              b: parseFloat(test[3])\n            };\n\n          },\n\n          write: toString\n\n        },\n\n        CSS_RGBA: {\n\n          read: function(original) {\n\n            var test = original.match(/^rgba\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\,\\s*(.+)\\s*\\)/);\n            if (test === null) return false;\n\n            return {\n              space: 'RGB',\n              r: parseFloat(test[1]),\n              g: parseFloat(test[2]),\n              b: parseFloat(test[3]),\n              a: parseFloat(test[4])\n            };\n\n          },\n\n          write: toString\n\n        }\n\n      }\n\n    },\n\n    // Numbers\n    {\n\n      litmus: common.isNumber,\n\n      conversions: {\n\n        HEX: {\n          read: function(original) {\n            return {\n              space: 'HEX',\n              hex: original,\n              conversionName: 'HEX'\n            }\n          },\n\n          write: function(color) {\n            return color.hex;\n          }\n        }\n\n      }\n\n    },\n\n    // Arrays\n    {\n\n      litmus: common.isArray,\n\n      conversions: {\n\n        RGB_ARRAY: {\n          read: function(original) {\n            if (original.length != 3) return false;\n            return {\n              space: 'RGB',\n              r: original[0],\n              g: original[1],\n              b: original[2]\n            };\n          },\n\n          write: function(color) {\n            return [color.r, color.g, color.b];\n          }\n\n        },\n\n        RGBA_ARRAY: {\n          read: function(original) {\n            if (original.length != 4) return false;\n            return {\n              space: 'RGB',\n              r: original[0],\n              g: original[1],\n              b: original[2],\n              a: original[3]\n            };\n          },\n\n          write: function(color) {\n            return [color.r, color.g, color.b, color.a];\n          }\n\n        }\n\n      }\n\n    },\n\n    // Objects\n    {\n\n      litmus: common.isObject,\n\n      conversions: {\n\n        RGBA_OBJ: {\n          read: function(original) {\n            if (common.isNumber(original.r) &&\n                common.isNumber(original.g) &&\n                common.isNumber(original.b) &&\n                common.isNumber(original.a)) {\n              return {\n                space: 'RGB',\n                r: original.r,\n                g: original.g,\n                b: original.b,\n                a: original.a\n              }\n            }\n            return false;\n          },\n\n          write: function(color) {\n            return {\n              r: color.r,\n              g: color.g,\n              b: color.b,\n              a: color.a\n            }\n          }\n        },\n\n        RGB_OBJ: {\n          read: function(original) {\n            if (common.isNumber(original.r) &&\n                common.isNumber(original.g) &&\n                common.isNumber(original.b)) {\n              return {\n                space: 'RGB',\n                r: original.r,\n                g: original.g,\n                b: original.b\n              }\n            }\n            return false;\n          },\n\n          write: function(color) {\n            return {\n              r: color.r,\n              g: color.g,\n              b: color.b\n            }\n          }\n        },\n\n        HSVA_OBJ: {\n          read: function(original) {\n            if (common.isNumber(original.h) &&\n                common.isNumber(original.s) &&\n                common.isNumber(original.v) &&\n                common.isNumber(original.a)) {\n              return {\n                space: 'HSV',\n                h: original.h,\n                s: original.s,\n                v: original.v,\n                a: original.a\n              }\n            }\n            return false;\n          },\n\n          write: function(color) {\n            return {\n              h: color.h,\n              s: color.s,\n              v: color.v,\n              a: color.a\n            }\n          }\n        },\n\n        HSV_OBJ: {\n          read: function(original) {\n            if (common.isNumber(original.h) &&\n                common.isNumber(original.s) &&\n                common.isNumber(original.v)) {\n              return {\n                space: 'HSV',\n                h: original.h,\n                s: original.s,\n                v: original.v\n              }\n            }\n            return false;\n          },\n\n          write: function(color) {\n            return {\n              h: color.h,\n              s: color.s,\n              v: color.v\n            }\n          }\n\n        }\n\n      }\n\n    }\n\n\n  ];\n\n  return interpret;\n\n\n})(dat.color.toString,\ndat.utils.common),\ndat.color.math = (function () {\n\n  var tmpComponent;\n\n  return {\n\n    hsv_to_rgb: function(h, s, v) {\n\n      var hi = Math.floor(h / 60) % 6;\n\n      var f = h / 60 - Math.floor(h / 60);\n      var p = v * (1.0 - s);\n      var q = v * (1.0 - (f * s));\n      var t = v * (1.0 - ((1.0 - f) * s));\n      var c = [\n        [v, t, p],\n        [q, v, p],\n        [p, v, t],\n        [p, q, v],\n        [t, p, v],\n        [v, p, q]\n      ][hi];\n\n      return {\n        r: c[0] * 255,\n        g: c[1] * 255,\n        b: c[2] * 255\n      };\n\n    },\n\n    rgb_to_hsv: function(r, g, b) {\n\n      var min = Math.min(r, g, b),\n          max = Math.max(r, g, b),\n          delta = max - min,\n          h, s;\n\n      if (max != 0) {\n        s = delta / max;\n      } else {\n        return {\n          h: NaN,\n          s: 0,\n          v: 0\n        };\n      }\n\n      if (r == max) {\n        h = (g - b) / delta;\n      } else if (g == max) {\n        h = 2 + (b - r) / delta;\n      } else {\n        h = 4 + (r - g) / delta;\n      }\n      h /= 6;\n      if (h < 0) {\n        h += 1;\n      }\n\n      return {\n        h: h * 360,\n        s: s,\n        v: max / 255\n      };\n    },\n\n    rgb_to_hex: function(r, g, b) {\n      var hex = this.hex_with_component(0, 2, r);\n      hex = this.hex_with_component(hex, 1, g);\n      hex = this.hex_with_component(hex, 0, b);\n      return hex;\n    },\n\n    component_from_hex: function(hex, componentIndex) {\n      return (hex >> (componentIndex * 8)) & 0xFF;\n    },\n\n    hex_with_component: function(hex, componentIndex, value) {\n      return value << (tmpComponent = componentIndex * 8) | (hex & ~ (0xFF << tmpComponent));\n    }\n\n  }\n\n})(),\ndat.color.toString,\ndat.utils.common);",
    "/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\n/** @namespace */\nvar dat = module.exports = dat || {};\n\n/** @namespace */\ndat.gui = dat.gui || {};\n\n/** @namespace */\ndat.utils = dat.utils || {};\n\n/** @namespace */\ndat.controllers = dat.controllers || {};\n\n/** @namespace */\ndat.dom = dat.dom || {};\n\n/** @namespace */\ndat.color = dat.color || {};\n\ndat.utils.css = (function () {\n  return {\n    load: function (url, doc) {\n      doc = doc || document;\n      var link = doc.createElement('link');\n      link.type = 'text/css';\n      link.rel = 'stylesheet';\n      link.href = url;\n      doc.getElementsByTagName('head')[0].appendChild(link);\n    },\n    inject: function(css, doc) {\n      doc = doc || document;\n      var injected = document.createElement('style');\n      injected.type = 'text/css';\n      injected.innerHTML = css;\n      doc.getElementsByTagName('head')[0].appendChild(injected);\n    }\n  }\n})();\n\n\ndat.utils.common = (function () {\n  \n  var ARR_EACH = Array.prototype.forEach;\n  var ARR_SLICE = Array.prototype.slice;\n\n  /**\n   * Band-aid methods for things that should be a lot easier in JavaScript.\n   * Implementation and structure inspired by underscore.js\n   * http://documentcloud.github.com/underscore/\n   */\n\n  return { \n    \n    BREAK: {},\n  \n    extend: function(target) {\n      \n      this.each(ARR_SLICE.call(arguments, 1), function(obj) {\n        \n        for (var key in obj)\n          if (!this.isUndefined(obj[key])) \n            target[key] = obj[key];\n        \n      }, this);\n      \n      return target;\n      \n    },\n    \n    defaults: function(target) {\n      \n      this.each(ARR_SLICE.call(arguments, 1), function(obj) {\n        \n        for (var key in obj)\n          if (this.isUndefined(target[key])) \n            target[key] = obj[key];\n        \n      }, this);\n      \n      return target;\n    \n    },\n    \n    compose: function() {\n      var toCall = ARR_SLICE.call(arguments);\n            return function() {\n              var args = ARR_SLICE.call(arguments);\n              for (var i = toCall.length -1; i >= 0; i--) {\n                args = [toCall[i].apply(this, args)];\n              }\n              return args[0];\n            }\n    },\n    \n    each: function(obj, itr, scope) {\n\n      \n      if (ARR_EACH && obj.forEach === ARR_EACH) { \n        \n        obj.forEach(itr, scope);\n        \n      } else if (obj.length === obj.length + 0) { // Is number but not NaN\n        \n        for (var key = 0, l = obj.length; key < l; key++)\n          if (key in obj && itr.call(scope, obj[key], key) === this.BREAK) \n            return;\n            \n      } else {\n\n        for (var key in obj) \n          if (itr.call(scope, obj[key], key) === this.BREAK)\n            return;\n            \n      }\n            \n    },\n    \n    defer: function(fnc) {\n      setTimeout(fnc, 0);\n    },\n    \n    toArray: function(obj) {\n      if (obj.toArray) return obj.toArray();\n      return ARR_SLICE.call(obj);\n    },\n\n    isUndefined: function(obj) {\n      return obj === undefined;\n    },\n    \n    isNull: function(obj) {\n      return obj === null;\n    },\n    \n    isNaN: function(obj) {\n      return obj !== obj;\n    },\n    \n    isArray: Array.isArray || function(obj) {\n      return obj.constructor === Array;\n    },\n    \n    isObject: function(obj) {\n      return obj === Object(obj);\n    },\n    \n    isNumber: function(obj) {\n      return obj === obj+0;\n    },\n    \n    isString: function(obj) {\n      return obj === obj+'';\n    },\n    \n    isBoolean: function(obj) {\n      return obj === false || obj === true;\n    },\n    \n    isFunction: function(obj) {\n      return Object.prototype.toString.call(obj) === '[object Function]';\n    }\n  \n  };\n    \n})();\n\n\ndat.controllers.Controller = (function (common) {\n\n  /**\n   * @class An \"abstract\" class that represents a given property of an object.\n   *\n   * @param {Object} object The object to be manipulated\n   * @param {string} property The name of the property to be manipulated\n   *\n   * @member dat.controllers\n   */\n  var Controller = function(object, property) {\n\n    this.initialValue = object[property];\n\n    /**\n     * Those who extend this class will put their DOM elements in here.\n     * @type {DOMElement}\n     */\n    this.domElement = document.createElement('div');\n\n    /**\n     * The object to manipulate\n     * @type {Object}\n     */\n    this.object = object;\n\n    /**\n     * The name of the property to manipulate\n     * @type {String}\n     */\n    this.property = property;\n\n    /**\n     * The function to be called on change.\n     * @type {Function}\n     * @ignore\n     */\n    this.__onChange = undefined;\n\n    /**\n     * The function to be called on finishing change.\n     * @type {Function}\n     * @ignore\n     */\n    this.__onFinishChange = undefined;\n\n  };\n\n  common.extend(\n\n      Controller.prototype,\n\n      /** @lends dat.controllers.Controller.prototype */\n      {\n\n        /**\n         * Specify that a function fire every time someone changes the value with\n         * this Controller.\n         *\n         * @param {Function} fnc This function will be called whenever the value\n         * is modified via this Controller.\n         * @returns {dat.controllers.Controller} this\n         */\n        onChange: function(fnc) {\n          this.__onChange = fnc;\n          return this;\n        },\n\n        /**\n         * Specify that a function fire every time someone \"finishes\" changing\n         * the value wih this Controller. Useful for values that change\n         * incrementally like numbers or strings.\n         *\n         * @param {Function} fnc This function will be called whenever\n         * someone \"finishes\" changing the value via this Controller.\n         * @returns {dat.controllers.Controller} this\n         */\n        onFinishChange: function(fnc) {\n          this.__onFinishChange = fnc;\n          return this;\n        },\n\n        /**\n         * Change the value of <code>object[property]</code>\n         *\n         * @param {Object} newValue The new value of <code>object[property]</code>\n         */\n        setValue: function(newValue) {\n          this.object[this.property] = newValue;\n          if (this.__onChange) {\n            this.__onChange.call(this, newValue);\n          }\n          this.updateDisplay();\n          return this;\n        },\n\n        /**\n         * Gets the value of <code>object[property]</code>\n         *\n         * @returns {Object} The current value of <code>object[property]</code>\n         */\n        getValue: function() {\n          return this.object[this.property];\n        },\n\n        /**\n         * Refreshes the visual display of a Controller in order to keep sync\n         * with the object's current value.\n         * @returns {dat.controllers.Controller} this\n         */\n        updateDisplay: function() {\n          return this;\n        },\n\n        /**\n         * @returns {Boolean} true if the value has deviated from initialValue\n         */\n        isModified: function() {\n          return this.initialValue !== this.getValue()\n        }\n\n      }\n\n  );\n\n  return Controller;\n\n\n})(dat.utils.common);\n\n\ndat.dom.dom = (function (common) {\n\n  var EVENT_MAP = {\n    'HTMLEvents': ['change'],\n    'MouseEvents': ['click','mousemove','mousedown','mouseup', 'mouseover'],\n    'KeyboardEvents': ['keydown']\n  };\n\n  var EVENT_MAP_INV = {};\n  common.each(EVENT_MAP, function(v, k) {\n    common.each(v, function(e) {\n      EVENT_MAP_INV[e] = k;\n    });\n  });\n\n  var CSS_VALUE_PIXELS = /(\\d+(\\.\\d+)?)px/;\n\n  function cssValueToPixels(val) {\n\n    if (val === '0' || common.isUndefined(val)) return 0;\n\n    var match = val.match(CSS_VALUE_PIXELS);\n\n    if (!common.isNull(match)) {\n      return parseFloat(match[1]);\n    }\n\n    // TODO ...ems? %?\n\n    return 0;\n\n  }\n\n  /**\n   * @namespace\n   * @member dat.dom\n   */\n  var dom = {\n\n    /**\n     * \n     * @param elem\n     * @param selectable\n     */\n    makeSelectable: function(elem, selectable) {\n\n      if (elem === undefined || elem.style === undefined) return;\n\n      elem.onselectstart = selectable ? function() {\n        return false;\n      } : function() {\n      };\n\n      elem.style.MozUserSelect = selectable ? 'auto' : 'none';\n      elem.style.KhtmlUserSelect = selectable ? 'auto' : 'none';\n      elem.unselectable = selectable ? 'on' : 'off';\n\n    },\n\n    /**\n     *\n     * @param elem\n     * @param horizontal\n     * @param vertical\n     */\n    makeFullscreen: function(elem, horizontal, vertical) {\n\n      if (common.isUndefined(horizontal)) horizontal = true;\n      if (common.isUndefined(vertical)) vertical = true;\n\n      elem.style.position = 'absolute';\n\n      if (horizontal) {\n        elem.style.left = 0;\n        elem.style.right = 0;\n      }\n      if (vertical) {\n        elem.style.top = 0;\n        elem.style.bottom = 0;\n      }\n\n    },\n\n    /**\n     *\n     * @param elem\n     * @param eventType\n     * @param params\n     */\n    fakeEvent: function(elem, eventType, params, aux) {\n      params = params || {};\n      var className = EVENT_MAP_INV[eventType];\n      if (!className) {\n        throw new Error('Event type ' + eventType + ' not supported.');\n      }\n      var evt = document.createEvent(className);\n      switch (className) {\n        case 'MouseEvents':\n          var clientX = params.x || params.clientX || 0;\n          var clientY = params.y || params.clientY || 0;\n          evt.initMouseEvent(eventType, params.bubbles || false,\n              params.cancelable || true, window, params.clickCount || 1,\n              0, //screen X\n              0, //screen Y\n              clientX, //client X\n              clientY, //client Y\n              false, false, false, false, 0, null);\n          break;\n        case 'KeyboardEvents':\n          var init = evt.initKeyboardEvent || evt.initKeyEvent; // webkit || moz\n          common.defaults(params, {\n            cancelable: true,\n            ctrlKey: false,\n            altKey: false,\n            shiftKey: false,\n            metaKey: false,\n            keyCode: undefined,\n            charCode: undefined\n          });\n          init(eventType, params.bubbles || false,\n              params.cancelable, window,\n              params.ctrlKey, params.altKey,\n              params.shiftKey, params.metaKey,\n              params.keyCode, params.charCode);\n          break;\n        default:\n          evt.initEvent(eventType, params.bubbles || false,\n              params.cancelable || true);\n          break;\n      }\n      common.defaults(evt, aux);\n      elem.dispatchEvent(evt);\n    },\n\n    /**\n     *\n     * @param elem\n     * @param event\n     * @param func\n     * @param bool\n     */\n    bind: function(elem, event, func, bool) {\n      bool = bool || false;\n      if (elem.addEventListener)\n        elem.addEventListener(event, func, bool);\n      else if (elem.attachEvent)\n        elem.attachEvent('on' + event, func);\n      return dom;\n    },\n\n    /**\n     *\n     * @param elem\n     * @param event\n     * @param func\n     * @param bool\n     */\n    unbind: function(elem, event, func, bool) {\n      bool = bool || false;\n      if (elem.removeEventListener)\n        elem.removeEventListener(event, func, bool);\n      else if (elem.detachEvent)\n        elem.detachEvent('on' + event, func);\n      return dom;\n    },\n\n    /**\n     *\n     * @param elem\n     * @param className\n     */\n    addClass: function(elem, className) {\n      if (elem.className === undefined) {\n        elem.className = className;\n      } else if (elem.className !== className) {\n        var classes = elem.className.split(/ +/);\n        if (classes.indexOf(className) == -1) {\n          classes.push(className);\n          elem.className = classes.join(' ').replace(/^\\s+/, '').replace(/\\s+$/, '');\n        }\n      }\n      return dom;\n    },\n\n    /**\n     *\n     * @param elem\n     * @param className\n     */\n    removeClass: function(elem, className) {\n      if (className) {\n        if (elem.className === undefined) {\n          // elem.className = className;\n        } else if (elem.className === className) {\n          elem.removeAttribute('class');\n        } else {\n          var classes = elem.className.split(/ +/);\n          var index = classes.indexOf(className);\n          if (index != -1) {\n            classes.splice(index, 1);\n            elem.className = classes.join(' ');\n          }\n        }\n      } else {\n        elem.className = undefined;\n      }\n      return dom;\n    },\n\n    hasClass: function(elem, className) {\n      return new RegExp('(?:^|\\\\s+)' + className + '(?:\\\\s+|$)').test(elem.className) || false;\n    },\n\n    /**\n     *\n     * @param elem\n     */\n    getWidth: function(elem) {\n\n      var style = getComputedStyle(elem);\n\n      return cssValueToPixels(style['border-left-width']) +\n          cssValueToPixels(style['border-right-width']) +\n          cssValueToPixels(style['padding-left']) +\n          cssValueToPixels(style['padding-right']) +\n          cssValueToPixels(style['width']);\n    },\n\n    /**\n     *\n     * @param elem\n     */\n    getHeight: function(elem) {\n\n      var style = getComputedStyle(elem);\n\n      return cssValueToPixels(style['border-top-width']) +\n          cssValueToPixels(style['border-bottom-width']) +\n          cssValueToPixels(style['padding-top']) +\n          cssValueToPixels(style['padding-bottom']) +\n          cssValueToPixels(style['height']);\n    },\n\n    /**\n     *\n     * @param elem\n     */\n    getOffset: function(elem) {\n      var offset = {left: 0, top:0};\n      if (elem.offsetParent) {\n        do {\n          offset.left += elem.offsetLeft;\n          offset.top += elem.offsetTop;\n        } while (elem = elem.offsetParent);\n      }\n      return offset;\n    },\n\n    // http://stackoverflow.com/posts/2684561/revisions\n    /**\n     * \n     * @param elem\n     */\n    isActive: function(elem) {\n      return elem === document.activeElement && ( elem.type || elem.href );\n    }\n\n  };\n\n  return dom;\n\n})(dat.utils.common);\n\n\ndat.controllers.OptionController = (function (Controller, dom, common) {\n\n  /**\n   * @class Provides a select input to alter the property of an object, using a\n   * list of accepted values.\n   *\n   * @extends dat.controllers.Controller\n   *\n   * @param {Object} object The object to be manipulated\n   * @param {string} property The name of the property to be manipulated\n   * @param {Object|string[]} options A map of labels to acceptable values, or\n   * a list of acceptable string values.\n   *\n   * @member dat.controllers\n   */\n  var OptionController = function(object, property, options) {\n\n    OptionController.superclass.call(this, object, property);\n\n    var _this = this;\n\n    /**\n     * The drop down menu\n     * @ignore\n     */\n    this.__select = document.createElement('select');\n\n    if (common.isArray(options)) {\n      var map = {};\n      common.each(options, function(element) {\n        map[element] = element;\n      });\n      options = map;\n    }\n\n    common.each(options, function(value, key) {\n\n      var opt = document.createElement('option');\n      opt.innerHTML = key;\n      opt.setAttribute('value', value);\n      _this.__select.appendChild(opt);\n\n    });\n\n    // Acknowledge original value\n    this.updateDisplay();\n\n    dom.bind(this.__select, 'change', function() {\n      var desiredValue = this.options[this.selectedIndex].value;\n      _this.setValue(desiredValue);\n    });\n\n    this.domElement.appendChild(this.__select);\n\n  };\n\n  OptionController.superclass = Controller;\n\n  common.extend(\n\n      OptionController.prototype,\n      Controller.prototype,\n\n      {\n\n        setValue: function(v) {\n          var toReturn = OptionController.superclass.prototype.setValue.call(this, v);\n          if (this.__onFinishChange) {\n            this.__onFinishChange.call(this, this.getValue());\n          }\n          return toReturn;\n        },\n\n        updateDisplay: function() {\n          this.__select.value = this.getValue();\n          return OptionController.superclass.prototype.updateDisplay.call(this);\n        }\n\n      }\n\n  );\n\n  return OptionController;\n\n})(dat.controllers.Controller,\ndat.dom.dom,\ndat.utils.common);\n\n\ndat.controllers.NumberController = (function (Controller, common) {\n\n  /**\n   * @class Represents a given property of an object that is a number.\n   *\n   * @extends dat.controllers.Controller\n   *\n   * @param {Object} object The object to be manipulated\n   * @param {string} property The name of the property to be manipulated\n   * @param {Object} [params] Optional parameters\n   * @param {Number} [params.min] Minimum allowed value\n   * @param {Number} [params.max] Maximum allowed value\n   * @param {Number} [params.step] Increment by which to change value\n   *\n   * @member dat.controllers\n   */\n  var NumberController = function(object, property, params) {\n\n    NumberController.superclass.call(this, object, property);\n\n    params = params || {};\n\n    this.__min = params.min;\n    this.__max = params.max;\n    this.__step = params.step;\n\n    if (common.isUndefined(this.__step)) {\n\n      if (this.initialValue == 0) {\n        this.__impliedStep = 1; // What are we, psychics?\n      } else {\n        // Hey Doug, check this out.\n        this.__impliedStep = Math.pow(10, Math.floor(Math.log(this.initialValue)/Math.LN10))/10;\n      }\n\n    } else {\n\n      this.__impliedStep = this.__step;\n\n    }\n\n    this.__precision = numDecimals(this.__impliedStep);\n\n\n  };\n\n  NumberController.superclass = Controller;\n\n  common.extend(\n\n      NumberController.prototype,\n      Controller.prototype,\n\n      /** @lends dat.controllers.NumberController.prototype */\n      {\n\n        setValue: function(v) {\n\n          if (this.__min !== undefined && v < this.__min) {\n            v = this.__min;\n          } else if (this.__max !== undefined && v > this.__max) {\n            v = this.__max;\n          }\n\n          if (this.__step !== undefined && v % this.__step != 0) {\n            v = Math.round(v / this.__step) * this.__step;\n          }\n\n          return NumberController.superclass.prototype.setValue.call(this, v);\n\n        },\n\n        /**\n         * Specify a minimum value for <code>object[property]</code>.\n         *\n         * @param {Number} minValue The minimum value for\n         * <code>object[property]</code>\n         * @returns {dat.controllers.NumberController} this\n         */\n        min: function(v) {\n          this.__min = v;\n          return this;\n        },\n\n        /**\n         * Specify a maximum value for <code>object[property]</code>.\n         *\n         * @param {Number} maxValue The maximum value for\n         * <code>object[property]</code>\n         * @returns {dat.controllers.NumberController} this\n         */\n        max: function(v) {\n          this.__max = v;\n          return this;\n        },\n\n        /**\n         * Specify a step value that dat.controllers.NumberController\n         * increments by.\n         *\n         * @param {Number} stepValue The step value for\n         * dat.controllers.NumberController\n         * @default if minimum and maximum specified increment is 1% of the\n         * difference otherwise stepValue is 1\n         * @returns {dat.controllers.NumberController} this\n         */\n        step: function(v) {\n          this.__step = v;\n          return this;\n        }\n\n      }\n\n  );\n\n  function numDecimals(x) {\n    x = x.toString();\n    if (x.indexOf('.') > -1) {\n      return x.length - x.indexOf('.') - 1;\n    } else {\n      return 0;\n    }\n  }\n\n  return NumberController;\n\n})(dat.controllers.Controller,\ndat.utils.common);\n\n\ndat.controllers.NumberControllerBox = (function (NumberController, dom, common) {\n\n  /**\n   * @class Represents a given property of an object that is a number and\n   * provides an input element with which to manipulate it.\n   *\n   * @extends dat.controllers.Controller\n   * @extends dat.controllers.NumberController\n   *\n   * @param {Object} object The object to be manipulated\n   * @param {string} property The name of the property to be manipulated\n   * @param {Object} [params] Optional parameters\n   * @param {Number} [params.min] Minimum allowed value\n   * @param {Number} [params.max] Maximum allowed value\n   * @param {Number} [params.step] Increment by which to change value\n   *\n   * @member dat.controllers\n   */\n  var NumberControllerBox = function(object, property, params) {\n\n    this.__truncationSuspended = false;\n\n    NumberControllerBox.superclass.call(this, object, property, params);\n\n    var _this = this;\n\n    /**\n     * {Number} Previous mouse y position\n     * @ignore\n     */\n    var prev_y;\n\n    this.__input = document.createElement('input');\n    this.__input.setAttribute('type', 'text');\n\n    // Makes it so manually specified values are not truncated.\n\n    dom.bind(this.__input, 'change', onChange);\n    dom.bind(this.__input, 'blur', onBlur);\n    dom.bind(this.__input, 'mousedown', onMouseDown);\n    dom.bind(this.__input, 'keydown', function(e) {\n\n      // When pressing entire, you can be as precise as you want.\n      if (e.keyCode === 13) {\n        _this.__truncationSuspended = true;\n        this.blur();\n        _this.__truncationSuspended = false;\n      }\n\n    });\n\n    function onChange() {\n      var attempted = parseFloat(_this.__input.value);\n      if (!common.isNaN(attempted)) _this.setValue(attempted);\n    }\n\n    function onBlur() {\n      onChange();\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n\n    function onMouseDown(e) {\n      dom.bind(window, 'mousemove', onMouseDrag);\n      dom.bind(window, 'mouseup', onMouseUp);\n      prev_y = e.clientY;\n    }\n\n    function onMouseDrag(e) {\n\n      var diff = prev_y - e.clientY;\n      _this.setValue(_this.getValue() + diff * _this.__impliedStep);\n\n      prev_y = e.clientY;\n\n    }\n\n    function onMouseUp() {\n      dom.unbind(window, 'mousemove', onMouseDrag);\n      dom.unbind(window, 'mouseup', onMouseUp);\n    }\n\n    this.updateDisplay();\n\n    this.domElement.appendChild(this.__input);\n\n  };\n\n  NumberControllerBox.superclass = NumberController;\n\n  common.extend(\n\n      NumberControllerBox.prototype,\n      NumberController.prototype,\n\n      {\n\n        updateDisplay: function() {\n\n          this.__input.value = this.__truncationSuspended ? this.getValue() : roundToDecimal(this.getValue(), this.__precision);\n          return NumberControllerBox.superclass.prototype.updateDisplay.call(this);\n        }\n\n      }\n\n  );\n\n  function roundToDecimal(value, decimals) {\n    var tenTo = Math.pow(10, decimals);\n    return Math.round(value * tenTo) / tenTo;\n  }\n\n  return NumberControllerBox;\n\n})(dat.controllers.NumberController,\ndat.dom.dom,\ndat.utils.common);\n\n\ndat.controllers.NumberControllerSlider = (function (NumberController, dom, css, common, styleSheet) {\n\n  /**\n   * @class Represents a given property of an object that is a number, contains\n   * a minimum and maximum, and provides a slider element with which to\n   * manipulate it. It should be noted that the slider element is made up of\n   * <code>&lt;div&gt;</code> tags, <strong>not</strong> the html5\n   * <code>&lt;slider&gt;</code> element.\n   *\n   * @extends dat.controllers.Controller\n   * @extends dat.controllers.NumberController\n   * \n   * @param {Object} object The object to be manipulated\n   * @param {string} property The name of the property to be manipulated\n   * @param {Number} minValue Minimum allowed value\n   * @param {Number} maxValue Maximum allowed value\n   * @param {Number} stepValue Increment by which to change value\n   *\n   * @member dat.controllers\n   */\n  var NumberControllerSlider = function(object, property, min, max, step) {\n\n    NumberControllerSlider.superclass.call(this, object, property, { min: min, max: max, step: step });\n\n    var _this = this;\n\n    this.__background = document.createElement('div');\n    this.__foreground = document.createElement('div');\n    \n\n\n    dom.bind(this.__background, 'mousedown', onMouseDown);\n    \n    dom.addClass(this.__background, 'slider');\n    dom.addClass(this.__foreground, 'slider-fg');\n\n    function onMouseDown(e) {\n\n      dom.bind(window, 'mousemove', onMouseDrag);\n      dom.bind(window, 'mouseup', onMouseUp);\n\n      onMouseDrag(e);\n    }\n\n    function onMouseDrag(e) {\n\n      e.preventDefault();\n\n      var offset = dom.getOffset(_this.__background);\n      var width = dom.getWidth(_this.__background);\n      \n      _this.setValue(\n        map(e.clientX, offset.left, offset.left + width, _this.__min, _this.__max)\n      );\n\n      return false;\n\n    }\n\n    function onMouseUp() {\n      dom.unbind(window, 'mousemove', onMouseDrag);\n      dom.unbind(window, 'mouseup', onMouseUp);\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n\n    this.updateDisplay();\n\n    this.__background.appendChild(this.__foreground);\n    this.domElement.appendChild(this.__background);\n\n  };\n\n  NumberControllerSlider.superclass = NumberController;\n\n  /**\n   * Injects default stylesheet for slider elements.\n   */\n  NumberControllerSlider.useDefaultStyles = function() {\n    css.inject(styleSheet);\n  };\n\n  common.extend(\n\n      NumberControllerSlider.prototype,\n      NumberController.prototype,\n\n      {\n\n        updateDisplay: function() {\n          var pct = (this.getValue() - this.__min)/(this.__max - this.__min);\n          this.__foreground.style.width = pct*100+'%';\n          return NumberControllerSlider.superclass.prototype.updateDisplay.call(this);\n        }\n\n      }\n\n\n\n  );\n\n  function map(v, i1, i2, o1, o2) {\n    return o1 + (o2 - o1) * ((v - i1) / (i2 - i1));\n  }\n\n  return NumberControllerSlider;\n  \n})(dat.controllers.NumberController,\ndat.dom.dom,\ndat.utils.css,\ndat.utils.common,\n\".slider {\\n  box-shadow: inset 0 2px 4px rgba(0,0,0,0.15);\\n  height: 1em;\\n  border-radius: 1em;\\n  background-color: #eee;\\n  padding: 0 0.5em;\\n  overflow: hidden;\\n}\\n\\n.slider-fg {\\n  padding: 1px 0 2px 0;\\n  background-color: #aaa;\\n  height: 1em;\\n  margin-left: -0.5em;\\n  padding-right: 0.5em;\\n  border-radius: 1em 0 0 1em;\\n}\\n\\n.slider-fg:after {\\n  display: inline-block;\\n  border-radius: 1em;\\n  background-color: #fff;\\n  border:  1px solid #aaa;\\n  content: '';\\n  float: right;\\n  margin-right: -1em;\\n  margin-top: -1px;\\n  height: 0.9em;\\n  width: 0.9em;\\n}\");\n\n\ndat.controllers.FunctionController = (function (Controller, dom, common) {\n\n  /**\n   * @class Provides a GUI interface to fire a specified method, a property of an object.\n   *\n   * @extends dat.controllers.Controller\n   *\n   * @param {Object} object The object to be manipulated\n   * @param {string} property The name of the property to be manipulated\n   *\n   * @member dat.controllers\n   */\n  var FunctionController = function(object, property, text) {\n\n    FunctionController.superclass.call(this, object, property);\n\n    var _this = this;\n\n    this.__button = document.createElement('div');\n    this.__button.innerHTML = text === undefined ? 'Fire' : text;\n    dom.bind(this.__button, 'click', function(e) {\n      e.preventDefault();\n      _this.fire();\n      return false;\n    });\n\n    dom.addClass(this.__button, 'button');\n\n    this.domElement.appendChild(this.__button);\n\n\n  };\n\n  FunctionController.superclass = Controller;\n\n  common.extend(\n\n      FunctionController.prototype,\n      Controller.prototype,\n      {\n        \n        fire: function() {\n          if (this.__onChange) {\n            this.__onChange.call(this);\n          }\n          if (this.__onFinishChange) {\n            this.__onFinishChange.call(this, this.getValue());\n          }\n          this.getValue().call(this.object);\n        }\n      }\n\n  );\n\n  return FunctionController;\n\n})(dat.controllers.Controller,\ndat.dom.dom,\ndat.utils.common);\n\n\ndat.controllers.BooleanController = (function (Controller, dom, common) {\n\n  /**\n   * @class Provides a checkbox input to alter the boolean property of an object.\n   * @extends dat.controllers.Controller\n   *\n   * @param {Object} object The object to be manipulated\n   * @param {string} property The name of the property to be manipulated\n   *\n   * @member dat.controllers\n   */\n  var BooleanController = function(object, property) {\n\n    BooleanController.superclass.call(this, object, property);\n\n    var _this = this;\n    this.__prev = this.getValue();\n\n    this.__checkbox = document.createElement('input');\n    this.__checkbox.setAttribute('type', 'checkbox');\n\n\n    dom.bind(this.__checkbox, 'change', onChange, false);\n\n    this.domElement.appendChild(this.__checkbox);\n\n    // Match original value\n    this.updateDisplay();\n\n    function onChange() {\n      _this.setValue(!_this.__prev);\n    }\n\n  };\n\n  BooleanController.superclass = Controller;\n\n  common.extend(\n\n      BooleanController.prototype,\n      Controller.prototype,\n\n      {\n\n        setValue: function(v) {\n          var toReturn = BooleanController.superclass.prototype.setValue.call(this, v);\n          if (this.__onFinishChange) {\n            this.__onFinishChange.call(this, this.getValue());\n          }\n          this.__prev = this.getValue();\n          return toReturn;\n        },\n\n        updateDisplay: function() {\n          \n          if (this.getValue() === true) {\n            this.__checkbox.setAttribute('checked', 'checked');\n            this.__checkbox.checked = true;    \n          } else {\n              this.__checkbox.checked = false;\n          }\n\n          return BooleanController.superclass.prototype.updateDisplay.call(this);\n\n        }\n\n\n      }\n\n  );\n\n  return BooleanController;\n\n})(dat.controllers.Controller,\ndat.dom.dom,\ndat.utils.common);\n\n\ndat.color.toString = (function (common) {\n\n  return function(color) {\n\n    if (color.a == 1 || common.isUndefined(color.a)) {\n\n      var s = color.hex.toString(16);\n      while (s.length < 6) {\n        s = '0' + s;\n      }\n\n      return '#' + s;\n\n    } else {\n\n      return 'rgba(' + Math.round(color.r) + ',' + Math.round(color.g) + ',' + Math.round(color.b) + ',' + color.a + ')';\n\n    }\n\n  }\n\n})(dat.utils.common);\n\n\ndat.color.interpret = (function (toString, common) {\n\n  var result, toReturn;\n\n  var interpret = function() {\n\n    toReturn = false;\n\n    var original = arguments.length > 1 ? common.toArray(arguments) : arguments[0];\n\n    common.each(INTERPRETATIONS, function(family) {\n\n      if (family.litmus(original)) {\n\n        common.each(family.conversions, function(conversion, conversionName) {\n\n          result = conversion.read(original);\n\n          if (toReturn === false && result !== false) {\n            toReturn = result;\n            result.conversionName = conversionName;\n            result.conversion = conversion;\n            return common.BREAK;\n\n          }\n\n        });\n\n        return common.BREAK;\n\n      }\n\n    });\n\n    return toReturn;\n\n  };\n\n  var INTERPRETATIONS = [\n\n    // Strings\n    {\n\n      litmus: common.isString,\n\n      conversions: {\n\n        THREE_CHAR_HEX: {\n\n          read: function(original) {\n\n            var test = original.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);\n            if (test === null) return false;\n\n            return {\n              space: 'HEX',\n              hex: parseInt(\n                  '0x' +\n                      test[1].toString() + test[1].toString() +\n                      test[2].toString() + test[2].toString() +\n                      test[3].toString() + test[3].toString())\n            };\n\n          },\n\n          write: toString\n\n        },\n\n        SIX_CHAR_HEX: {\n\n          read: function(original) {\n\n            var test = original.match(/^#([A-F0-9]{6})$/i);\n            if (test === null) return false;\n\n            return {\n              space: 'HEX',\n              hex: parseInt('0x' + test[1].toString())\n            };\n\n          },\n\n          write: toString\n\n        },\n\n        CSS_RGB: {\n\n          read: function(original) {\n\n            var test = original.match(/^rgb\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/);\n            if (test === null) return false;\n\n            return {\n              space: 'RGB',\n              r: parseFloat(test[1]),\n              g: parseFloat(test[2]),\n              b: parseFloat(test[3])\n            };\n\n          },\n\n          write: toString\n\n        },\n\n        CSS_RGBA: {\n\n          read: function(original) {\n\n            var test = original.match(/^rgba\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\,\\s*(.+)\\s*\\)/);\n            if (test === null) return false;\n\n            return {\n              space: 'RGB',\n              r: parseFloat(test[1]),\n              g: parseFloat(test[2]),\n              b: parseFloat(test[3]),\n              a: parseFloat(test[4])\n            };\n\n          },\n\n          write: toString\n\n        }\n\n      }\n\n    },\n\n    // Numbers\n    {\n\n      litmus: common.isNumber,\n\n      conversions: {\n\n        HEX: {\n          read: function(original) {\n            return {\n              space: 'HEX',\n              hex: original,\n              conversionName: 'HEX'\n            }\n          },\n\n          write: function(color) {\n            return color.hex;\n          }\n        }\n\n      }\n\n    },\n\n    // Arrays\n    {\n\n      litmus: common.isArray,\n\n      conversions: {\n\n        RGB_ARRAY: {\n          read: function(original) {\n            if (original.length != 3) return false;\n            return {\n              space: 'RGB',\n              r: original[0],\n              g: original[1],\n              b: original[2]\n            };\n          },\n\n          write: function(color) {\n            return [color.r, color.g, color.b];\n          }\n\n        },\n\n        RGBA_ARRAY: {\n          read: function(original) {\n            if (original.length != 4) return false;\n            return {\n              space: 'RGB',\n              r: original[0],\n              g: original[1],\n              b: original[2],\n              a: original[3]\n            };\n          },\n\n          write: function(color) {\n            return [color.r, color.g, color.b, color.a];\n          }\n\n        }\n\n      }\n\n    },\n\n    // Objects\n    {\n\n      litmus: common.isObject,\n\n      conversions: {\n\n        RGBA_OBJ: {\n          read: function(original) {\n            if (common.isNumber(original.r) &&\n                common.isNumber(original.g) &&\n                common.isNumber(original.b) &&\n                common.isNumber(original.a)) {\n              return {\n                space: 'RGB',\n                r: original.r,\n                g: original.g,\n                b: original.b,\n                a: original.a\n              }\n            }\n            return false;\n          },\n\n          write: function(color) {\n            return {\n              r: color.r,\n              g: color.g,\n              b: color.b,\n              a: color.a\n            }\n          }\n        },\n\n        RGB_OBJ: {\n          read: function(original) {\n            if (common.isNumber(original.r) &&\n                common.isNumber(original.g) &&\n                common.isNumber(original.b)) {\n              return {\n                space: 'RGB',\n                r: original.r,\n                g: original.g,\n                b: original.b\n              }\n            }\n            return false;\n          },\n\n          write: function(color) {\n            return {\n              r: color.r,\n              g: color.g,\n              b: color.b\n            }\n          }\n        },\n\n        HSVA_OBJ: {\n          read: function(original) {\n            if (common.isNumber(original.h) &&\n                common.isNumber(original.s) &&\n                common.isNumber(original.v) &&\n                common.isNumber(original.a)) {\n              return {\n                space: 'HSV',\n                h: original.h,\n                s: original.s,\n                v: original.v,\n                a: original.a\n              }\n            }\n            return false;\n          },\n\n          write: function(color) {\n            return {\n              h: color.h,\n              s: color.s,\n              v: color.v,\n              a: color.a\n            }\n          }\n        },\n\n        HSV_OBJ: {\n          read: function(original) {\n            if (common.isNumber(original.h) &&\n                common.isNumber(original.s) &&\n                common.isNumber(original.v)) {\n              return {\n                space: 'HSV',\n                h: original.h,\n                s: original.s,\n                v: original.v\n              }\n            }\n            return false;\n          },\n\n          write: function(color) {\n            return {\n              h: color.h,\n              s: color.s,\n              v: color.v\n            }\n          }\n\n        }\n\n      }\n\n    }\n\n\n  ];\n\n  return interpret;\n\n\n})(dat.color.toString,\ndat.utils.common);\n\n\ndat.GUI = dat.gui.GUI = (function (css, saveDialogueContents, styleSheet, controllerFactory, Controller, BooleanController, FunctionController, NumberControllerBox, NumberControllerSlider, OptionController, ColorController, requestAnimationFrame, CenteredDiv, dom, common) {\n\n  css.inject(styleSheet);\n\n  /** Outer-most className for GUI's */\n  var CSS_NAMESPACE = 'dg';\n\n  var HIDE_KEY_CODE = 72;\n\n  /** The only value shared between the JS and SCSS. Use caution. */\n  var CLOSE_BUTTON_HEIGHT = 20;\n\n  var DEFAULT_DEFAULT_PRESET_NAME = 'Default';\n\n  var SUPPORTS_LOCAL_STORAGE = (function() {\n    try {\n      return 'localStorage' in window && window['localStorage'] !== null;\n    } catch (e) {\n      return false;\n    }\n  })();\n\n  var SAVE_DIALOGUE;\n\n  /** Have we yet to create an autoPlace GUI? */\n  var auto_place_virgin = true;\n\n  /** Fixed position div that auto place GUI's go inside */\n  var auto_place_container;\n\n  /** Are we hiding the GUI's ? */\n  var hide = false;\n\n  /** GUI's which should be hidden */\n  var hideable_guis = [];\n\n  /**\n   * A lightweight controller library for JavaScript. It allows you to easily\n   * manipulate variables and fire functions on the fly.\n   * @class\n   *\n   * @member dat.gui\n   *\n   * @param {Object} [params]\n   * @param {String} [params.name] The name of this GUI.\n   * @param {Object} [params.load] JSON object representing the saved state of\n   * this GUI.\n   * @param {Boolean} [params.auto=true]\n   * @param {dat.gui.GUI} [params.parent] The GUI I'm nested in.\n   * @param {Boolean} [params.closed] If true, starts closed\n   */\n  var GUI = function(params) {\n\n    var _this = this;\n\n    /**\n     * Outermost DOM Element\n     * @type DOMElement\n     */\n    this.domElement = document.createElement('div');\n    this.__ul = document.createElement('ul');\n    this.domElement.appendChild(this.__ul);\n\n    dom.addClass(this.domElement, CSS_NAMESPACE);\n\n    /**\n     * Nested GUI's by name\n     * @ignore\n     */\n    this.__folders = {};\n\n    this.__controllers = [];\n\n    /**\n     * List of objects I'm remembering for save, only used in top level GUI\n     * @ignore\n     */\n    this.__rememberedObjects = [];\n\n    /**\n     * Maps the index of remembered objects to a map of controllers, only used\n     * in top level GUI.\n     *\n     * @private\n     * @ignore\n     *\n     * @example\n     * [\n     *  {\n     *    propertyName: Controller,\n     *    anotherPropertyName: Controller\n     *  },\n     *  {\n     *    propertyName: Controller\n     *  }\n     * ]\n     */\n    this.__rememberedObjectIndecesToControllers = [];\n\n    this.__listening = [];\n\n    params = params || {};\n\n    // Default parameters\n    params = common.defaults(params, {\n      autoPlace: true,\n      width: GUI.DEFAULT_WIDTH\n    });\n\n    params = common.defaults(params, {\n      resizable: params.autoPlace,\n      hideable: params.autoPlace\n    });\n\n\n    if (!common.isUndefined(params.load)) {\n\n      // Explicit preset\n      if (params.preset) params.load.preset = params.preset;\n\n    } else {\n\n      params.load = { preset: DEFAULT_DEFAULT_PRESET_NAME };\n\n    }\n\n    if (common.isUndefined(params.parent) && params.hideable) {\n      hideable_guis.push(this);\n    }\n\n    // Only root level GUI's are resizable.\n    params.resizable = common.isUndefined(params.parent) && params.resizable;\n\n\n    if (params.autoPlace && common.isUndefined(params.scrollable)) {\n      params.scrollable = true;\n    }\n//    params.scrollable = common.isUndefined(params.parent) && params.scrollable === true;\n\n    // Not part of params because I don't want people passing this in via\n    // constructor. Should be a 'remembered' value.\n    var use_local_storage =\n        SUPPORTS_LOCAL_STORAGE &&\n            localStorage.getItem(getLocalStorageHash(this, 'isLocal')) === 'true';\n\n    Object.defineProperties(this,\n\n        /** @lends dat.gui.GUI.prototype */\n        {\n\n          /**\n           * The parent <code>GUI</code>\n           * @type dat.gui.GUI\n           */\n          parent: {\n            get: function() {\n              return params.parent;\n            }\n          },\n\n          scrollable: {\n            get: function() {\n              return params.scrollable;\n            }\n          },\n\n          /**\n           * Handles <code>GUI</code>'s element placement for you\n           * @type Boolean\n           */\n          autoPlace: {\n            get: function() {\n              return params.autoPlace;\n            }\n          },\n\n          /**\n           * The identifier for a set of saved values\n           * @type String\n           */\n          preset: {\n\n            get: function() {\n              if (_this.parent) {\n                return _this.getRoot().preset;\n              } else {\n                return params.load.preset;\n              }\n            },\n\n            set: function(v) {\n              if (_this.parent) {\n                _this.getRoot().preset = v;\n              } else {\n                params.load.preset = v;\n              }\n              setPresetSelectIndex(this);\n              _this.revert();\n            }\n\n          },\n\n          /**\n           * The width of <code>GUI</code> element\n           * @type Number\n           */\n          width: {\n            get: function() {\n              return params.width;\n            },\n            set: function(v) {\n              params.width = v;\n              setWidth(_this, v);\n            }\n          },\n\n          /**\n           * The name of <code>GUI</code>. Used for folders. i.e\n           * a folder's name\n           * @type String\n           */\n          name: {\n            get: function() {\n              return params.name;\n            },\n            set: function(v) {\n              // TODO Check for collisions among sibling folders\n              params.name = v;\n              if (title_row_name) {\n                title_row_name.innerHTML = params.name;\n              }\n            }\n          },\n\n          /**\n           * Whether the <code>GUI</code> is collapsed or not\n           * @type Boolean\n           */\n          closed: {\n            get: function() {\n              return params.closed;\n            },\n            set: function(v) {\n              params.closed = v;\n              if (params.closed) {\n                dom.addClass(_this.__ul, GUI.CLASS_CLOSED);\n              } else {\n                dom.removeClass(_this.__ul, GUI.CLASS_CLOSED);\n              }\n              // For browsers that aren't going to respect the CSS transition,\n              // Lets just check our height against the window height right off\n              // the bat.\n              this.onResize();\n\n              if (_this.__closeButton) {\n                _this.__closeButton.innerHTML = v ? GUI.TEXT_OPEN : GUI.TEXT_CLOSED;\n              }\n            }\n          },\n\n          /**\n           * Contains all presets\n           * @type Object\n           */\n          load: {\n            get: function() {\n              return params.load;\n            }\n          },\n\n          /**\n           * Determines whether or not to use <a href=\"https://developer.mozilla.org/en/DOM/Storage#localStorage\">localStorage</a> as the means for\n           * <code>remember</code>ing\n           * @type Boolean\n           */\n          useLocalStorage: {\n\n            get: function() {\n              return use_local_storage;\n            },\n            set: function(bool) {\n              if (SUPPORTS_LOCAL_STORAGE) {\n                use_local_storage = bool;\n                if (bool) {\n                  dom.bind(window, 'unload', saveToLocalStorage);\n                } else {\n                  dom.unbind(window, 'unload', saveToLocalStorage);\n                }\n                localStorage.setItem(getLocalStorageHash(_this, 'isLocal'), bool);\n              }\n            }\n\n          }\n\n        });\n\n    // Are we a root level GUI?\n    if (common.isUndefined(params.parent)) {\n\n      params.closed = false;\n\n      dom.addClass(this.domElement, GUI.CLASS_MAIN);\n      dom.makeSelectable(this.domElement, false);\n\n      // Are we supposed to be loading locally?\n      if (SUPPORTS_LOCAL_STORAGE) {\n\n        if (use_local_storage) {\n\n          _this.useLocalStorage = true;\n\n          var saved_gui = localStorage.getItem(getLocalStorageHash(this, 'gui'));\n\n          if (saved_gui) {\n            params.load = JSON.parse(saved_gui);\n          }\n\n        }\n\n      }\n\n      this.__closeButton = document.createElement('div');\n      this.__closeButton.innerHTML = GUI.TEXT_CLOSED;\n      dom.addClass(this.__closeButton, GUI.CLASS_CLOSE_BUTTON);\n      this.domElement.appendChild(this.__closeButton);\n\n      dom.bind(this.__closeButton, 'click', function() {\n\n        _this.closed = !_this.closed;\n\n\n      });\n\n\n      // Oh, you're a nested GUI!\n    } else {\n\n      if (params.closed === undefined) {\n        params.closed = true;\n      }\n\n      var title_row_name = document.createTextNode(params.name);\n      dom.addClass(title_row_name, 'controller-name');\n\n      var title_row = addRow(_this, title_row_name);\n\n      var on_click_title = function(e) {\n        e.preventDefault();\n        _this.closed = !_this.closed;\n        return false;\n      };\n\n      dom.addClass(this.__ul, GUI.CLASS_CLOSED);\n\n      dom.addClass(title_row, 'title');\n      dom.bind(title_row, 'click', on_click_title);\n\n      if (!params.closed) {\n        this.closed = false;\n      }\n\n    }\n\n    if (params.autoPlace) {\n\n      if (common.isUndefined(params.parent)) {\n\n        if (auto_place_virgin) {\n          auto_place_container = document.createElement('div');\n          dom.addClass(auto_place_container, CSS_NAMESPACE);\n          dom.addClass(auto_place_container, GUI.CLASS_AUTO_PLACE_CONTAINER);\n          document.body.appendChild(auto_place_container);\n          auto_place_virgin = false;\n        }\n\n        // Put it in the dom for you.\n        auto_place_container.appendChild(this.domElement);\n\n        // Apply the auto styles\n        dom.addClass(this.domElement, GUI.CLASS_AUTO_PLACE);\n\n      }\n\n\n      // Make it not elastic.\n      if (!this.parent) setWidth(_this, params.width);\n\n    }\n\n    dom.bind(window, 'resize', function() { _this.onResize() });\n    dom.bind(this.__ul, 'webkitTransitionEnd', function() { _this.onResize(); });\n    dom.bind(this.__ul, 'transitionend', function() { _this.onResize() });\n    dom.bind(this.__ul, 'oTransitionEnd', function() { _this.onResize() });\n    this.onResize();\n\n\n    if (params.resizable) {\n      addResizeHandle(this);\n    }\n\n    function saveToLocalStorage() {\n      localStorage.setItem(getLocalStorageHash(_this, 'gui'), JSON.stringify(_this.getSaveObject()));\n    }\n\n    var root = _this.getRoot();\n    function resetWidth() {\n        var root = _this.getRoot();\n        root.width += 1;\n        common.defer(function() {\n          root.width -= 1;\n        });\n      }\n\n      if (!params.parent) {\n        resetWidth();\n      }\n\n  };\n\n  GUI.toggleHide = function() {\n\n    hide = !hide;\n    common.each(hideable_guis, function(gui) {\n      gui.domElement.style.zIndex = hide ? -999 : 999;\n      gui.domElement.style.opacity = hide ? 0 : 1;\n    });\n  };\n\n  GUI.CLASS_AUTO_PLACE = 'a';\n  GUI.CLASS_AUTO_PLACE_CONTAINER = 'ac';\n  GUI.CLASS_MAIN = 'main';\n  GUI.CLASS_CONTROLLER_ROW = 'cr';\n  GUI.CLASS_TOO_TALL = 'taller-than-window';\n  GUI.CLASS_CLOSED = 'closed';\n  GUI.CLASS_CLOSE_BUTTON = 'close-button';\n  GUI.CLASS_DRAG = 'drag';\n\n  GUI.DEFAULT_WIDTH = 245;\n  GUI.TEXT_CLOSED = 'Close Controls';\n  GUI.TEXT_OPEN = 'Open Controls';\n\n  dom.bind(window, 'keydown', function(e) {\n\n    if (document.activeElement.type !== 'text' &&\n        (e.which === HIDE_KEY_CODE || e.keyCode == HIDE_KEY_CODE)) {\n      GUI.toggleHide();\n    }\n\n  }, false);\n\n  common.extend(\n\n      GUI.prototype,\n\n      /** @lends dat.gui.GUI */\n      {\n\n        /**\n         * @param object\n         * @param property\n         * @returns {dat.controllers.Controller} The new controller that was added.\n         * @instance\n         */\n        add: function(object, property) {\n\n          return add(\n              this,\n              object,\n              property,\n              {\n                factoryArgs: Array.prototype.slice.call(arguments, 2)\n              }\n          );\n\n        },\n\n        /**\n         * @param object\n         * @param property\n         * @returns {dat.controllers.ColorController} The new controller that was added.\n         * @instance\n         */\n        addColor: function(object, property) {\n\n          return add(\n              this,\n              object,\n              property,\n              {\n                color: true\n              }\n          );\n\n        },\n\n        /**\n         * @param controller\n         * @instance\n         */\n        remove: function(controller) {\n\n          // TODO listening?\n          this.__ul.removeChild(controller.__li);\n          this.__controllers.slice(this.__controllers.indexOf(controller), 1);\n          var _this = this;\n          common.defer(function() {\n            _this.onResize();\n          });\n\n        },\n\n        destroy: function() {\n\n          if (this.autoPlace) {\n            auto_place_container.removeChild(this.domElement);\n          }\n\n        },\n\n        /**\n         * @param name\n         * @returns {dat.gui.GUI} The new folder.\n         * @throws {Error} if this GUI already has a folder by the specified\n         * name\n         * @instance\n         */\n        addFolder: function(name) {\n\n          // We have to prevent collisions on names in order to have a key\n          // by which to remember saved values\n          if (this.__folders[name] !== undefined) {\n            throw new Error('You already have a folder in this GUI by the' +\n                ' name \"' + name + '\"');\n          }\n\n          var new_gui_params = { name: name, parent: this };\n\n          // We need to pass down the autoPlace trait so that we can\n          // attach event listeners to open/close folder actions to\n          // ensure that a scrollbar appears if the window is too short.\n          new_gui_params.autoPlace = this.autoPlace;\n\n          // Do we have saved appearance data for this folder?\n\n          if (this.load && // Anything loaded?\n              this.load.folders && // Was my parent a dead-end?\n              this.load.folders[name]) { // Did daddy remember me?\n\n            // Start me closed if I was closed\n            new_gui_params.closed = this.load.folders[name].closed;\n\n            // Pass down the loaded data\n            new_gui_params.load = this.load.folders[name];\n\n          }\n\n          var gui = new GUI(new_gui_params);\n          this.__folders[name] = gui;\n\n          var li = addRow(this, gui.domElement);\n          dom.addClass(li, 'folder');\n          return gui;\n\n        },\n\n        open: function() {\n          this.closed = false;\n        },\n\n        close: function() {\n          this.closed = true;\n        },\n\n        onResize: function() {\n\n          var root = this.getRoot();\n\n          if (root.scrollable) {\n\n            var top = dom.getOffset(root.__ul).top;\n            var h = 0;\n\n            common.each(root.__ul.childNodes, function(node) {\n              if (! (root.autoPlace && node === root.__save_row))\n                h += dom.getHeight(node);\n            });\n\n            if (window.innerHeight - top - CLOSE_BUTTON_HEIGHT < h) {\n              dom.addClass(root.domElement, GUI.CLASS_TOO_TALL);\n              root.__ul.style.height = window.innerHeight - top - CLOSE_BUTTON_HEIGHT + 'px';\n            } else {\n              dom.removeClass(root.domElement, GUI.CLASS_TOO_TALL);\n              root.__ul.style.height = 'auto';\n            }\n\n          }\n\n          if (root.__resize_handle) {\n            common.defer(function() {\n              root.__resize_handle.style.height = root.__ul.offsetHeight + 'px';\n            });\n          }\n\n          if (root.__closeButton) {\n            root.__closeButton.style.width = root.width + 'px';\n          }\n\n        },\n\n        /**\n         * Mark objects for saving. The order of these objects cannot change as\n         * the GUI grows. When remembering new objects, append them to the end\n         * of the list.\n         *\n         * @param {Object...} objects\n         * @throws {Error} if not called on a top level GUI.\n         * @instance\n         */\n        remember: function() {\n\n          if (common.isUndefined(SAVE_DIALOGUE)) {\n            SAVE_DIALOGUE = new CenteredDiv();\n            SAVE_DIALOGUE.domElement.innerHTML = saveDialogueContents;\n          }\n\n          if (this.parent) {\n            throw new Error(\"You can only call remember on a top level GUI.\");\n          }\n\n          var _this = this;\n\n          common.each(Array.prototype.slice.call(arguments), function(object) {\n            if (_this.__rememberedObjects.length == 0) {\n              addSaveMenu(_this);\n            }\n            if (_this.__rememberedObjects.indexOf(object) == -1) {\n              _this.__rememberedObjects.push(object);\n            }\n          });\n\n          if (this.autoPlace) {\n            // Set save row width\n            setWidth(this, this.width);\n          }\n\n        },\n\n        /**\n         * @returns {dat.gui.GUI} the topmost parent GUI of a nested GUI.\n         * @instance\n         */\n        getRoot: function() {\n          var gui = this;\n          while (gui.parent) {\n            gui = gui.parent;\n          }\n          return gui;\n        },\n\n        /**\n         * @returns {Object} a JSON object representing the current state of\n         * this GUI as well as its remembered properties.\n         * @instance\n         */\n        getSaveObject: function() {\n\n          var toReturn = this.load;\n\n          toReturn.closed = this.closed;\n\n          // Am I remembering any values?\n          if (this.__rememberedObjects.length > 0) {\n\n            toReturn.preset = this.preset;\n\n            if (!toReturn.remembered) {\n              toReturn.remembered = {};\n            }\n\n            toReturn.remembered[this.preset] = getCurrentPreset(this);\n\n          }\n\n          toReturn.folders = {};\n          common.each(this.__folders, function(element, key) {\n            toReturn.folders[key] = element.getSaveObject();\n          });\n\n          return toReturn;\n\n        },\n\n        save: function() {\n\n          if (!this.load.remembered) {\n            this.load.remembered = {};\n          }\n\n          this.load.remembered[this.preset] = getCurrentPreset(this);\n          markPresetModified(this, false);\n\n        },\n\n        saveAs: function(presetName) {\n\n          if (!this.load.remembered) {\n\n            // Retain default values upon first save\n            this.load.remembered = {};\n            this.load.remembered[DEFAULT_DEFAULT_PRESET_NAME] = getCurrentPreset(this, true);\n\n          }\n\n          this.load.remembered[presetName] = getCurrentPreset(this);\n          this.preset = presetName;\n          addPresetOption(this, presetName, true);\n\n        },\n\n        revert: function(gui) {\n\n          common.each(this.__controllers, function(controller) {\n            // Make revert work on Default.\n            if (!this.getRoot().load.remembered) {\n              controller.setValue(controller.initialValue);\n            } else {\n              recallSavedValue(gui || this.getRoot(), controller);\n            }\n          }, this);\n\n          common.each(this.__folders, function(folder) {\n            folder.revert(folder);\n          });\n\n          if (!gui) {\n            markPresetModified(this.getRoot(), false);\n          }\n\n\n        },\n\n        listen: function(controller) {\n\n          var init = this.__listening.length == 0;\n          this.__listening.push(controller);\n          if (init) updateDisplays(this.__listening);\n\n        }\n\n      }\n\n  );\n\n  function add(gui, object, property, params) {\n\n    if (object[property] === undefined) {\n      throw new Error(\"Object \" + object + \" has no property \\\"\" + property + \"\\\"\");\n    }\n\n    var controller;\n\n    if (params.color) {\n\n      controller = new ColorController(object, property);\n\n    } else {\n\n      var factoryArgs = [object,property].concat(params.factoryArgs);\n      controller = controllerFactory.apply(gui, factoryArgs);\n\n    }\n\n    if (params.before instanceof Controller) {\n      params.before = params.before.__li;\n    }\n\n    recallSavedValue(gui, controller);\n\n    dom.addClass(controller.domElement, 'c');\n\n    var name = document.createElement('span');\n    dom.addClass(name, 'property-name');\n    name.innerHTML = controller.property;\n\n    var container = document.createElement('div');\n    container.appendChild(name);\n    container.appendChild(controller.domElement);\n\n    var li = addRow(gui, container, params.before);\n\n    dom.addClass(li, GUI.CLASS_CONTROLLER_ROW);\n    dom.addClass(li, typeof controller.getValue());\n\n    augmentController(gui, li, controller);\n\n    gui.__controllers.push(controller);\n\n    return controller;\n\n  }\n\n  /**\n   * Add a row to the end of the GUI or before another row.\n   *\n   * @param gui\n   * @param [dom] If specified, inserts the dom content in the new row\n   * @param [liBefore] If specified, places the new row before another row\n   */\n  function addRow(gui, dom, liBefore) {\n    var li = document.createElement('li');\n    if (dom) li.appendChild(dom);\n    if (liBefore) {\n      gui.__ul.insertBefore(li, params.before);\n    } else {\n      gui.__ul.appendChild(li);\n    }\n    gui.onResize();\n    return li;\n  }\n\n  function augmentController(gui, li, controller) {\n\n    controller.__li = li;\n    controller.__gui = gui;\n\n    common.extend(controller, {\n\n      options: function(options) {\n\n        if (arguments.length > 1) {\n          controller.remove();\n\n          return add(\n              gui,\n              controller.object,\n              controller.property,\n              {\n                before: controller.__li.nextElementSibling,\n                factoryArgs: [common.toArray(arguments)]\n              }\n          );\n\n        }\n\n        if (common.isArray(options) || common.isObject(options)) {\n          controller.remove();\n\n          return add(\n              gui,\n              controller.object,\n              controller.property,\n              {\n                before: controller.__li.nextElementSibling,\n                factoryArgs: [options]\n              }\n          );\n\n        }\n\n      },\n\n      name: function(v) {\n        controller.__li.firstElementChild.firstElementChild.innerHTML = v;\n        return controller;\n      },\n\n      listen: function() {\n        controller.__gui.listen(controller);\n        return controller;\n      },\n\n      remove: function() {\n        controller.__gui.remove(controller);\n        return controller;\n      }\n\n    });\n\n    // All sliders should be accompanied by a box.\n    if (controller instanceof NumberControllerSlider) {\n\n      var box = new NumberControllerBox(controller.object, controller.property,\n          { min: controller.__min, max: controller.__max, step: controller.__step });\n\n      common.each(['updateDisplay', 'onChange', 'onFinishChange'], function(method) {\n        var pc = controller[method];\n        var pb = box[method];\n        controller[method] = box[method] = function() {\n          var args = Array.prototype.slice.call(arguments);\n          pc.apply(controller, args);\n          return pb.apply(box, args);\n        }\n      });\n\n      dom.addClass(li, 'has-slider');\n      controller.domElement.insertBefore(box.domElement, controller.domElement.firstElementChild);\n\n    }\n    else if (controller instanceof NumberControllerBox) {\n\n      var r = function(returned) {\n\n        // Have we defined both boundaries?\n        if (common.isNumber(controller.__min) && common.isNumber(controller.__max)) {\n\n          // Well, then lets just replace this with a slider.\n          controller.remove();\n          return add(\n              gui,\n              controller.object,\n              controller.property,\n              {\n                before: controller.__li.nextElementSibling,\n                factoryArgs: [controller.__min, controller.__max, controller.__step]\n              });\n\n        }\n\n        return returned;\n\n      };\n\n      controller.min = common.compose(r, controller.min);\n      controller.max = common.compose(r, controller.max);\n\n    }\n    else if (controller instanceof BooleanController) {\n\n      dom.bind(li, 'click', function() {\n        dom.fakeEvent(controller.__checkbox, 'click');\n      });\n\n      dom.bind(controller.__checkbox, 'click', function(e) {\n        e.stopPropagation(); // Prevents double-toggle\n      })\n\n    }\n    else if (controller instanceof FunctionController) {\n\n      dom.bind(li, 'click', function() {\n        dom.fakeEvent(controller.__button, 'click');\n      });\n\n      dom.bind(li, 'mouseover', function() {\n        dom.addClass(controller.__button, 'hover');\n      });\n\n      dom.bind(li, 'mouseout', function() {\n        dom.removeClass(controller.__button, 'hover');\n      });\n\n    }\n    else if (controller instanceof ColorController) {\n\n      dom.addClass(li, 'color');\n      controller.updateDisplay = common.compose(function(r) {\n        li.style.borderLeftColor = controller.__color.toString();\n        return r;\n      }, controller.updateDisplay);\n\n      controller.updateDisplay();\n\n    }\n\n    controller.setValue = common.compose(function(r) {\n      if (gui.getRoot().__preset_select && controller.isModified()) {\n        markPresetModified(gui.getRoot(), true);\n      }\n      return r;\n    }, controller.setValue);\n\n  }\n\n  function recallSavedValue(gui, controller) {\n\n    // Find the topmost GUI, that's where remembered objects live.\n    var root = gui.getRoot();\n\n    // Does the object we're controlling match anything we've been told to\n    // remember?\n    var matched_index = root.__rememberedObjects.indexOf(controller.object);\n\n    // Why yes, it does!\n    if (matched_index != -1) {\n\n      // Let me fetch a map of controllers for thcommon.isObject.\n      var controller_map =\n          root.__rememberedObjectIndecesToControllers[matched_index];\n\n      // Ohp, I believe this is the first controller we've created for this\n      // object. Lets make the map fresh.\n      if (controller_map === undefined) {\n        controller_map = {};\n        root.__rememberedObjectIndecesToControllers[matched_index] =\n            controller_map;\n      }\n\n      // Keep track of this controller\n      controller_map[controller.property] = controller;\n\n      // Okay, now have we saved any values for this controller?\n      if (root.load && root.load.remembered) {\n\n        var preset_map = root.load.remembered;\n\n        // Which preset are we trying to load?\n        var preset;\n\n        if (preset_map[gui.preset]) {\n\n          preset = preset_map[gui.preset];\n\n        } else if (preset_map[DEFAULT_DEFAULT_PRESET_NAME]) {\n\n          // Uhh, you can have the default instead?\n          preset = preset_map[DEFAULT_DEFAULT_PRESET_NAME];\n\n        } else {\n\n          // Nada.\n\n          return;\n\n        }\n\n\n        // Did the loaded object remember thcommon.isObject?\n        if (preset[matched_index] &&\n\n          // Did we remember this particular property?\n            preset[matched_index][controller.property] !== undefined) {\n\n          // We did remember something for this guy ...\n          var value = preset[matched_index][controller.property];\n\n          // And that's what it is.\n          controller.initialValue = value;\n          controller.setValue(value);\n\n        }\n\n      }\n\n    }\n\n  }\n\n  function getLocalStorageHash(gui, key) {\n    // TODO how does this deal with multiple GUI's?\n    return document.location.href + '.' + key;\n\n  }\n\n  function addSaveMenu(gui) {\n\n    var div = gui.__save_row = document.createElement('li');\n\n    dom.addClass(gui.domElement, 'has-save');\n\n    gui.__ul.insertBefore(div, gui.__ul.firstChild);\n\n    dom.addClass(div, 'save-row');\n\n    var gears = document.createElement('span');\n    gears.innerHTML = '&nbsp;';\n    dom.addClass(gears, 'button gears');\n\n    // TODO replace with FunctionController\n    var button = document.createElement('span');\n    button.innerHTML = 'Save';\n    dom.addClass(button, 'button');\n    dom.addClass(button, 'save');\n\n    var button2 = document.createElement('span');\n    button2.innerHTML = 'New';\n    dom.addClass(button2, 'button');\n    dom.addClass(button2, 'save-as');\n\n    var button3 = document.createElement('span');\n    button3.innerHTML = 'Revert';\n    dom.addClass(button3, 'button');\n    dom.addClass(button3, 'revert');\n\n    var select = gui.__preset_select = document.createElement('select');\n\n    if (gui.load && gui.load.remembered) {\n\n      common.each(gui.load.remembered, function(value, key) {\n        addPresetOption(gui, key, key == gui.preset);\n      });\n\n    } else {\n      addPresetOption(gui, DEFAULT_DEFAULT_PRESET_NAME, false);\n    }\n\n    dom.bind(select, 'change', function() {\n\n\n      for (var index = 0; index < gui.__preset_select.length; index++) {\n        gui.__preset_select[index].innerHTML = gui.__preset_select[index].value;\n      }\n\n      gui.preset = this.value;\n\n    });\n\n    div.appendChild(select);\n    div.appendChild(gears);\n    div.appendChild(button);\n    div.appendChild(button2);\n    div.appendChild(button3);\n\n    if (SUPPORTS_LOCAL_STORAGE) {\n\n      var saveLocally = document.getElementById('dg-save-locally');\n      var explain = document.getElementById('dg-local-explain');\n\n      saveLocally.style.display = 'block';\n\n      var localStorageCheckBox = document.getElementById('dg-local-storage');\n\n      if (localStorage.getItem(getLocalStorageHash(gui, 'isLocal')) === 'true') {\n        localStorageCheckBox.setAttribute('checked', 'checked');\n      }\n\n      function showHideExplain() {\n        explain.style.display = gui.useLocalStorage ? 'block' : 'none';\n      }\n\n      showHideExplain();\n\n      // TODO: Use a boolean controller, fool!\n      dom.bind(localStorageCheckBox, 'change', function() {\n        gui.useLocalStorage = !gui.useLocalStorage;\n        showHideExplain();\n      });\n\n    }\n\n    var newConstructorTextArea = document.getElementById('dg-new-constructor');\n\n    dom.bind(newConstructorTextArea, 'keydown', function(e) {\n      if (e.metaKey && (e.which === 67 || e.keyCode == 67)) {\n        SAVE_DIALOGUE.hide();\n      }\n    });\n\n    dom.bind(gears, 'click', function() {\n      newConstructorTextArea.innerHTML = JSON.stringify(gui.getSaveObject(), undefined, 2);\n      SAVE_DIALOGUE.show();\n      newConstructorTextArea.focus();\n      newConstructorTextArea.select();\n    });\n\n    dom.bind(button, 'click', function() {\n      gui.save();\n    });\n\n    dom.bind(button2, 'click', function() {\n      var presetName = prompt('Enter a new preset name.');\n      if (presetName) gui.saveAs(presetName);\n    });\n\n    dom.bind(button3, 'click', function() {\n      gui.revert();\n    });\n\n//    div.appendChild(button2);\n\n  }\n\n  function addResizeHandle(gui) {\n\n    gui.__resize_handle = document.createElement('div');\n\n    common.extend(gui.__resize_handle.style, {\n\n      width: '6px',\n      marginLeft: '-3px',\n      height: '200px',\n      cursor: 'ew-resize',\n      position: 'absolute'\n//      border: '1px solid blue'\n\n    });\n\n    var pmouseX;\n\n    dom.bind(gui.__resize_handle, 'mousedown', dragStart);\n    dom.bind(gui.__closeButton, 'mousedown', dragStart);\n\n    gui.domElement.insertBefore(gui.__resize_handle, gui.domElement.firstElementChild);\n\n    function dragStart(e) {\n\n      e.preventDefault();\n\n      pmouseX = e.clientX;\n\n      dom.addClass(gui.__closeButton, GUI.CLASS_DRAG);\n      dom.bind(window, 'mousemove', drag);\n      dom.bind(window, 'mouseup', dragStop);\n\n      return false;\n\n    }\n\n    function drag(e) {\n\n      e.preventDefault();\n\n      gui.width += pmouseX - e.clientX;\n      gui.onResize();\n      pmouseX = e.clientX;\n\n      return false;\n\n    }\n\n    function dragStop() {\n\n      dom.removeClass(gui.__closeButton, GUI.CLASS_DRAG);\n      dom.unbind(window, 'mousemove', drag);\n      dom.unbind(window, 'mouseup', dragStop);\n\n    }\n\n  }\n\n  function setWidth(gui, w) {\n    gui.domElement.style.width = w + 'px';\n    // Auto placed save-rows are position fixed, so we have to\n    // set the width manually if we want it to bleed to the edge\n    if (gui.__save_row && gui.autoPlace) {\n      gui.__save_row.style.width = w + 'px';\n    }if (gui.__closeButton) {\n      gui.__closeButton.style.width = w + 'px';\n    }\n  }\n\n  function getCurrentPreset(gui, useInitialValues) {\n\n    var toReturn = {};\n\n    // For each object I'm remembering\n    common.each(gui.__rememberedObjects, function(val, index) {\n\n      var saved_values = {};\n\n      // The controllers I've made for thcommon.isObject by property\n      var controller_map =\n          gui.__rememberedObjectIndecesToControllers[index];\n\n      // Remember each value for each property\n      common.each(controller_map, function(controller, property) {\n        saved_values[property] = useInitialValues ? controller.initialValue : controller.getValue();\n      });\n\n      // Save the values for thcommon.isObject\n      toReturn[index] = saved_values;\n\n    });\n\n    return toReturn;\n\n  }\n\n  function addPresetOption(gui, name, setSelected) {\n    var opt = document.createElement('option');\n    opt.innerHTML = name;\n    opt.value = name;\n    gui.__preset_select.appendChild(opt);\n    if (setSelected) {\n      gui.__preset_select.selectedIndex = gui.__preset_select.length - 1;\n    }\n  }\n\n  function setPresetSelectIndex(gui) {\n    for (var index = 0; index < gui.__preset_select.length; index++) {\n      if (gui.__preset_select[index].value == gui.preset) {\n        gui.__preset_select.selectedIndex = index;\n      }\n    }\n  }\n\n  function markPresetModified(gui, modified) {\n    var opt = gui.__preset_select[gui.__preset_select.selectedIndex];\n//    console.log('mark', modified, opt);\n    if (modified) {\n      opt.innerHTML = opt.value + \"*\";\n    } else {\n      opt.innerHTML = opt.value;\n    }\n  }\n\n  function updateDisplays(controllerArray) {\n\n\n    if (controllerArray.length != 0) {\n\n      requestAnimationFrame(function() {\n        updateDisplays(controllerArray);\n      });\n\n    }\n\n    common.each(controllerArray, function(c) {\n      c.updateDisplay();\n    });\n\n  }\n\n  return GUI;\n\n})(dat.utils.css,\n\"<div id=\\\"dg-save\\\" class=\\\"dg dialogue\\\">\\n\\n  Here's the new load parameter for your <code>GUI</code>'s constructor:\\n\\n  <textarea id=\\\"dg-new-constructor\\\"></textarea>\\n\\n  <div id=\\\"dg-save-locally\\\">\\n\\n    <input id=\\\"dg-local-storage\\\" type=\\\"checkbox\\\"/> Automatically save\\n    values to <code>localStorage</code> on exit.\\n\\n    <div id=\\\"dg-local-explain\\\">The values saved to <code>localStorage</code> will\\n      override those passed to <code>dat.GUI</code>'s constructor. This makes it\\n      easier to work incrementally, but <code>localStorage</code> is fragile,\\n      and your friends may not see the same values you do.\\n      \\n    </div>\\n    \\n  </div>\\n\\n</div>\",\n\".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear;border:0;position:absolute;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-x:hidden}.dg.a.has-save ul{margin-top:27px}.dg.a.has-save ul.closed{margin-top:0}.dg.a .save-row{position:fixed;top:0;z-index:1002}.dg li{-webkit-transition:height 0.1s ease-out;-o-transition:height 0.1s ease-out;-moz-transition:height 0.1s ease-out;transition:height 0.1s ease-out}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;overflow:hidden;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li > *{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:9px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2fa1d6}.dg .cr.number input[type=text]{color:#2fa1d6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2fa1d6}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\\n\",\ndat.controllers.factory = (function (OptionController, NumberControllerBox, NumberControllerSlider, StringController, FunctionController, BooleanController, common) {\n\n      return function(object, property) {\n\n        var initialValue = object[property];\n\n        // Providing options?\n        if (common.isArray(arguments[2]) || common.isObject(arguments[2])) {\n          return new OptionController(object, property, arguments[2]);\n        }\n\n        // Providing a map?\n\n        if (common.isNumber(initialValue)) {\n\n          if (common.isNumber(arguments[2]) && common.isNumber(arguments[3])) {\n\n            // Has min and max.\n            return new NumberControllerSlider(object, property, arguments[2], arguments[3]);\n\n          } else {\n\n            return new NumberControllerBox(object, property, { min: arguments[2], max: arguments[3] });\n\n          }\n\n        }\n\n        if (common.isString(initialValue)) {\n          return new StringController(object, property);\n        }\n\n        if (common.isFunction(initialValue)) {\n          return new FunctionController(object, property, '');\n        }\n\n        if (common.isBoolean(initialValue)) {\n          return new BooleanController(object, property);\n        }\n\n      }\n\n    })(dat.controllers.OptionController,\ndat.controllers.NumberControllerBox,\ndat.controllers.NumberControllerSlider,\ndat.controllers.StringController = (function (Controller, dom, common) {\n\n  /**\n   * @class Provides a text input to alter the string property of an object.\n   *\n   * @extends dat.controllers.Controller\n   *\n   * @param {Object} object The object to be manipulated\n   * @param {string} property The name of the property to be manipulated\n   *\n   * @member dat.controllers\n   */\n  var StringController = function(object, property) {\n\n    StringController.superclass.call(this, object, property);\n\n    var _this = this;\n\n    this.__input = document.createElement('input');\n    this.__input.setAttribute('type', 'text');\n\n    dom.bind(this.__input, 'keyup', onChange);\n    dom.bind(this.__input, 'change', onChange);\n    dom.bind(this.__input, 'blur', onBlur);\n    dom.bind(this.__input, 'keydown', function(e) {\n      if (e.keyCode === 13) {\n        this.blur();\n      }\n    });\n    \n\n    function onChange() {\n      _this.setValue(_this.__input.value);\n    }\n\n    function onBlur() {\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n\n    this.updateDisplay();\n\n    this.domElement.appendChild(this.__input);\n\n  };\n\n  StringController.superclass = Controller;\n\n  common.extend(\n\n      StringController.prototype,\n      Controller.prototype,\n\n      {\n\n        updateDisplay: function() {\n          // Stops the caret from moving on account of:\n          // keyup -> setValue -> updateDisplay\n          if (!dom.isActive(this.__input)) {\n            this.__input.value = this.getValue();\n          }\n          return StringController.superclass.prototype.updateDisplay.call(this);\n        }\n\n      }\n\n  );\n\n  return StringController;\n\n})(dat.controllers.Controller,\ndat.dom.dom,\ndat.utils.common),\ndat.controllers.FunctionController,\ndat.controllers.BooleanController,\ndat.utils.common),\ndat.controllers.Controller,\ndat.controllers.BooleanController,\ndat.controllers.FunctionController,\ndat.controllers.NumberControllerBox,\ndat.controllers.NumberControllerSlider,\ndat.controllers.OptionController,\ndat.controllers.ColorController = (function (Controller, dom, Color, interpret, common) {\n\n  var ColorController = function(object, property) {\n\n    ColorController.superclass.call(this, object, property);\n\n    this.__color = new Color(this.getValue());\n    this.__temp = new Color(0);\n\n    var _this = this;\n\n    this.domElement = document.createElement('div');\n\n    dom.makeSelectable(this.domElement, false);\n\n    this.__selector = document.createElement('div');\n    this.__selector.className = 'selector';\n\n    this.__saturation_field = document.createElement('div');\n    this.__saturation_field.className = 'saturation-field';\n\n    this.__field_knob = document.createElement('div');\n    this.__field_knob.className = 'field-knob';\n    this.__field_knob_border = '2px solid ';\n\n    this.__hue_knob = document.createElement('div');\n    this.__hue_knob.className = 'hue-knob';\n\n    this.__hue_field = document.createElement('div');\n    this.__hue_field.className = 'hue-field';\n\n    this.__input = document.createElement('input');\n    this.__input.type = 'text';\n    this.__input_textShadow = '0 1px 1px ';\n\n    dom.bind(this.__input, 'keydown', function(e) {\n      if (e.keyCode === 13) { // on enter\n        onBlur.call(this);\n      }\n    });\n\n    dom.bind(this.__input, 'blur', onBlur);\n\n    dom.bind(this.__selector, 'mousedown', function(e) {\n\n      dom\n        .addClass(this, 'drag')\n        .bind(window, 'mouseup', function(e) {\n          dom.removeClass(_this.__selector, 'drag');\n        });\n\n    });\n\n    var value_field = document.createElement('div');\n\n    common.extend(this.__selector.style, {\n      width: '122px',\n      height: '102px',\n      padding: '3px',\n      backgroundColor: '#222',\n      boxShadow: '0px 1px 3px rgba(0,0,0,0.3)'\n    });\n\n    common.extend(this.__field_knob.style, {\n      position: 'absolute',\n      width: '12px',\n      height: '12px',\n      border: this.__field_knob_border + (this.__color.v < .5 ? '#fff' : '#000'),\n      boxShadow: '0px 1px 3px rgba(0,0,0,0.5)',\n      borderRadius: '12px',\n      zIndex: 1\n    });\n    \n    common.extend(this.__hue_knob.style, {\n      position: 'absolute',\n      width: '15px',\n      height: '2px',\n      borderRight: '4px solid #fff',\n      zIndex: 1\n    });\n\n    common.extend(this.__saturation_field.style, {\n      width: '100px',\n      height: '100px',\n      border: '1px solid #555',\n      marginRight: '3px',\n      display: 'inline-block',\n      cursor: 'pointer'\n    });\n\n    common.extend(value_field.style, {\n      width: '100%',\n      height: '100%',\n      background: 'none'\n    });\n    \n    linearGradient(value_field, 'top', 'rgba(0,0,0,0)', '#000');\n\n    common.extend(this.__hue_field.style, {\n      width: '15px',\n      height: '100px',\n      display: 'inline-block',\n      border: '1px solid #555',\n      cursor: 'ns-resize'\n    });\n\n    hueGradient(this.__hue_field);\n\n    common.extend(this.__input.style, {\n      outline: 'none',\n//      width: '120px',\n      textAlign: 'center',\n//      padding: '4px',\n//      marginBottom: '6px',\n      color: '#fff',\n      border: 0,\n      fontWeight: 'bold',\n      textShadow: this.__input_textShadow + 'rgba(0,0,0,0.7)'\n    });\n\n    dom.bind(this.__saturation_field, 'mousedown', fieldDown);\n    dom.bind(this.__field_knob, 'mousedown', fieldDown);\n\n    dom.bind(this.__hue_field, 'mousedown', function(e) {\n      setH(e);\n      dom.bind(window, 'mousemove', setH);\n      dom.bind(window, 'mouseup', unbindH);\n    });\n\n    function fieldDown(e) {\n      setSV(e);\n      // document.body.style.cursor = 'none';\n      dom.bind(window, 'mousemove', setSV);\n      dom.bind(window, 'mouseup', unbindSV);\n    }\n\n    function unbindSV() {\n      dom.unbind(window, 'mousemove', setSV);\n      dom.unbind(window, 'mouseup', unbindSV);\n      // document.body.style.cursor = 'default';\n    }\n\n    function onBlur() {\n      var i = interpret(this.value);\n      if (i !== false) {\n        _this.__color.__state = i;\n        _this.setValue(_this.__color.toOriginal());\n      } else {\n        this.value = _this.__color.toString();\n      }\n    }\n\n    function unbindH() {\n      dom.unbind(window, 'mousemove', setH);\n      dom.unbind(window, 'mouseup', unbindH);\n    }\n\n    this.__saturation_field.appendChild(value_field);\n    this.__selector.appendChild(this.__field_knob);\n    this.__selector.appendChild(this.__saturation_field);\n    this.__selector.appendChild(this.__hue_field);\n    this.__hue_field.appendChild(this.__hue_knob);\n\n    this.domElement.appendChild(this.__input);\n    this.domElement.appendChild(this.__selector);\n\n    this.updateDisplay();\n\n    function setSV(e) {\n\n      e.preventDefault();\n\n      var w = dom.getWidth(_this.__saturation_field);\n      var o = dom.getOffset(_this.__saturation_field);\n      var s = (e.clientX - o.left + document.body.scrollLeft) / w;\n      var v = 1 - (e.clientY - o.top + document.body.scrollTop) / w;\n\n      if (v > 1) v = 1;\n      else if (v < 0) v = 0;\n\n      if (s > 1) s = 1;\n      else if (s < 0) s = 0;\n\n      _this.__color.v = v;\n      _this.__color.s = s;\n\n      _this.setValue(_this.__color.toOriginal());\n\n\n      return false;\n\n    }\n\n    function setH(e) {\n\n      e.preventDefault();\n\n      var s = dom.getHeight(_this.__hue_field);\n      var o = dom.getOffset(_this.__hue_field);\n      var h = 1 - (e.clientY - o.top + document.body.scrollTop) / s;\n\n      if (h > 1) h = 1;\n      else if (h < 0) h = 0;\n\n      _this.__color.h = h * 360;\n\n      _this.setValue(_this.__color.toOriginal());\n\n      return false;\n\n    }\n\n  };\n\n  ColorController.superclass = Controller;\n\n  common.extend(\n\n      ColorController.prototype,\n      Controller.prototype,\n\n      {\n\n        updateDisplay: function() {\n\n          var i = interpret(this.getValue());\n\n          if (i !== false) {\n\n            var mismatch = false;\n\n            // Check for mismatch on the interpreted value.\n\n            common.each(Color.COMPONENTS, function(component) {\n              if (!common.isUndefined(i[component]) &&\n                  !common.isUndefined(this.__color.__state[component]) &&\n                  i[component] !== this.__color.__state[component]) {\n                mismatch = true;\n                return {}; // break\n              }\n            }, this);\n\n            // If nothing diverges, we keep our previous values\n            // for statefulness, otherwise we recalculate fresh\n            if (mismatch) {\n              common.extend(this.__color.__state, i);\n            }\n\n          }\n\n          common.extend(this.__temp.__state, this.__color.__state);\n\n          this.__temp.a = 1;\n\n          var flip = (this.__color.v < .5 || this.__color.s > .5) ? 255 : 0;\n          var _flip = 255 - flip;\n\n          common.extend(this.__field_knob.style, {\n            marginLeft: 100 * this.__color.s - 7 + 'px',\n            marginTop: 100 * (1 - this.__color.v) - 7 + 'px',\n            backgroundColor: this.__temp.toString(),\n            border: this.__field_knob_border + 'rgb(' + flip + ',' + flip + ',' + flip +')'\n          });\n\n          this.__hue_knob.style.marginTop = (1 - this.__color.h / 360) * 100 + 'px'\n\n          this.__temp.s = 1;\n          this.__temp.v = 1;\n\n          linearGradient(this.__saturation_field, 'left', '#fff', this.__temp.toString());\n\n          common.extend(this.__input.style, {\n            backgroundColor: this.__input.value = this.__color.toString(),\n            color: 'rgb(' + flip + ',' + flip + ',' + flip +')',\n            textShadow: this.__input_textShadow + 'rgba(' + _flip + ',' + _flip + ',' + _flip +',.7)'\n          });\n\n        }\n\n      }\n\n  );\n  \n  var vendors = ['-moz-','-o-','-webkit-','-ms-',''];\n  \n  function linearGradient(elem, x, a, b) {\n    elem.style.background = '';\n    common.each(vendors, function(vendor) {\n      elem.style.cssText += 'background: ' + vendor + 'linear-gradient('+x+', '+a+' 0%, ' + b + ' 100%); ';\n    });\n  }\n  \n  function hueGradient(elem) {\n    elem.style.background = '';\n    elem.style.cssText += 'background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);'\n    elem.style.cssText += 'background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);'\n    elem.style.cssText += 'background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);'\n    elem.style.cssText += 'background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);'\n    elem.style.cssText += 'background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);'\n  }\n\n\n  return ColorController;\n\n})(dat.controllers.Controller,\ndat.dom.dom,\ndat.color.Color = (function (interpret, math, toString, common) {\n\n  var Color = function() {\n\n    this.__state = interpret.apply(this, arguments);\n\n    if (this.__state === false) {\n      throw 'Failed to interpret color arguments';\n    }\n\n    this.__state.a = this.__state.a || 1;\n\n\n  };\n\n  Color.COMPONENTS = ['r','g','b','h','s','v','hex','a'];\n\n  common.extend(Color.prototype, {\n\n    toString: function() {\n      return toString(this);\n    },\n\n    toOriginal: function() {\n      return this.__state.conversion.write(this);\n    }\n\n  });\n\n  defineRGBComponent(Color.prototype, 'r', 2);\n  defineRGBComponent(Color.prototype, 'g', 1);\n  defineRGBComponent(Color.prototype, 'b', 0);\n\n  defineHSVComponent(Color.prototype, 'h');\n  defineHSVComponent(Color.prototype, 's');\n  defineHSVComponent(Color.prototype, 'v');\n\n  Object.defineProperty(Color.prototype, 'a', {\n\n    get: function() {\n      return this.__state.a;\n    },\n\n    set: function(v) {\n      this.__state.a = v;\n    }\n\n  });\n\n  Object.defineProperty(Color.prototype, 'hex', {\n\n    get: function() {\n\n      if (!this.__state.space !== 'HEX') {\n        this.__state.hex = math.rgb_to_hex(this.r, this.g, this.b);\n      }\n\n      return this.__state.hex;\n\n    },\n\n    set: function(v) {\n\n      this.__state.space = 'HEX';\n      this.__state.hex = v;\n\n    }\n\n  });\n\n  function defineRGBComponent(target, component, componentHexIndex) {\n\n    Object.defineProperty(target, component, {\n\n      get: function() {\n\n        if (this.__state.space === 'RGB') {\n          return this.__state[component];\n        }\n\n        recalculateRGB(this, component, componentHexIndex);\n\n        return this.__state[component];\n\n      },\n\n      set: function(v) {\n\n        if (this.__state.space !== 'RGB') {\n          recalculateRGB(this, component, componentHexIndex);\n          this.__state.space = 'RGB';\n        }\n\n        this.__state[component] = v;\n\n      }\n\n    });\n\n  }\n\n  function defineHSVComponent(target, component) {\n\n    Object.defineProperty(target, component, {\n\n      get: function() {\n\n        if (this.__state.space === 'HSV')\n          return this.__state[component];\n\n        recalculateHSV(this);\n\n        return this.__state[component];\n\n      },\n\n      set: function(v) {\n\n        if (this.__state.space !== 'HSV') {\n          recalculateHSV(this);\n          this.__state.space = 'HSV';\n        }\n\n        this.__state[component] = v;\n\n      }\n\n    });\n\n  }\n\n  function recalculateRGB(color, component, componentHexIndex) {\n\n    if (color.__state.space === 'HEX') {\n\n      color.__state[component] = math.component_from_hex(color.__state.hex, componentHexIndex);\n\n    } else if (color.__state.space === 'HSV') {\n\n      common.extend(color.__state, math.hsv_to_rgb(color.__state.h, color.__state.s, color.__state.v));\n\n    } else {\n\n      throw 'Corrupted color state';\n\n    }\n\n  }\n\n  function recalculateHSV(color) {\n\n    var result = math.rgb_to_hsv(color.r, color.g, color.b);\n\n    common.extend(color.__state,\n        {\n          s: result.s,\n          v: result.v\n        }\n    );\n\n    if (!common.isNaN(result.h)) {\n      color.__state.h = result.h;\n    } else if (common.isUndefined(color.__state.h)) {\n      color.__state.h = 0;\n    }\n\n  }\n\n  return Color;\n\n})(dat.color.interpret,\ndat.color.math = (function () {\n\n  var tmpComponent;\n\n  return {\n\n    hsv_to_rgb: function(h, s, v) {\n\n      var hi = Math.floor(h / 60) % 6;\n\n      var f = h / 60 - Math.floor(h / 60);\n      var p = v * (1.0 - s);\n      var q = v * (1.0 - (f * s));\n      var t = v * (1.0 - ((1.0 - f) * s));\n      var c = [\n        [v, t, p],\n        [q, v, p],\n        [p, v, t],\n        [p, q, v],\n        [t, p, v],\n        [v, p, q]\n      ][hi];\n\n      return {\n        r: c[0] * 255,\n        g: c[1] * 255,\n        b: c[2] * 255\n      };\n\n    },\n\n    rgb_to_hsv: function(r, g, b) {\n\n      var min = Math.min(r, g, b),\n          max = Math.max(r, g, b),\n          delta = max - min,\n          h, s;\n\n      if (max != 0) {\n        s = delta / max;\n      } else {\n        return {\n          h: NaN,\n          s: 0,\n          v: 0\n        };\n      }\n\n      if (r == max) {\n        h = (g - b) / delta;\n      } else if (g == max) {\n        h = 2 + (b - r) / delta;\n      } else {\n        h = 4 + (r - g) / delta;\n      }\n      h /= 6;\n      if (h < 0) {\n        h += 1;\n      }\n\n      return {\n        h: h * 360,\n        s: s,\n        v: max / 255\n      };\n    },\n\n    rgb_to_hex: function(r, g, b) {\n      var hex = this.hex_with_component(0, 2, r);\n      hex = this.hex_with_component(hex, 1, g);\n      hex = this.hex_with_component(hex, 0, b);\n      return hex;\n    },\n\n    component_from_hex: function(hex, componentIndex) {\n      return (hex >> (componentIndex * 8)) & 0xFF;\n    },\n\n    hex_with_component: function(hex, componentIndex, value) {\n      return value << (tmpComponent = componentIndex * 8) | (hex & ~ (0xFF << tmpComponent));\n    }\n\n  }\n\n})(),\ndat.color.toString,\ndat.utils.common),\ndat.color.interpret,\ndat.utils.common),\ndat.utils.requestAnimationFrame = (function () {\n\n  /**\n   * requirejs version of Paul Irish's RequestAnimationFrame\n   * http://paulirish.com/2011/requestanimationframe-for-smart-animating/\n   */\n\n  return window.webkitRequestAnimationFrame ||\n      window.mozRequestAnimationFrame ||\n      window.oRequestAnimationFrame ||\n      window.msRequestAnimationFrame ||\n      function(callback, element) {\n\n        window.setTimeout(callback, 1000 / 60);\n\n      };\n})(),\ndat.dom.CenteredDiv = (function (dom, common) {\n\n\n  var CenteredDiv = function() {\n\n    this.backgroundElement = document.createElement('div');\n    common.extend(this.backgroundElement.style, {\n      backgroundColor: 'rgba(0,0,0,0.8)',\n      top: 0,\n      left: 0,\n      display: 'none',\n      zIndex: '1000',\n      opacity: 0,\n      WebkitTransition: 'opacity 0.2s linear'\n    });\n\n    dom.makeFullscreen(this.backgroundElement);\n    this.backgroundElement.style.position = 'fixed';\n\n    this.domElement = document.createElement('div');\n    common.extend(this.domElement.style, {\n      position: 'fixed',\n      display: 'none',\n      zIndex: '1001',\n      opacity: 0,\n      WebkitTransition: '-webkit-transform 0.2s ease-out, opacity 0.2s linear'\n    });\n\n\n    document.body.appendChild(this.backgroundElement);\n    document.body.appendChild(this.domElement);\n\n    var _this = this;\n    dom.bind(this.backgroundElement, 'click', function() {\n      _this.hide();\n    });\n\n\n  };\n\n  CenteredDiv.prototype.show = function() {\n\n    var _this = this;\n    \n\n\n    this.backgroundElement.style.display = 'block';\n\n    this.domElement.style.display = 'block';\n    this.domElement.style.opacity = 0;\n//    this.domElement.style.top = '52%';\n    this.domElement.style.webkitTransform = 'scale(1.1)';\n\n    this.layout();\n\n    common.defer(function() {\n      _this.backgroundElement.style.opacity = 1;\n      _this.domElement.style.opacity = 1;\n      _this.domElement.style.webkitTransform = 'scale(1)';\n    });\n\n  };\n\n  CenteredDiv.prototype.hide = function() {\n\n    var _this = this;\n\n    var hide = function() {\n\n      _this.domElement.style.display = 'none';\n      _this.backgroundElement.style.display = 'none';\n\n      dom.unbind(_this.domElement, 'webkitTransitionEnd', hide);\n      dom.unbind(_this.domElement, 'transitionend', hide);\n      dom.unbind(_this.domElement, 'oTransitionEnd', hide);\n\n    };\n\n    dom.bind(this.domElement, 'webkitTransitionEnd', hide);\n    dom.bind(this.domElement, 'transitionend', hide);\n    dom.bind(this.domElement, 'oTransitionEnd', hide);\n\n    this.backgroundElement.style.opacity = 0;\n//    this.domElement.style.top = '48%';\n    this.domElement.style.opacity = 0;\n    this.domElement.style.webkitTransform = 'scale(1.1)';\n\n  };\n\n  CenteredDiv.prototype.layout = function() {\n    this.domElement.style.left = window.innerWidth/2 - dom.getWidth(this.domElement) / 2 + 'px';\n    this.domElement.style.top = window.innerHeight/2 - dom.getHeight(this.domElement) / 2 + 'px';\n  };\n  \n  function lockScroll(e) {\n    console.log(e);\n  }\n\n  return CenteredDiv;\n\n})(dat.dom.dom,\ndat.utils.common),\ndat.dom.dom,\ndat.utils.common);",
    "/**\n * @license\n * lodash 3.10.1 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern -d -o ./index.js`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n;(function() {\n\n  /** Used as a safe reference for `undefined` in pre-ES5 environments. */\n  var undefined;\n\n  /** Used as the semantic version number. */\n  var VERSION = '3.10.1';\n\n  /** Used to compose bitmasks for wrapper metadata. */\n  var BIND_FLAG = 1,\n      BIND_KEY_FLAG = 2,\n      CURRY_BOUND_FLAG = 4,\n      CURRY_FLAG = 8,\n      CURRY_RIGHT_FLAG = 16,\n      PARTIAL_FLAG = 32,\n      PARTIAL_RIGHT_FLAG = 64,\n      ARY_FLAG = 128,\n      REARG_FLAG = 256;\n\n  /** Used as default options for `_.trunc`. */\n  var DEFAULT_TRUNC_LENGTH = 30,\n      DEFAULT_TRUNC_OMISSION = '...';\n\n  /** Used to detect when a function becomes hot. */\n  var HOT_COUNT = 150,\n      HOT_SPAN = 16;\n\n  /** Used as the size to enable large array optimizations. */\n  var LARGE_ARRAY_SIZE = 200;\n\n  /** Used to indicate the type of lazy iteratees. */\n  var LAZY_FILTER_FLAG = 1,\n      LAZY_MAP_FLAG = 2;\n\n  /** Used as the `TypeError` message for \"Functions\" methods. */\n  var FUNC_ERROR_TEXT = 'Expected a function';\n\n  /** Used as the internal argument placeholder. */\n  var PLACEHOLDER = '__lodash_placeholder__';\n\n  /** `Object#toString` result references. */\n  var argsTag = '[object Arguments]',\n      arrayTag = '[object Array]',\n      boolTag = '[object Boolean]',\n      dateTag = '[object Date]',\n      errorTag = '[object Error]',\n      funcTag = '[object Function]',\n      mapTag = '[object Map]',\n      numberTag = '[object Number]',\n      objectTag = '[object Object]',\n      regexpTag = '[object RegExp]',\n      setTag = '[object Set]',\n      stringTag = '[object String]',\n      weakMapTag = '[object WeakMap]';\n\n  var arrayBufferTag = '[object ArrayBuffer]',\n      float32Tag = '[object Float32Array]',\n      float64Tag = '[object Float64Array]',\n      int8Tag = '[object Int8Array]',\n      int16Tag = '[object Int16Array]',\n      int32Tag = '[object Int32Array]',\n      uint8Tag = '[object Uint8Array]',\n      uint8ClampedTag = '[object Uint8ClampedArray]',\n      uint16Tag = '[object Uint16Array]',\n      uint32Tag = '[object Uint32Array]';\n\n  /** Used to match empty string literals in compiled template source. */\n  var reEmptyStringLeading = /\\b__p \\+= '';/g,\n      reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\n      reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n\n  /** Used to match HTML entities and HTML characters. */\n  var reEscapedHtml = /&(?:amp|lt|gt|quot|#39|#96);/g,\n      reUnescapedHtml = /[&<>\"'`]/g,\n      reHasEscapedHtml = RegExp(reEscapedHtml.source),\n      reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\n\n  /** Used to match template delimiters. */\n  var reEscape = /<%-([\\s\\S]+?)%>/g,\n      reEvaluate = /<%([\\s\\S]+?)%>/g,\n      reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\n  /** Used to match property names within property paths. */\n  var reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\n\\\\]|\\\\.)*?\\1)\\]/,\n      reIsPlainProp = /^\\w*$/,\n      rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\n\\\\]|\\\\.)*?)\\2)\\]/g;\n\n  /**\n   * Used to match `RegExp` [syntax characters](http://ecma-international.org/ecma-262/6.0/#sec-patterns)\n   * and those outlined by [`EscapeRegExpPattern`](http://ecma-international.org/ecma-262/6.0/#sec-escaperegexppattern).\n   */\n  var reRegExpChars = /^[:!,]|[\\\\^$.*+?()[\\]{}|\\/]|(^[0-9a-fA-Fnrtuvx])|([\\n\\r\\u2028\\u2029])/g,\n      reHasRegExpChars = RegExp(reRegExpChars.source);\n\n  /** Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks). */\n  var reComboMark = /[\\u0300-\\u036f\\ufe20-\\ufe23]/g;\n\n  /** Used to match backslashes in property paths. */\n  var reEscapeChar = /\\\\(\\\\)?/g;\n\n  /** Used to match [ES template delimiters](http://ecma-international.org/ecma-262/6.0/#sec-template-literal-lexical-components). */\n  var reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n\n  /** Used to match `RegExp` flags from their coerced string values. */\n  var reFlags = /\\w*$/;\n\n  /** Used to detect hexadecimal string values. */\n  var reHasHexPrefix = /^0[xX]/;\n\n  /** Used to detect host constructors (Safari > 5). */\n  var reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n  /** Used to detect unsigned integer values. */\n  var reIsUint = /^\\d+$/;\n\n  /** Used to match latin-1 supplementary letters (excluding mathematical operators). */\n  var reLatin1 = /[\\xc0-\\xd6\\xd8-\\xde\\xdf-\\xf6\\xf8-\\xff]/g;\n\n  /** Used to ensure capturing order of template delimiters. */\n  var reNoMatch = /($^)/;\n\n  /** Used to match unescaped characters in compiled string literals. */\n  var reUnescapedString = /['\\n\\r\\u2028\\u2029\\\\]/g;\n\n  /** Used to match words to create compound words. */\n  var reWords = (function() {\n    var upper = '[A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde]',\n        lower = '[a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff]+';\n\n    return RegExp(upper + '+(?=' + upper + lower + ')|' + upper + '?' + lower + '|' + upper + '+|[0-9]+', 'g');\n  }());\n\n  /** Used to assign default `context` object properties. */\n  var contextProps = [\n    'Array', 'ArrayBuffer', 'Date', 'Error', 'Float32Array', 'Float64Array',\n    'Function', 'Int8Array', 'Int16Array', 'Int32Array', 'Math', 'Number',\n    'Object', 'RegExp', 'Set', 'String', '_', 'clearTimeout', 'isFinite',\n    'parseFloat', 'parseInt', 'setTimeout', 'TypeError', 'Uint8Array',\n    'Uint8ClampedArray', 'Uint16Array', 'Uint32Array', 'WeakMap'\n  ];\n\n  /** Used to make template sourceURLs easier to identify. */\n  var templateCounter = -1;\n\n  /** Used to identify `toStringTag` values of typed arrays. */\n  var typedArrayTags = {};\n  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\n  typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\n  typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\n  typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\n  typedArrayTags[uint32Tag] = true;\n  typedArrayTags[argsTag] = typedArrayTags[arrayTag] =\n  typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\n  typedArrayTags[dateTag] = typedArrayTags[errorTag] =\n  typedArrayTags[funcTag] = typedArrayTags[mapTag] =\n  typedArrayTags[numberTag] = typedArrayTags[objectTag] =\n  typedArrayTags[regexpTag] = typedArrayTags[setTag] =\n  typedArrayTags[stringTag] = typedArrayTags[weakMapTag] = false;\n\n  /** Used to identify `toStringTag` values supported by `_.clone`. */\n  var cloneableTags = {};\n  cloneableTags[argsTag] = cloneableTags[arrayTag] =\n  cloneableTags[arrayBufferTag] = cloneableTags[boolTag] =\n  cloneableTags[dateTag] = cloneableTags[float32Tag] =\n  cloneableTags[float64Tag] = cloneableTags[int8Tag] =\n  cloneableTags[int16Tag] = cloneableTags[int32Tag] =\n  cloneableTags[numberTag] = cloneableTags[objectTag] =\n  cloneableTags[regexpTag] = cloneableTags[stringTag] =\n  cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\n  cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\n  cloneableTags[errorTag] = cloneableTags[funcTag] =\n  cloneableTags[mapTag] = cloneableTags[setTag] =\n  cloneableTags[weakMapTag] = false;\n\n  /** Used to map latin-1 supplementary letters to basic latin letters. */\n  var deburredLetters = {\n    '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n    '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n    '\\xc7': 'C',  '\\xe7': 'c',\n    '\\xd0': 'D',  '\\xf0': 'd',\n    '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n    '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n    '\\xcC': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n    '\\xeC': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n    '\\xd1': 'N',  '\\xf1': 'n',\n    '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n    '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n    '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n    '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n    '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n    '\\xc6': 'Ae', '\\xe6': 'ae',\n    '\\xde': 'Th', '\\xfe': 'th',\n    '\\xdf': 'ss'\n  };\n\n  /** Used to map characters to HTML entities. */\n  var htmlEscapes = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '`': '&#96;'\n  };\n\n  /** Used to map HTML entities to characters. */\n  var htmlUnescapes = {\n    '&amp;': '&',\n    '&lt;': '<',\n    '&gt;': '>',\n    '&quot;': '\"',\n    '&#39;': \"'\",\n    '&#96;': '`'\n  };\n\n  /** Used to determine if values are of the language type `Object`. */\n  var objectTypes = {\n    'function': true,\n    'object': true\n  };\n\n  /** Used to escape characters for inclusion in compiled regexes. */\n  var regexpEscapes = {\n    '0': 'x30', '1': 'x31', '2': 'x32', '3': 'x33', '4': 'x34',\n    '5': 'x35', '6': 'x36', '7': 'x37', '8': 'x38', '9': 'x39',\n    'A': 'x41', 'B': 'x42', 'C': 'x43', 'D': 'x44', 'E': 'x45', 'F': 'x46',\n    'a': 'x61', 'b': 'x62', 'c': 'x63', 'd': 'x64', 'e': 'x65', 'f': 'x66',\n    'n': 'x6e', 'r': 'x72', 't': 'x74', 'u': 'x75', 'v': 'x76', 'x': 'x78'\n  };\n\n  /** Used to escape characters for inclusion in compiled string literals. */\n  var stringEscapes = {\n    '\\\\': '\\\\',\n    \"'\": \"'\",\n    '\\n': 'n',\n    '\\r': 'r',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  /** Detect free variable `exports`. */\n  var freeExports = objectTypes[typeof exports] && exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = objectTypes[typeof module] && module && !module.nodeType && module;\n\n  /** Detect free variable `global` from Node.js. */\n  var freeGlobal = freeExports && freeModule && typeof global == 'object' && global && global.Object && global;\n\n  /** Detect free variable `self`. */\n  var freeSelf = objectTypes[typeof self] && self && self.Object && self;\n\n  /** Detect free variable `window`. */\n  var freeWindow = objectTypes[typeof window] && window && window.Object && window;\n\n  /** Detect the popular CommonJS extension `module.exports`. */\n  var moduleExports = freeModule && freeModule.exports === freeExports && freeExports;\n\n  /**\n   * Used as a reference to the global object.\n   *\n   * The `this` value is used if it's the global object to avoid Greasemonkey's\n   * restricted `window` object, otherwise the `window` object is used.\n   */\n  var root = freeGlobal || ((freeWindow !== (this && this.window)) && freeWindow) || freeSelf || this;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * The base implementation of `compareAscending` which compares values and\n   * sorts them in ascending order without guaranteeing a stable sort.\n   *\n   * @private\n   * @param {*} value The value to compare.\n   * @param {*} other The other value to compare.\n   * @returns {number} Returns the sort order indicator for `value`.\n   */\n  function baseCompareAscending(value, other) {\n    if (value !== other) {\n      var valIsNull = value === null,\n          valIsUndef = value === undefined,\n          valIsReflexive = value === value;\n\n      var othIsNull = other === null,\n          othIsUndef = other === undefined,\n          othIsReflexive = other === other;\n\n      if ((value > other && !othIsNull) || !valIsReflexive ||\n          (valIsNull && !othIsUndef && othIsReflexive) ||\n          (valIsUndef && othIsReflexive)) {\n        return 1;\n      }\n      if ((value < other && !valIsNull) || !othIsReflexive ||\n          (othIsNull && !valIsUndef && valIsReflexive) ||\n          (othIsUndef && valIsReflexive)) {\n        return -1;\n      }\n    }\n    return 0;\n  }\n\n  /**\n   * The base implementation of `_.findIndex` and `_.findLastIndex` without\n   * support for callback shorthands and `this` binding.\n   *\n   * @private\n   * @param {Array} array The array to search.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseFindIndex(array, predicate, fromRight) {\n    var length = array.length,\n        index = fromRight ? length : -1;\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (predicate(array[index], index, array)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.indexOf` without support for binary searches.\n   *\n   * @private\n   * @param {Array} array The array to search.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOf(array, value, fromIndex) {\n    if (value !== value) {\n      return indexOfNaN(array, fromIndex);\n    }\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.isFunction` without support for environments\n   * with incorrect `typeof` results.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n   */\n  function baseIsFunction(value) {\n    // Avoid a Chakra JIT bug in compatibility modes of IE 11.\n    // See https://github.com/jashkenas/underscore/issues/1621 for more details.\n    return typeof value == 'function' || false;\n  }\n\n  /**\n   * Converts `value` to a string if it's not one. An empty string is returned\n   * for `null` or `undefined` values.\n   *\n   * @private\n   * @param {*} value The value to process.\n   * @returns {string} Returns the string.\n   */\n  function baseToString(value) {\n    return value == null ? '' : (value + '');\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimLeft` to get the index of the first character\n   * of `string` that is not found in `chars`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @param {string} chars The characters to find.\n   * @returns {number} Returns the index of the first character not found in `chars`.\n   */\n  function charsLeftIndex(string, chars) {\n    var index = -1,\n        length = string.length;\n\n    while (++index < length && chars.indexOf(string.charAt(index)) > -1) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimRight` to get the index of the last character\n   * of `string` that is not found in `chars`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @param {string} chars The characters to find.\n   * @returns {number} Returns the index of the last character not found in `chars`.\n   */\n  function charsRightIndex(string, chars) {\n    var index = string.length;\n\n    while (index-- && chars.indexOf(string.charAt(index)) > -1) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.sortBy` to compare transformed elements of a collection and stable\n   * sort them in ascending order.\n   *\n   * @private\n   * @param {Object} object The object to compare.\n   * @param {Object} other The other object to compare.\n   * @returns {number} Returns the sort order indicator for `object`.\n   */\n  function compareAscending(object, other) {\n    return baseCompareAscending(object.criteria, other.criteria) || (object.index - other.index);\n  }\n\n  /**\n   * Used by `_.sortByOrder` to compare multiple properties of a value to another\n   * and stable sort them.\n   *\n   * If `orders` is unspecified, all valuess are sorted in ascending order. Otherwise,\n   * a value is sorted in ascending order if its corresponding order is \"asc\", and\n   * descending if \"desc\".\n   *\n   * @private\n   * @param {Object} object The object to compare.\n   * @param {Object} other The other object to compare.\n   * @param {boolean[]} orders The order to sort by for each property.\n   * @returns {number} Returns the sort order indicator for `object`.\n   */\n  function compareMultiple(object, other, orders) {\n    var index = -1,\n        objCriteria = object.criteria,\n        othCriteria = other.criteria,\n        length = objCriteria.length,\n        ordersLength = orders.length;\n\n    while (++index < length) {\n      var result = baseCompareAscending(objCriteria[index], othCriteria[index]);\n      if (result) {\n        if (index >= ordersLength) {\n          return result;\n        }\n        var order = orders[index];\n        return result * ((order === 'asc' || order === true) ? 1 : -1);\n      }\n    }\n    // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n    // that causes it, under certain circumstances, to provide the same value for\n    // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n    // for more details.\n    //\n    // This also ensures a stable sort in V8 and other engines.\n    // See https://code.google.com/p/v8/issues/detail?id=90 for more details.\n    return object.index - other.index;\n  }\n\n  /**\n   * Used by `_.deburr` to convert latin-1 supplementary letters to basic latin letters.\n   *\n   * @private\n   * @param {string} letter The matched letter to deburr.\n   * @returns {string} Returns the deburred letter.\n   */\n  function deburrLetter(letter) {\n    return deburredLetters[letter];\n  }\n\n  /**\n   * Used by `_.escape` to convert characters to HTML entities.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeHtmlChar(chr) {\n    return htmlEscapes[chr];\n  }\n\n  /**\n   * Used by `_.escapeRegExp` to escape characters for inclusion in compiled regexes.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @param {string} leadingChar The capture group for a leading character.\n   * @param {string} whitespaceChar The capture group for a whitespace character.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeRegExpChar(chr, leadingChar, whitespaceChar) {\n    if (leadingChar) {\n      chr = regexpEscapes[chr];\n    } else if (whitespaceChar) {\n      chr = stringEscapes[chr];\n    }\n    return '\\\\' + chr;\n  }\n\n  /**\n   * Used by `_.template` to escape characters for inclusion in compiled string literals.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeStringChar(chr) {\n    return '\\\\' + stringEscapes[chr];\n  }\n\n  /**\n   * Gets the index at which the first occurrence of `NaN` is found in `array`.\n   *\n   * @private\n   * @param {Array} array The array to search.\n   * @param {number} fromIndex The index to search from.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {number} Returns the index of the matched `NaN`, else `-1`.\n   */\n  function indexOfNaN(array, fromIndex, fromRight) {\n    var length = array.length,\n        index = fromIndex + (fromRight ? 0 : -1);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      var other = array[index];\n      if (other !== other) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * Checks if `value` is object-like.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n   */\n  function isObjectLike(value) {\n    return !!value && typeof value == 'object';\n  }\n\n  /**\n   * Used by `trimmedLeftIndex` and `trimmedRightIndex` to determine if a\n   * character code is whitespace.\n   *\n   * @private\n   * @param {number} charCode The character code to inspect.\n   * @returns {boolean} Returns `true` if `charCode` is whitespace, else `false`.\n   */\n  function isSpace(charCode) {\n    return ((charCode <= 160 && (charCode >= 9 && charCode <= 13) || charCode == 32 || charCode == 160) || charCode == 5760 || charCode == 6158 ||\n      (charCode >= 8192 && (charCode <= 8202 || charCode == 8232 || charCode == 8233 || charCode == 8239 || charCode == 8287 || charCode == 12288 || charCode == 65279)));\n  }\n\n  /**\n   * Replaces all `placeholder` elements in `array` with an internal placeholder\n   * and returns an array of their indexes.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {*} placeholder The placeholder to replace.\n   * @returns {Array} Returns the new array of placeholder indexes.\n   */\n  function replaceHolders(array, placeholder) {\n    var index = -1,\n        length = array.length,\n        resIndex = -1,\n        result = [];\n\n    while (++index < length) {\n      if (array[index] === placeholder) {\n        array[index] = PLACEHOLDER;\n        result[++resIndex] = index;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * An implementation of `_.uniq` optimized for sorted arrays without support\n   * for callback shorthands and `this` binding.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {Function} [iteratee] The function invoked per iteration.\n   * @returns {Array} Returns the new duplicate-value-free array.\n   */\n  function sortedUniq(array, iteratee) {\n    var seen,\n        index = -1,\n        length = array.length,\n        resIndex = -1,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index],\n          computed = iteratee ? iteratee(value, index, array) : value;\n\n      if (!index || seen !== computed) {\n        seen = computed;\n        result[++resIndex] = value;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimLeft` to get the index of the first non-whitespace\n   * character of `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the index of the first non-whitespace character.\n   */\n  function trimmedLeftIndex(string) {\n    var index = -1,\n        length = string.length;\n\n    while (++index < length && isSpace(string.charCodeAt(index))) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimRight` to get the index of the last non-whitespace\n   * character of `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the index of the last non-whitespace character.\n   */\n  function trimmedRightIndex(string) {\n    var index = string.length;\n\n    while (index-- && isSpace(string.charCodeAt(index))) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.unescape` to convert HTML entities to characters.\n   *\n   * @private\n   * @param {string} chr The matched character to unescape.\n   * @returns {string} Returns the unescaped character.\n   */\n  function unescapeHtmlChar(chr) {\n    return htmlUnescapes[chr];\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Create a new pristine `lodash` function using the given `context` object.\n   *\n   * @static\n   * @memberOf _\n   * @category Utility\n   * @param {Object} [context=root] The context object.\n   * @returns {Function} Returns a new `lodash` function.\n   * @example\n   *\n   * _.mixin({ 'foo': _.constant('foo') });\n   *\n   * var lodash = _.runInContext();\n   * lodash.mixin({ 'bar': lodash.constant('bar') });\n   *\n   * _.isFunction(_.foo);\n   * // => true\n   * _.isFunction(_.bar);\n   * // => false\n   *\n   * lodash.isFunction(lodash.foo);\n   * // => false\n   * lodash.isFunction(lodash.bar);\n   * // => true\n   *\n   * // using `context` to mock `Date#getTime` use in `_.now`\n   * var mock = _.runInContext({\n   *   'Date': function() {\n   *     return { 'getTime': getTimeMock };\n   *   }\n   * });\n   *\n   * // or creating a suped-up `defer` in Node.js\n   * var defer = _.runInContext({ 'setTimeout': setImmediate }).defer;\n   */\n  function runInContext(context) {\n    // Avoid issues with some ES3 environments that attempt to use values, named\n    // after built-in constructors like `Object`, for the creation of literals.\n    // ES5 clears this up by stating that literals must use built-in constructors.\n    // See https://es5.github.io/#x11.1.5 for more details.\n    context = context ? _.defaults(root.Object(), context, _.pick(root, contextProps)) : root;\n\n    /** Native constructor references. */\n    var Array = context.Array,\n        Date = context.Date,\n        Error = context.Error,\n        Function = context.Function,\n        Math = context.Math,\n        Number = context.Number,\n        Object = context.Object,\n        RegExp = context.RegExp,\n        String = context.String,\n        TypeError = context.TypeError;\n\n    /** Used for native method references. */\n    var arrayProto = Array.prototype,\n        objectProto = Object.prototype,\n        stringProto = String.prototype;\n\n    /** Used to resolve the decompiled source of functions. */\n    var fnToString = Function.prototype.toString;\n\n    /** Used to check objects for own properties. */\n    var hasOwnProperty = objectProto.hasOwnProperty;\n\n    /** Used to generate unique IDs. */\n    var idCounter = 0;\n\n    /**\n     * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n     * of values.\n     */\n    var objToString = objectProto.toString;\n\n    /** Used to restore the original `_` reference in `_.noConflict`. */\n    var oldDash = root._;\n\n    /** Used to detect if a method is native. */\n    var reIsNative = RegExp('^' +\n      fnToString.call(hasOwnProperty).replace(/[\\\\^$.*+?()[\\]{}|]/g, '\\\\$&')\n      .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n    );\n\n    /** Native method references. */\n    var ArrayBuffer = context.ArrayBuffer,\n        clearTimeout = context.clearTimeout,\n        parseFloat = context.parseFloat,\n        pow = Math.pow,\n        propertyIsEnumerable = objectProto.propertyIsEnumerable,\n        Set = getNative(context, 'Set'),\n        setTimeout = context.setTimeout,\n        splice = arrayProto.splice,\n        Uint8Array = context.Uint8Array,\n        WeakMap = getNative(context, 'WeakMap');\n\n    /* Native method references for those with the same name as other `lodash` methods. */\n    var nativeCeil = Math.ceil,\n        nativeCreate = getNative(Object, 'create'),\n        nativeFloor = Math.floor,\n        nativeIsArray = getNative(Array, 'isArray'),\n        nativeIsFinite = context.isFinite,\n        nativeKeys = getNative(Object, 'keys'),\n        nativeMax = Math.max,\n        nativeMin = Math.min,\n        nativeNow = getNative(Date, 'now'),\n        nativeParseInt = context.parseInt,\n        nativeRandom = Math.random;\n\n    /** Used as references for `-Infinity` and `Infinity`. */\n    var NEGATIVE_INFINITY = Number.NEGATIVE_INFINITY,\n        POSITIVE_INFINITY = Number.POSITIVE_INFINITY;\n\n    /** Used as references for the maximum length and index of an array. */\n    var MAX_ARRAY_LENGTH = 4294967295,\n        MAX_ARRAY_INDEX = MAX_ARRAY_LENGTH - 1,\n        HALF_MAX_ARRAY_LENGTH = MAX_ARRAY_LENGTH >>> 1;\n\n    /**\n     * Used as the [maximum length](http://ecma-international.org/ecma-262/6.0/#sec-number.max_safe_integer)\n     * of an array-like value.\n     */\n    var MAX_SAFE_INTEGER = 9007199254740991;\n\n    /** Used to store function metadata. */\n    var metaMap = WeakMap && new WeakMap;\n\n    /** Used to lookup unminified function names. */\n    var realNames = {};\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object which wraps `value` to enable implicit chaining.\n     * Methods that operate on and return arrays, collections, and functions can\n     * be chained together. Methods that retrieve a single value or may return a\n     * primitive value will automatically end the chain returning the unwrapped\n     * value. Explicit chaining may be enabled using `_.chain`. The execution of\n     * chained methods is lazy, that is, execution is deferred until `_#value`\n     * is implicitly or explicitly called.\n     *\n     * Lazy evaluation allows several methods to support shortcut fusion. Shortcut\n     * fusion is an optimization strategy which merge iteratee calls; this can help\n     * to avoid the creation of intermediate data structures and greatly reduce the\n     * number of iteratee executions.\n     *\n     * Chaining is supported in custom builds as long as the `_#value` method is\n     * directly or indirectly included in the build.\n     *\n     * In addition to lodash methods, wrappers have `Array` and `String` methods.\n     *\n     * The wrapper `Array` methods are:\n     * `concat`, `join`, `pop`, `push`, `reverse`, `shift`, `slice`, `sort`,\n     * `splice`, and `unshift`\n     *\n     * The wrapper `String` methods are:\n     * `replace` and `split`\n     *\n     * The wrapper methods that support shortcut fusion are:\n     * `compact`, `drop`, `dropRight`, `dropRightWhile`, `dropWhile`, `filter`,\n     * `first`, `initial`, `last`, `map`, `pluck`, `reject`, `rest`, `reverse`,\n     * `slice`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, `toArray`,\n     * and `where`\n     *\n     * The chainable wrapper methods are:\n     * `after`, `ary`, `assign`, `at`, `before`, `bind`, `bindAll`, `bindKey`,\n     * `callback`, `chain`, `chunk`, `commit`, `compact`, `concat`, `constant`,\n     * `countBy`, `create`, `curry`, `debounce`, `defaults`, `defaultsDeep`,\n     * `defer`, `delay`, `difference`, `drop`, `dropRight`, `dropRightWhile`,\n     * `dropWhile`, `fill`, `filter`, `flatten`, `flattenDeep`, `flow`, `flowRight`,\n     * `forEach`, `forEachRight`, `forIn`, `forInRight`, `forOwn`, `forOwnRight`,\n     * `functions`, `groupBy`, `indexBy`, `initial`, `intersection`, `invert`,\n     * `invoke`, `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`,\n     * `matchesProperty`, `memoize`, `merge`, `method`, `methodOf`, `mixin`,\n     * `modArgs`, `negate`, `omit`, `once`, `pairs`, `partial`, `partialRight`,\n     * `partition`, `pick`, `plant`, `pluck`, `property`, `propertyOf`, `pull`,\n     * `pullAt`, `push`, `range`, `rearg`, `reject`, `remove`, `rest`, `restParam`,\n     * `reverse`, `set`, `shuffle`, `slice`, `sort`, `sortBy`, `sortByAll`,\n     * `sortByOrder`, `splice`, `spread`, `take`, `takeRight`, `takeRightWhile`,\n     * `takeWhile`, `tap`, `throttle`, `thru`, `times`, `toArray`, `toPlainObject`,\n     * `transform`, `union`, `uniq`, `unshift`, `unzip`, `unzipWith`, `values`,\n     * `valuesIn`, `where`, `without`, `wrap`, `xor`, `zip`, `zipObject`, `zipWith`\n     *\n     * The wrapper methods that are **not** chainable by default are:\n     * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clone`, `cloneDeep`,\n     * `deburr`, `endsWith`, `escape`, `escapeRegExp`, `every`, `find`, `findIndex`,\n     * `findKey`, `findLast`, `findLastIndex`, `findLastKey`, `findWhere`, `first`,\n     * `floor`, `get`, `gt`, `gte`, `has`, `identity`, `includes`, `indexOf`,\n     * `inRange`, `isArguments`, `isArray`, `isBoolean`, `isDate`, `isElement`,\n     * `isEmpty`, `isEqual`, `isError`, `isFinite` `isFunction`, `isMatch`,\n     * `isNative`, `isNaN`, `isNull`, `isNumber`, `isObject`, `isPlainObject`,\n     * `isRegExp`, `isString`, `isUndefined`, `isTypedArray`, `join`, `kebabCase`,\n     * `last`, `lastIndexOf`, `lt`, `lte`, `max`, `min`, `noConflict`, `noop`,\n     * `now`, `pad`, `padLeft`, `padRight`, `parseInt`, `pop`, `random`, `reduce`,\n     * `reduceRight`, `repeat`, `result`, `round`, `runInContext`, `shift`, `size`,\n     * `snakeCase`, `some`, `sortedIndex`, `sortedLastIndex`, `startCase`,\n     * `startsWith`, `sum`, `template`, `trim`, `trimLeft`, `trimRight`, `trunc`,\n     * `unescape`, `uniqueId`, `value`, and `words`\n     *\n     * The wrapper method `sample` will return a wrapped value when `n` is provided,\n     * otherwise an unwrapped value is returned.\n     *\n     * @name _\n     * @constructor\n     * @category Chain\n     * @param {*} value The value to wrap in a `lodash` instance.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var wrapped = _([1, 2, 3]);\n     *\n     * // returns an unwrapped value\n     * wrapped.reduce(function(total, n) {\n     *   return total + n;\n     * });\n     * // => 6\n     *\n     * // returns a wrapped value\n     * var squares = wrapped.map(function(n) {\n     *   return n * n;\n     * });\n     *\n     * _.isArray(squares);\n     * // => false\n     *\n     * _.isArray(squares.value());\n     * // => true\n     */\n    function lodash(value) {\n      if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n        if (value instanceof LodashWrapper) {\n          return value;\n        }\n        if (hasOwnProperty.call(value, '__chain__') && hasOwnProperty.call(value, '__wrapped__')) {\n          return wrapperClone(value);\n        }\n      }\n      return new LodashWrapper(value);\n    }\n\n    /**\n     * The function whose prototype all chaining wrappers inherit from.\n     *\n     * @private\n     */\n    function baseLodash() {\n      // No operation performed.\n    }\n\n    /**\n     * The base constructor for creating `lodash` wrapper objects.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     * @param {boolean} [chainAll] Enable chaining for all wrapper methods.\n     * @param {Array} [actions=[]] Actions to peform to resolve the unwrapped value.\n     */\n    function LodashWrapper(value, chainAll, actions) {\n      this.__wrapped__ = value;\n      this.__actions__ = actions || [];\n      this.__chain__ = !!chainAll;\n    }\n\n    /**\n     * An object environment feature flags.\n     *\n     * @static\n     * @memberOf _\n     * @type Object\n     */\n    var support = lodash.support = {};\n\n    /**\n     * By default, the template delimiters used by lodash are like those in\n     * embedded Ruby (ERB). Change the following template settings to use\n     * alternative delimiters.\n     *\n     * @static\n     * @memberOf _\n     * @type Object\n     */\n    lodash.templateSettings = {\n\n      /**\n       * Used to detect `data` property values to be HTML-escaped.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'escape': reEscape,\n\n      /**\n       * Used to detect code to be evaluated.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'evaluate': reEvaluate,\n\n      /**\n       * Used to detect `data` property values to inject.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'interpolate': reInterpolate,\n\n      /**\n       * Used to reference the data object in the template text.\n       *\n       * @memberOf _.templateSettings\n       * @type string\n       */\n      'variable': '',\n\n      /**\n       * Used to import variables into the compiled template.\n       *\n       * @memberOf _.templateSettings\n       * @type Object\n       */\n      'imports': {\n\n        /**\n         * A reference to the `lodash` function.\n         *\n         * @memberOf _.templateSettings.imports\n         * @type Function\n         */\n        '_': lodash\n      }\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     */\n    function LazyWrapper(value) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__dir__ = 1;\n      this.__filtered__ = false;\n      this.__iteratees__ = [];\n      this.__takeCount__ = POSITIVE_INFINITY;\n      this.__views__ = [];\n    }\n\n    /**\n     * Creates a clone of the lazy wrapper object.\n     *\n     * @private\n     * @name clone\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the cloned `LazyWrapper` object.\n     */\n    function lazyClone() {\n      var result = new LazyWrapper(this.__wrapped__);\n      result.__actions__ = arrayCopy(this.__actions__);\n      result.__dir__ = this.__dir__;\n      result.__filtered__ = this.__filtered__;\n      result.__iteratees__ = arrayCopy(this.__iteratees__);\n      result.__takeCount__ = this.__takeCount__;\n      result.__views__ = arrayCopy(this.__views__);\n      return result;\n    }\n\n    /**\n     * Reverses the direction of lazy iteration.\n     *\n     * @private\n     * @name reverse\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the new reversed `LazyWrapper` object.\n     */\n    function lazyReverse() {\n      if (this.__filtered__) {\n        var result = new LazyWrapper(this);\n        result.__dir__ = -1;\n        result.__filtered__ = true;\n      } else {\n        result = this.clone();\n        result.__dir__ *= -1;\n      }\n      return result;\n    }\n\n    /**\n     * Extracts the unwrapped value from its lazy wrapper.\n     *\n     * @private\n     * @name value\n     * @memberOf LazyWrapper\n     * @returns {*} Returns the unwrapped value.\n     */\n    function lazyValue() {\n      var array = this.__wrapped__.value(),\n          dir = this.__dir__,\n          isArr = isArray(array),\n          isRight = dir < 0,\n          arrLength = isArr ? array.length : 0,\n          view = getView(0, arrLength, this.__views__),\n          start = view.start,\n          end = view.end,\n          length = end - start,\n          index = isRight ? end : (start - 1),\n          iteratees = this.__iteratees__,\n          iterLength = iteratees.length,\n          resIndex = 0,\n          takeCount = nativeMin(length, this.__takeCount__);\n\n      if (!isArr || arrLength < LARGE_ARRAY_SIZE || (arrLength == length && takeCount == length)) {\n        return baseWrapperValue((isRight && isArr) ? array.reverse() : array, this.__actions__);\n      }\n      var result = [];\n\n      outer:\n      while (length-- && resIndex < takeCount) {\n        index += dir;\n\n        var iterIndex = -1,\n            value = array[index];\n\n        while (++iterIndex < iterLength) {\n          var data = iteratees[iterIndex],\n              iteratee = data.iteratee,\n              type = data.type,\n              computed = iteratee(value);\n\n          if (type == LAZY_MAP_FLAG) {\n            value = computed;\n          } else if (!computed) {\n            if (type == LAZY_FILTER_FLAG) {\n              continue outer;\n            } else {\n              break outer;\n            }\n          }\n        }\n        result[resIndex++] = value;\n      }\n      return result;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a cache object to store key/value pairs.\n     *\n     * @private\n     * @static\n     * @name Cache\n     * @memberOf _.memoize\n     */\n    function MapCache() {\n      this.__data__ = {};\n    }\n\n    /**\n     * Removes `key` and its value from the cache.\n     *\n     * @private\n     * @name delete\n     * @memberOf _.memoize.Cache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed successfully, else `false`.\n     */\n    function mapDelete(key) {\n      return this.has(key) && delete this.__data__[key];\n    }\n\n    /**\n     * Gets the cached value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf _.memoize.Cache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the cached value.\n     */\n    function mapGet(key) {\n      return key == '__proto__' ? undefined : this.__data__[key];\n    }\n\n    /**\n     * Checks if a cached value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf _.memoize.Cache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function mapHas(key) {\n      return key != '__proto__' && hasOwnProperty.call(this.__data__, key);\n    }\n\n    /**\n     * Sets `value` to `key` of the cache.\n     *\n     * @private\n     * @name set\n     * @memberOf _.memoize.Cache\n     * @param {string} key The key of the value to cache.\n     * @param {*} value The value to cache.\n     * @returns {Object} Returns the cache object.\n     */\n    function mapSet(key, value) {\n      if (key != '__proto__') {\n        this.__data__[key] = value;\n      }\n      return this;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     *\n     * Creates a cache object to store unique values.\n     *\n     * @private\n     * @param {Array} [values] The values to cache.\n     */\n    function SetCache(values) {\n      var length = values ? values.length : 0;\n\n      this.data = { 'hash': nativeCreate(null), 'set': new Set };\n      while (length--) {\n        this.push(values[length]);\n      }\n    }\n\n    /**\n     * Checks if `value` is in `cache` mimicking the return signature of\n     * `_.indexOf` by returning `0` if the value is found, else `-1`.\n     *\n     * @private\n     * @param {Object} cache The cache to search.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns `0` if `value` is found, else `-1`.\n     */\n    function cacheIndexOf(cache, value) {\n      var data = cache.data,\n          result = (typeof value == 'string' || isObject(value)) ? data.set.has(value) : data.hash[value];\n\n      return result ? 0 : -1;\n    }\n\n    /**\n     * Adds `value` to the cache.\n     *\n     * @private\n     * @name push\n     * @memberOf SetCache\n     * @param {*} value The value to cache.\n     */\n    function cachePush(value) {\n      var data = this.data;\n      if (typeof value == 'string' || isObject(value)) {\n        data.set.add(value);\n      } else {\n        data.hash[value] = true;\n      }\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a new array joining `array` with `other`.\n     *\n     * @private\n     * @param {Array} array The array to join.\n     * @param {Array} other The other array to join.\n     * @returns {Array} Returns the new concatenated array.\n     */\n    function arrayConcat(array, other) {\n      var index = -1,\n          length = array.length,\n          othIndex = -1,\n          othLength = other.length,\n          result = Array(length + othLength);\n\n      while (++index < length) {\n        result[index] = array[index];\n      }\n      while (++othIndex < othLength) {\n        result[index++] = other[othIndex];\n      }\n      return result;\n    }\n\n    /**\n     * Copies the values of `source` to `array`.\n     *\n     * @private\n     * @param {Array} source The array to copy values from.\n     * @param {Array} [array=[]] The array to copy values to.\n     * @returns {Array} Returns `array`.\n     */\n    function arrayCopy(source, array) {\n      var index = -1,\n          length = source.length;\n\n      array || (array = Array(length));\n      while (++index < length) {\n        array[index] = source[index];\n      }\n      return array;\n    }\n\n    /**\n     * A specialized version of `_.forEach` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns `array`.\n     */\n    function arrayEach(array, iteratee) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        if (iteratee(array[index], index, array) === false) {\n          break;\n        }\n      }\n      return array;\n    }\n\n    /**\n     * A specialized version of `_.forEachRight` for arrays without support for\n     * callback shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns `array`.\n     */\n    function arrayEachRight(array, iteratee) {\n      var length = array.length;\n\n      while (length--) {\n        if (iteratee(array[length], length, array) === false) {\n          break;\n        }\n      }\n      return array;\n    }\n\n    /**\n     * A specialized version of `_.every` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     */\n    function arrayEvery(array, predicate) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        if (!predicate(array[index], index, array)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * A specialized version of `baseExtremum` for arrays which invokes `iteratee`\n     * with one argument: (value).\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} comparator The function used to compare values.\n     * @param {*} exValue The initial extremum value.\n     * @returns {*} Returns the extremum value.\n     */\n    function arrayExtremum(array, iteratee, comparator, exValue) {\n      var index = -1,\n          length = array.length,\n          computed = exValue,\n          result = computed;\n\n      while (++index < length) {\n        var value = array[index],\n            current = +iteratee(value);\n\n        if (comparator(current, computed)) {\n          computed = current;\n          result = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.filter` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n    function arrayFilter(array, predicate) {\n      var index = -1,\n          length = array.length,\n          resIndex = -1,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (predicate(value, index, array)) {\n          result[++resIndex] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.map` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n    function arrayMap(array, iteratee) {\n      var index = -1,\n          length = array.length,\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = iteratee(array[index], index, array);\n      }\n      return result;\n    }\n\n    /**\n     * Appends the elements of `values` to `array`.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to append.\n     * @returns {Array} Returns `array`.\n     */\n    function arrayPush(array, values) {\n      var index = -1,\n          length = values.length,\n          offset = array.length;\n\n      while (++index < length) {\n        array[offset + index] = values[index];\n      }\n      return array;\n    }\n\n    /**\n     * A specialized version of `_.reduce` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @param {boolean} [initFromArray] Specify using the first element of `array`\n     *  as the initial value.\n     * @returns {*} Returns the accumulated value.\n     */\n    function arrayReduce(array, iteratee, accumulator, initFromArray) {\n      var index = -1,\n          length = array.length;\n\n      if (initFromArray && length) {\n        accumulator = array[++index];\n      }\n      while (++index < length) {\n        accumulator = iteratee(accumulator, array[index], index, array);\n      }\n      return accumulator;\n    }\n\n    /**\n     * A specialized version of `_.reduceRight` for arrays without support for\n     * callback shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @param {boolean} [initFromArray] Specify using the last element of `array`\n     *  as the initial value.\n     * @returns {*} Returns the accumulated value.\n     */\n    function arrayReduceRight(array, iteratee, accumulator, initFromArray) {\n      var length = array.length;\n      if (initFromArray && length) {\n        accumulator = array[--length];\n      }\n      while (length--) {\n        accumulator = iteratee(accumulator, array[length], length, array);\n      }\n      return accumulator;\n    }\n\n    /**\n     * A specialized version of `_.some` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n    function arraySome(array, predicate) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        if (predicate(array[index], index, array)) {\n          return true;\n        }\n      }\n      return false;\n    }\n\n    /**\n     * A specialized version of `_.sum` for arrays without support for callback\n     * shorthands and `this` binding..\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {number} Returns the sum.\n     */\n    function arraySum(array, iteratee) {\n      var length = array.length,\n          result = 0;\n\n      while (length--) {\n        result += +iteratee(array[length]) || 0;\n      }\n      return result;\n    }\n\n    /**\n     * Used by `_.defaults` to customize its `_.assign` use.\n     *\n     * @private\n     * @param {*} objectValue The destination object property value.\n     * @param {*} sourceValue The source object property value.\n     * @returns {*} Returns the value to assign to the destination object.\n     */\n    function assignDefaults(objectValue, sourceValue) {\n      return objectValue === undefined ? sourceValue : objectValue;\n    }\n\n    /**\n     * Used by `_.template` to customize its `_.assign` use.\n     *\n     * **Note:** This function is like `assignDefaults` except that it ignores\n     * inherited property values when checking if a property is `undefined`.\n     *\n     * @private\n     * @param {*} objectValue The destination object property value.\n     * @param {*} sourceValue The source object property value.\n     * @param {string} key The key associated with the object and source values.\n     * @param {Object} object The destination object.\n     * @returns {*} Returns the value to assign to the destination object.\n     */\n    function assignOwnDefaults(objectValue, sourceValue, key, object) {\n      return (objectValue === undefined || !hasOwnProperty.call(object, key))\n        ? sourceValue\n        : objectValue;\n    }\n\n    /**\n     * A specialized version of `_.assign` for customizing assigned values without\n     * support for argument juggling, multiple sources, and `this` binding `customizer`\n     * functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {Function} customizer The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     */\n    function assignWith(object, source, customizer) {\n      var index = -1,\n          props = keys(source),\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index],\n            value = object[key],\n            result = customizer(value, source[key], key, object, source);\n\n        if ((result === result ? (result !== value) : (value === value)) ||\n            (value === undefined && !(key in object))) {\n          object[key] = result;\n        }\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `_.assign` without support for argument juggling,\n     * multiple sources, and `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssign(object, source) {\n      return source == null\n        ? object\n        : baseCopy(source, keys(source), object);\n    }\n\n    /**\n     * The base implementation of `_.at` without support for string collections\n     * and individual key arguments.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {number[]|string[]} props The property names or indexes of elements to pick.\n     * @returns {Array} Returns the new array of picked elements.\n     */\n    function baseAt(collection, props) {\n      var index = -1,\n          isNil = collection == null,\n          isArr = !isNil && isArrayLike(collection),\n          length = isArr ? collection.length : 0,\n          propsLength = props.length,\n          result = Array(propsLength);\n\n      while(++index < propsLength) {\n        var key = props[index];\n        if (isArr) {\n          result[index] = isIndex(key, length) ? collection[key] : undefined;\n        } else {\n          result[index] = isNil ? undefined : collection[key];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Copies properties of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy properties from.\n     * @param {Array} props The property names to copy.\n     * @param {Object} [object={}] The object to copy properties to.\n     * @returns {Object} Returns `object`.\n     */\n    function baseCopy(source, props, object) {\n      object || (object = {});\n\n      var index = -1,\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index];\n        object[key] = source[key];\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `_.callback` which supports specifying the\n     * number of arguments to provide to `func`.\n     *\n     * @private\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {number} [argCount] The number of arguments to provide to `func`.\n     * @returns {Function} Returns the callback.\n     */\n    function baseCallback(func, thisArg, argCount) {\n      var type = typeof func;\n      if (type == 'function') {\n        return thisArg === undefined\n          ? func\n          : bindCallback(func, thisArg, argCount);\n      }\n      if (func == null) {\n        return identity;\n      }\n      if (type == 'object') {\n        return baseMatches(func);\n      }\n      return thisArg === undefined\n        ? property(func)\n        : baseMatchesProperty(func, thisArg);\n    }\n\n    /**\n     * The base implementation of `_.clone` without support for argument juggling\n     * and `this` binding `customizer` functions.\n     *\n     * @private\n     * @param {*} value The value to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @param {Function} [customizer] The function to customize cloning values.\n     * @param {string} [key] The key of `value`.\n     * @param {Object} [object] The object `value` belongs to.\n     * @param {Array} [stackA=[]] Tracks traversed source objects.\n     * @param {Array} [stackB=[]] Associates clones with source counterparts.\n     * @returns {*} Returns the cloned value.\n     */\n    function baseClone(value, isDeep, customizer, key, object, stackA, stackB) {\n      var result;\n      if (customizer) {\n        result = object ? customizer(value, key, object) : customizer(value);\n      }\n      if (result !== undefined) {\n        return result;\n      }\n      if (!isObject(value)) {\n        return value;\n      }\n      var isArr = isArray(value);\n      if (isArr) {\n        result = initCloneArray(value);\n        if (!isDeep) {\n          return arrayCopy(value, result);\n        }\n      } else {\n        var tag = objToString.call(value),\n            isFunc = tag == funcTag;\n\n        if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n          result = initCloneObject(isFunc ? {} : value);\n          if (!isDeep) {\n            return baseAssign(result, value);\n          }\n        } else {\n          return cloneableTags[tag]\n            ? initCloneByTag(value, tag, isDeep)\n            : (object ? value : {});\n        }\n      }\n      // Check for circular references and return its corresponding clone.\n      stackA || (stackA = []);\n      stackB || (stackB = []);\n\n      var length = stackA.length;\n      while (length--) {\n        if (stackA[length] == value) {\n          return stackB[length];\n        }\n      }\n      // Add the source value to the stack of traversed objects and associate it with its clone.\n      stackA.push(value);\n      stackB.push(result);\n\n      // Recursively populate clone (susceptible to call stack limits).\n      (isArr ? arrayEach : baseForOwn)(value, function(subValue, key) {\n        result[key] = baseClone(subValue, isDeep, customizer, key, value, stackA, stackB);\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.create` without support for assigning\n     * properties to the created object.\n     *\n     * @private\n     * @param {Object} prototype The object to inherit from.\n     * @returns {Object} Returns the new object.\n     */\n    var baseCreate = (function() {\n      function object() {}\n      return function(prototype) {\n        if (isObject(prototype)) {\n          object.prototype = prototype;\n          var result = new object;\n          object.prototype = undefined;\n        }\n        return result || {};\n      };\n    }());\n\n    /**\n     * The base implementation of `_.delay` and `_.defer` which accepts an index\n     * of where to slice the arguments to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {Object} args The arguments provide to `func`.\n     * @returns {number} Returns the timer id.\n     */\n    function baseDelay(func, wait, args) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return setTimeout(function() { func.apply(undefined, args); }, wait);\n    }\n\n    /**\n     * The base implementation of `_.difference` which accepts a single array\n     * of values to exclude.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Array} values The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     */\n    function baseDifference(array, values) {\n      var length = array ? array.length : 0,\n          result = [];\n\n      if (!length) {\n        return result;\n      }\n      var index = -1,\n          indexOf = getIndexOf(),\n          isCommon = indexOf == baseIndexOf,\n          cache = (isCommon && values.length >= LARGE_ARRAY_SIZE) ? createCache(values) : null,\n          valuesLength = values.length;\n\n      if (cache) {\n        indexOf = cacheIndexOf;\n        isCommon = false;\n        values = cache;\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index];\n\n        if (isCommon && value === value) {\n          var valuesIndex = valuesLength;\n          while (valuesIndex--) {\n            if (values[valuesIndex] === value) {\n              continue outer;\n            }\n          }\n          result.push(value);\n        }\n        else if (indexOf(values, value, 0) < 0) {\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.forEach` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object|string} Returns `collection`.\n     */\n    var baseEach = createBaseEach(baseForOwn);\n\n    /**\n     * The base implementation of `_.forEachRight` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object|string} Returns `collection`.\n     */\n    var baseEachRight = createBaseEach(baseForOwnRight, true);\n\n    /**\n     * The base implementation of `_.every` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`\n     */\n    function baseEvery(collection, predicate) {\n      var result = true;\n      baseEach(collection, function(value, index, collection) {\n        result = !!predicate(value, index, collection);\n        return result;\n      });\n      return result;\n    }\n\n    /**\n     * Gets the extremum value of `collection` invoking `iteratee` for each value\n     * in `collection` to generate the criterion by which the value is ranked.\n     * The `iteratee` is invoked with three arguments: (value, index|key, collection).\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} comparator The function used to compare values.\n     * @param {*} exValue The initial extremum value.\n     * @returns {*} Returns the extremum value.\n     */\n    function baseExtremum(collection, iteratee, comparator, exValue) {\n      var computed = exValue,\n          result = computed;\n\n      baseEach(collection, function(value, index, collection) {\n        var current = +iteratee(value, index, collection);\n        if (comparator(current, computed) || (current === exValue && current === result)) {\n          computed = current;\n          result = value;\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.fill` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     */\n    function baseFill(array, value, start, end) {\n      var length = array.length;\n\n      start = start == null ? 0 : (+start || 0);\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = (end === undefined || end > length) ? length : (+end || 0);\n      if (end < 0) {\n        end += length;\n      }\n      length = start > end ? 0 : (end >>> 0);\n      start >>>= 0;\n\n      while (start < length) {\n        array[start++] = value;\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.filter` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n    function baseFilter(collection, predicate) {\n      var result = [];\n      baseEach(collection, function(value, index, collection) {\n        if (predicate(value, index, collection)) {\n          result.push(value);\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.find`, `_.findLast`, `_.findKey`, and `_.findLastKey`,\n     * without support for callback shorthands and `this` binding, which iterates\n     * over `collection` using the provided `eachFunc`.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Function} predicate The function invoked per iteration.\n     * @param {Function} eachFunc The function to iterate over `collection`.\n     * @param {boolean} [retKey] Specify returning the key of the found element\n     *  instead of the element itself.\n     * @returns {*} Returns the found element or its key, else `undefined`.\n     */\n    function baseFind(collection, predicate, eachFunc, retKey) {\n      var result;\n      eachFunc(collection, function(value, key, collection) {\n        if (predicate(value, key, collection)) {\n          result = retKey ? key : value;\n          return false;\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.flatten` with added support for restricting\n     * flattening and specifying the start index.\n     *\n     * @private\n     * @param {Array} array The array to flatten.\n     * @param {boolean} [isDeep] Specify a deep flatten.\n     * @param {boolean} [isStrict] Restrict flattening to arrays-like objects.\n     * @param {Array} [result=[]] The initial result value.\n     * @returns {Array} Returns the new flattened array.\n     */\n    function baseFlatten(array, isDeep, isStrict, result) {\n      result || (result = []);\n\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        var value = array[index];\n        if (isObjectLike(value) && isArrayLike(value) &&\n            (isStrict || isArray(value) || isArguments(value))) {\n          if (isDeep) {\n            // Recursively flatten arrays (susceptible to call stack limits).\n            baseFlatten(value, isDeep, isStrict, result);\n          } else {\n            arrayPush(result, value);\n          }\n        } else if (!isStrict) {\n          result[result.length] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `baseForIn` and `baseForOwn` which iterates\n     * over `object` properties returned by `keysFunc` invoking `iteratee` for\n     * each property. Iteratee functions may exit iteration early by explicitly\n     * returning `false`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseFor = createBaseFor();\n\n    /**\n     * This function is like `baseFor` except that it iterates over properties\n     * in the opposite order.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseForRight = createBaseFor(true);\n\n    /**\n     * The base implementation of `_.forIn` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForIn(object, iteratee) {\n      return baseFor(object, iteratee, keysIn);\n    }\n\n    /**\n     * The base implementation of `_.forOwn` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwn(object, iteratee) {\n      return baseFor(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.forOwnRight` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwnRight(object, iteratee) {\n      return baseForRight(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.functions` which creates an array of\n     * `object` function property names filtered from those provided.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} props The property names to filter.\n     * @returns {Array} Returns the new array of filtered property names.\n     */\n    function baseFunctions(object, props) {\n      var index = -1,\n          length = props.length,\n          resIndex = -1,\n          result = [];\n\n      while (++index < length) {\n        var key = props[index];\n        if (isFunction(object[key])) {\n          result[++resIndex] = key;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `get` without support for string paths\n     * and default values.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array} path The path of the property to get.\n     * @param {string} [pathKey] The key representation of path.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseGet(object, path, pathKey) {\n      if (object == null) {\n        return;\n      }\n      if (pathKey !== undefined && pathKey in toObject(object)) {\n        path = [pathKey];\n      }\n      var index = 0,\n          length = path.length;\n\n      while (object != null && index < length) {\n        object = object[path[index++]];\n      }\n      return (index && index == length) ? object : undefined;\n    }\n\n    /**\n     * The base implementation of `_.isEqual` without support for `this` binding\n     * `customizer` functions.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize comparing values.\n     * @param {boolean} [isLoose] Specify performing partial comparisons.\n     * @param {Array} [stackA] Tracks traversed `value` objects.\n     * @param {Array} [stackB] Tracks traversed `other` objects.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     */\n    function baseIsEqual(value, other, customizer, isLoose, stackA, stackB) {\n      if (value === other) {\n        return true;\n      }\n      if (value == null || other == null || (!isObject(value) && !isObjectLike(other))) {\n        return value !== value && other !== other;\n      }\n      return baseIsEqualDeep(value, other, baseIsEqual, customizer, isLoose, stackA, stackB);\n    }\n\n    /**\n     * A specialized version of `baseIsEqual` for arrays and objects which performs\n     * deep comparisons and tracks traversed objects enabling objects with circular\n     * references to be compared.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Function} [customizer] The function to customize comparing objects.\n     * @param {boolean} [isLoose] Specify performing partial comparisons.\n     * @param {Array} [stackA=[]] Tracks traversed `value` objects.\n     * @param {Array} [stackB=[]] Tracks traversed `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function baseIsEqualDeep(object, other, equalFunc, customizer, isLoose, stackA, stackB) {\n      var objIsArr = isArray(object),\n          othIsArr = isArray(other),\n          objTag = arrayTag,\n          othTag = arrayTag;\n\n      if (!objIsArr) {\n        objTag = objToString.call(object);\n        if (objTag == argsTag) {\n          objTag = objectTag;\n        } else if (objTag != objectTag) {\n          objIsArr = isTypedArray(object);\n        }\n      }\n      if (!othIsArr) {\n        othTag = objToString.call(other);\n        if (othTag == argsTag) {\n          othTag = objectTag;\n        } else if (othTag != objectTag) {\n          othIsArr = isTypedArray(other);\n        }\n      }\n      var objIsObj = objTag == objectTag,\n          othIsObj = othTag == objectTag,\n          isSameTag = objTag == othTag;\n\n      if (isSameTag && !(objIsArr || objIsObj)) {\n        return equalByTag(object, other, objTag);\n      }\n      if (!isLoose) {\n        var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n            othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n        if (objIsWrapped || othIsWrapped) {\n          return equalFunc(objIsWrapped ? object.value() : object, othIsWrapped ? other.value() : other, customizer, isLoose, stackA, stackB);\n        }\n      }\n      if (!isSameTag) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      // For more information on detecting circular references see https://es5.github.io/#JO.\n      stackA || (stackA = []);\n      stackB || (stackB = []);\n\n      var length = stackA.length;\n      while (length--) {\n        if (stackA[length] == object) {\n          return stackB[length] == other;\n        }\n      }\n      // Add `object` and `other` to the stack of traversed objects.\n      stackA.push(object);\n      stackB.push(other);\n\n      var result = (objIsArr ? equalArrays : equalObjects)(object, other, equalFunc, customizer, isLoose, stackA, stackB);\n\n      stackA.pop();\n      stackB.pop();\n\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.isMatch` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} matchData The propery names, values, and compare flags to match.\n     * @param {Function} [customizer] The function to customize comparing objects.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     */\n    function baseIsMatch(object, matchData, customizer) {\n      var index = matchData.length,\n          length = index,\n          noCustomizer = !customizer;\n\n      if (object == null) {\n        return !length;\n      }\n      object = toObject(object);\n      while (index--) {\n        var data = matchData[index];\n        if ((noCustomizer && data[2])\n              ? data[1] !== object[data[0]]\n              : !(data[0] in object)\n            ) {\n          return false;\n        }\n      }\n      while (++index < length) {\n        data = matchData[index];\n        var key = data[0],\n            objValue = object[key],\n            srcValue = data[1];\n\n        if (noCustomizer && data[2]) {\n          if (objValue === undefined && !(key in object)) {\n            return false;\n          }\n        } else {\n          var result = customizer ? customizer(objValue, srcValue, key) : undefined;\n          if (!(result === undefined ? baseIsEqual(srcValue, objValue, customizer, true) : result)) {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.map` without support for callback shorthands\n     * and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n    function baseMap(collection, iteratee) {\n      var index = -1,\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value, key, collection) {\n        result[++index] = iteratee(value, key, collection);\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.matches` which does not clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new function.\n     */\n    function baseMatches(source) {\n      var matchData = getMatchData(source);\n      if (matchData.length == 1 && matchData[0][2]) {\n        var key = matchData[0][0],\n            value = matchData[0][1];\n\n        return function(object) {\n          if (object == null) {\n            return false;\n          }\n          return object[key] === value && (value !== undefined || (key in toObject(object)));\n        };\n      }\n      return function(object) {\n        return baseIsMatch(object, matchData);\n      };\n    }\n\n    /**\n     * The base implementation of `_.matchesProperty` which does not clone `srcValue`.\n     *\n     * @private\n     * @param {string} path The path of the property to get.\n     * @param {*} srcValue The value to compare.\n     * @returns {Function} Returns the new function.\n     */\n    function baseMatchesProperty(path, srcValue) {\n      var isArr = isArray(path),\n          isCommon = isKey(path) && isStrictComparable(srcValue),\n          pathKey = (path + '');\n\n      path = toPath(path);\n      return function(object) {\n        if (object == null) {\n          return false;\n        }\n        var key = pathKey;\n        object = toObject(object);\n        if ((isArr || !isCommon) && !(key in object)) {\n          object = path.length == 1 ? object : baseGet(object, baseSlice(path, 0, -1));\n          if (object == null) {\n            return false;\n          }\n          key = last(path);\n          object = toObject(object);\n        }\n        return object[key] === srcValue\n          ? (srcValue !== undefined || (key in object))\n          : baseIsEqual(srcValue, object[key], undefined, true);\n      };\n    }\n\n    /**\n     * The base implementation of `_.merge` without support for argument juggling,\n     * multiple sources, and `this` binding `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {Function} [customizer] The function to customize merged values.\n     * @param {Array} [stackA=[]] Tracks traversed source objects.\n     * @param {Array} [stackB=[]] Associates values with source counterparts.\n     * @returns {Object} Returns `object`.\n     */\n    function baseMerge(object, source, customizer, stackA, stackB) {\n      if (!isObject(object)) {\n        return object;\n      }\n      var isSrcArr = isArrayLike(source) && (isArray(source) || isTypedArray(source)),\n          props = isSrcArr ? undefined : keys(source);\n\n      arrayEach(props || source, function(srcValue, key) {\n        if (props) {\n          key = srcValue;\n          srcValue = source[key];\n        }\n        if (isObjectLike(srcValue)) {\n          stackA || (stackA = []);\n          stackB || (stackB = []);\n          baseMergeDeep(object, source, key, baseMerge, customizer, stackA, stackB);\n        }\n        else {\n          var value = object[key],\n              result = customizer ? customizer(value, srcValue, key, object, source) : undefined,\n              isCommon = result === undefined;\n\n          if (isCommon) {\n            result = srcValue;\n          }\n          if ((result !== undefined || (isSrcArr && !(key in object))) &&\n              (isCommon || (result === result ? (result !== value) : (value === value)))) {\n            object[key] = result;\n          }\n        }\n      });\n      return object;\n    }\n\n    /**\n     * A specialized version of `baseMerge` for arrays and objects which performs\n     * deep merges and tracks traversed objects enabling objects with circular\n     * references to be merged.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {string} key The key of the value to merge.\n     * @param {Function} mergeFunc The function to merge values.\n     * @param {Function} [customizer] The function to customize merged values.\n     * @param {Array} [stackA=[]] Tracks traversed source objects.\n     * @param {Array} [stackB=[]] Associates values with source counterparts.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function baseMergeDeep(object, source, key, mergeFunc, customizer, stackA, stackB) {\n      var length = stackA.length,\n          srcValue = source[key];\n\n      while (length--) {\n        if (stackA[length] == srcValue) {\n          object[key] = stackB[length];\n          return;\n        }\n      }\n      var value = object[key],\n          result = customizer ? customizer(value, srcValue, key, object, source) : undefined,\n          isCommon = result === undefined;\n\n      if (isCommon) {\n        result = srcValue;\n        if (isArrayLike(srcValue) && (isArray(srcValue) || isTypedArray(srcValue))) {\n          result = isArray(value)\n            ? value\n            : (isArrayLike(value) ? arrayCopy(value) : []);\n        }\n        else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n          result = isArguments(value)\n            ? toPlainObject(value)\n            : (isPlainObject(value) ? value : {});\n        }\n        else {\n          isCommon = false;\n        }\n      }\n      // Add the source value to the stack of traversed objects and associate\n      // it with its merged value.\n      stackA.push(srcValue);\n      stackB.push(result);\n\n      if (isCommon) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        object[key] = mergeFunc(result, srcValue, customizer, stackA, stackB);\n      } else if (result === result ? (result !== value) : (value === value)) {\n        object[key] = result;\n      }\n    }\n\n    /**\n     * The base implementation of `_.property` without support for deep paths.\n     *\n     * @private\n     * @param {string} key The key of the property to get.\n     * @returns {Function} Returns the new function.\n     */\n    function baseProperty(key) {\n      return function(object) {\n        return object == null ? undefined : object[key];\n      };\n    }\n\n    /**\n     * A specialized version of `baseProperty` which supports deep paths.\n     *\n     * @private\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new function.\n     */\n    function basePropertyDeep(path) {\n      var pathKey = (path + '');\n      path = toPath(path);\n      return function(object) {\n        return baseGet(object, path, pathKey);\n      };\n    }\n\n    /**\n     * The base implementation of `_.pullAt` without support for individual\n     * index arguments and capturing the removed elements.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {number[]} indexes The indexes of elements to remove.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAt(array, indexes) {\n      var length = array ? indexes.length : 0;\n      while (length--) {\n        var index = indexes[length];\n        if (index != previous && isIndex(index)) {\n          var previous = index;\n          splice.call(array, index, 1);\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.random` without support for argument juggling\n     * and returning floating-point numbers.\n     *\n     * @private\n     * @param {number} min The minimum possible value.\n     * @param {number} max The maximum possible value.\n     * @returns {number} Returns the random number.\n     */\n    function baseRandom(min, max) {\n      return min + nativeFloor(nativeRandom() * (max - min + 1));\n    }\n\n    /**\n     * The base implementation of `_.reduce` and `_.reduceRight` without support\n     * for callback shorthands and `this` binding, which iterates over `collection`\n     * using the provided `eachFunc`.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {*} accumulator The initial value.\n     * @param {boolean} initFromCollection Specify using the first or last element\n     *  of `collection` as the initial value.\n     * @param {Function} eachFunc The function to iterate over `collection`.\n     * @returns {*} Returns the accumulated value.\n     */\n    function baseReduce(collection, iteratee, accumulator, initFromCollection, eachFunc) {\n      eachFunc(collection, function(value, index, collection) {\n        accumulator = initFromCollection\n          ? (initFromCollection = false, value)\n          : iteratee(accumulator, value, index, collection);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `setData` without support for hot loop detection.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetData = !metaMap ? identity : function(func, data) {\n      metaMap.set(func, data);\n      return func;\n    };\n\n    /**\n     * The base implementation of `_.slice` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseSlice(array, start, end) {\n      var index = -1,\n          length = array.length;\n\n      start = start == null ? 0 : (+start || 0);\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = (end === undefined || end > length) ? length : (+end || 0);\n      if (end < 0) {\n        end += length;\n      }\n      length = start > end ? 0 : ((end - start) >>> 0);\n      start >>>= 0;\n\n      var result = Array(length);\n      while (++index < length) {\n        result[index] = array[index + start];\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.some` without support for callback shorthands\n     * and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n    function baseSome(collection, predicate) {\n      var result;\n\n      baseEach(collection, function(value, index, collection) {\n        result = predicate(value, index, collection);\n        return !result;\n      });\n      return !!result;\n    }\n\n    /**\n     * The base implementation of `_.sortBy` which uses `comparer` to define\n     * the sort order of `array` and replaces criteria objects with their\n     * corresponding values.\n     *\n     * @private\n     * @param {Array} array The array to sort.\n     * @param {Function} comparer The function to define sort order.\n     * @returns {Array} Returns `array`.\n     */\n    function baseSortBy(array, comparer) {\n      var length = array.length;\n\n      array.sort(comparer);\n      while (length--) {\n        array[length] = array[length].value;\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.sortByOrder` without param guards.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n     * @param {boolean[]} orders The sort orders of `iteratees`.\n     * @returns {Array} Returns the new sorted array.\n     */\n    function baseSortByOrder(collection, iteratees, orders) {\n      var callback = getCallback(),\n          index = -1;\n\n      iteratees = arrayMap(iteratees, function(iteratee) { return callback(iteratee); });\n\n      var result = baseMap(collection, function(value) {\n        var criteria = arrayMap(iteratees, function(iteratee) { return iteratee(value); });\n        return { 'criteria': criteria, 'index': ++index, 'value': value };\n      });\n\n      return baseSortBy(result, function(object, other) {\n        return compareMultiple(object, other, orders);\n      });\n    }\n\n    /**\n     * The base implementation of `_.sum` without support for callback shorthands\n     * and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {number} Returns the sum.\n     */\n    function baseSum(collection, iteratee) {\n      var result = 0;\n      baseEach(collection, function(value, index, collection) {\n        result += +iteratee(value, index, collection) || 0;\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.uniq` without support for callback shorthands\n     * and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The function invoked per iteration.\n     * @returns {Array} Returns the new duplicate-value-free array.\n     */\n    function baseUniq(array, iteratee) {\n      var index = -1,\n          indexOf = getIndexOf(),\n          length = array.length,\n          isCommon = indexOf == baseIndexOf,\n          isLarge = isCommon && length >= LARGE_ARRAY_SIZE,\n          seen = isLarge ? createCache() : null,\n          result = [];\n\n      if (seen) {\n        indexOf = cacheIndexOf;\n        isCommon = false;\n      } else {\n        isLarge = false;\n        seen = iteratee ? [] : result;\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value, index, array) : value;\n\n        if (isCommon && value === value) {\n          var seenIndex = seen.length;\n          while (seenIndex--) {\n            if (seen[seenIndex] === computed) {\n              continue outer;\n            }\n          }\n          if (iteratee) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n        else if (indexOf(seen, computed, 0) < 0) {\n          if (iteratee || isLarge) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.values` and `_.valuesIn` which creates an\n     * array of `object` property values corresponding to the property names\n     * of `props`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array} props The property names to get values for.\n     * @returns {Object} Returns the array of property values.\n     */\n    function baseValues(object, props) {\n      var index = -1,\n          length = props.length,\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = object[props[index]];\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.dropRightWhile`, `_.dropWhile`, `_.takeRightWhile`,\n     * and `_.takeWhile` without support for callback shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {Function} predicate The function invoked per iteration.\n     * @param {boolean} [isDrop] Specify dropping elements instead of taking them.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseWhile(array, predicate, isDrop, fromRight) {\n      var length = array.length,\n          index = fromRight ? length : -1;\n\n      while ((fromRight ? index-- : ++index < length) && predicate(array[index], index, array)) {}\n      return isDrop\n        ? baseSlice(array, (fromRight ? 0 : index), (fromRight ? index + 1 : length))\n        : baseSlice(array, (fromRight ? index + 1 : 0), (fromRight ? length : index));\n    }\n\n    /**\n     * The base implementation of `wrapperValue` which returns the result of\n     * performing a sequence of actions on the unwrapped `value`, where each\n     * successive action is supplied the return value of the previous.\n     *\n     * @private\n     * @param {*} value The unwrapped value.\n     * @param {Array} actions Actions to peform to resolve the unwrapped value.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseWrapperValue(value, actions) {\n      var result = value;\n      if (result instanceof LazyWrapper) {\n        result = result.value();\n      }\n      var index = -1,\n          length = actions.length;\n\n      while (++index < length) {\n        var action = actions[index];\n        result = action.func.apply(action.thisArg, arrayPush([result], action.args));\n      }\n      return result;\n    }\n\n    /**\n     * Performs a binary search of `array` to determine the index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function binaryIndex(array, value, retHighest) {\n      var low = 0,\n          high = array ? array.length : low;\n\n      if (typeof value == 'number' && value === value && high <= HALF_MAX_ARRAY_LENGTH) {\n        while (low < high) {\n          var mid = (low + high) >>> 1,\n              computed = array[mid];\n\n          if ((retHighest ? (computed <= value) : (computed < value)) && computed !== null) {\n            low = mid + 1;\n          } else {\n            high = mid;\n          }\n        }\n        return high;\n      }\n      return binaryIndexBy(array, value, identity, retHighest);\n    }\n\n    /**\n     * This function is like `binaryIndex` except that it invokes `iteratee` for\n     * `value` and each element of `array` to compute their sort ranking. The\n     * iteratee is invoked with one argument; (value).\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function binaryIndexBy(array, value, iteratee, retHighest) {\n      value = iteratee(value);\n\n      var low = 0,\n          high = array ? array.length : 0,\n          valIsNaN = value !== value,\n          valIsNull = value === null,\n          valIsUndef = value === undefined;\n\n      while (low < high) {\n        var mid = nativeFloor((low + high) / 2),\n            computed = iteratee(array[mid]),\n            isDef = computed !== undefined,\n            isReflexive = computed === computed;\n\n        if (valIsNaN) {\n          var setLow = isReflexive || retHighest;\n        } else if (valIsNull) {\n          setLow = isReflexive && isDef && (retHighest || computed != null);\n        } else if (valIsUndef) {\n          setLow = isReflexive && (retHighest || isDef);\n        } else if (computed == null) {\n          setLow = false;\n        } else {\n          setLow = retHighest ? (computed <= value) : (computed < value);\n        }\n        if (setLow) {\n          low = mid + 1;\n        } else {\n          high = mid;\n        }\n      }\n      return nativeMin(high, MAX_ARRAY_INDEX);\n    }\n\n    /**\n     * A specialized version of `baseCallback` which only supports `this` binding\n     * and specifying the number of arguments to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {number} [argCount] The number of arguments to provide to `func`.\n     * @returns {Function} Returns the callback.\n     */\n    function bindCallback(func, thisArg, argCount) {\n      if (typeof func != 'function') {\n        return identity;\n      }\n      if (thisArg === undefined) {\n        return func;\n      }\n      switch (argCount) {\n        case 1: return function(value) {\n          return func.call(thisArg, value);\n        };\n        case 3: return function(value, index, collection) {\n          return func.call(thisArg, value, index, collection);\n        };\n        case 4: return function(accumulator, value, index, collection) {\n          return func.call(thisArg, accumulator, value, index, collection);\n        };\n        case 5: return function(value, other, key, object, source) {\n          return func.call(thisArg, value, other, key, object, source);\n        };\n      }\n      return function() {\n        return func.apply(thisArg, arguments);\n      };\n    }\n\n    /**\n     * Creates a clone of the given array buffer.\n     *\n     * @private\n     * @param {ArrayBuffer} buffer The array buffer to clone.\n     * @returns {ArrayBuffer} Returns the cloned array buffer.\n     */\n    function bufferClone(buffer) {\n      var result = new ArrayBuffer(buffer.byteLength),\n          view = new Uint8Array(result);\n\n      view.set(new Uint8Array(buffer));\n      return result;\n    }\n\n    /**\n     * Creates an array that is the composition of partially applied arguments,\n     * placeholders, and provided arguments into a single array of arguments.\n     *\n     * @private\n     * @param {Array|Object} args The provided arguments.\n     * @param {Array} partials The arguments to prepend to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgs(args, partials, holders) {\n      var holdersLength = holders.length,\n          argsIndex = -1,\n          argsLength = nativeMax(args.length - holdersLength, 0),\n          leftIndex = -1,\n          leftLength = partials.length,\n          result = Array(leftLength + argsLength);\n\n      while (++leftIndex < leftLength) {\n        result[leftIndex] = partials[leftIndex];\n      }\n      while (++argsIndex < holdersLength) {\n        result[holders[argsIndex]] = args[argsIndex];\n      }\n      while (argsLength--) {\n        result[leftIndex++] = args[argsIndex++];\n      }\n      return result;\n    }\n\n    /**\n     * This function is like `composeArgs` except that the arguments composition\n     * is tailored for `_.partialRight`.\n     *\n     * @private\n     * @param {Array|Object} args The provided arguments.\n     * @param {Array} partials The arguments to append to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgsRight(args, partials, holders) {\n      var holdersIndex = -1,\n          holdersLength = holders.length,\n          argsIndex = -1,\n          argsLength = nativeMax(args.length - holdersLength, 0),\n          rightIndex = -1,\n          rightLength = partials.length,\n          result = Array(argsLength + rightLength);\n\n      while (++argsIndex < argsLength) {\n        result[argsIndex] = args[argsIndex];\n      }\n      var offset = argsIndex;\n      while (++rightIndex < rightLength) {\n        result[offset + rightIndex] = partials[rightIndex];\n      }\n      while (++holdersIndex < holdersLength) {\n        result[offset + holders[holdersIndex]] = args[argsIndex++];\n      }\n      return result;\n    }\n\n    /**\n     * Creates a `_.countBy`, `_.groupBy`, `_.indexBy`, or `_.partition` function.\n     *\n     * @private\n     * @param {Function} setter The function to set keys and values of the accumulator object.\n     * @param {Function} [initializer] The function to initialize the accumulator object.\n     * @returns {Function} Returns the new aggregator function.\n     */\n    function createAggregator(setter, initializer) {\n      return function(collection, iteratee, thisArg) {\n        var result = initializer ? initializer() : {};\n        iteratee = getCallback(iteratee, thisArg, 3);\n\n        if (isArray(collection)) {\n          var index = -1,\n              length = collection.length;\n\n          while (++index < length) {\n            var value = collection[index];\n            setter(result, value, iteratee(value, index, collection), collection);\n          }\n        } else {\n          baseEach(collection, function(value, key, collection) {\n            setter(result, value, iteratee(value, key, collection), collection);\n          });\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a `_.assign`, `_.defaults`, or `_.merge` function.\n     *\n     * @private\n     * @param {Function} assigner The function to assign values.\n     * @returns {Function} Returns the new assigner function.\n     */\n    function createAssigner(assigner) {\n      return restParam(function(object, sources) {\n        var index = -1,\n            length = object == null ? 0 : sources.length,\n            customizer = length > 2 ? sources[length - 2] : undefined,\n            guard = length > 2 ? sources[2] : undefined,\n            thisArg = length > 1 ? sources[length - 1] : undefined;\n\n        if (typeof customizer == 'function') {\n          customizer = bindCallback(customizer, thisArg, 5);\n          length -= 2;\n        } else {\n          customizer = typeof thisArg == 'function' ? thisArg : undefined;\n          length -= (customizer ? 1 : 0);\n        }\n        if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n          customizer = length < 3 ? undefined : customizer;\n          length = 1;\n        }\n        while (++index < length) {\n          var source = sources[index];\n          if (source) {\n            assigner(object, source, customizer);\n          }\n        }\n        return object;\n      });\n    }\n\n    /**\n     * Creates a `baseEach` or `baseEachRight` function.\n     *\n     * @private\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseEach(eachFunc, fromRight) {\n      return function(collection, iteratee) {\n        var length = collection ? getLength(collection) : 0;\n        if (!isLength(length)) {\n          return eachFunc(collection, iteratee);\n        }\n        var index = fromRight ? length : -1,\n            iterable = toObject(collection);\n\n        while ((fromRight ? index-- : ++index < length)) {\n          if (iteratee(iterable[index], index, iterable) === false) {\n            break;\n          }\n        }\n        return collection;\n      };\n    }\n\n    /**\n     * Creates a base function for `_.forIn` or `_.forInRight`.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseFor(fromRight) {\n      return function(object, iteratee, keysFunc) {\n        var iterable = toObject(object),\n            props = keysFunc(object),\n            length = props.length,\n            index = fromRight ? length : -1;\n\n        while ((fromRight ? index-- : ++index < length)) {\n          var key = props[index];\n          if (iteratee(iterable[key], key, iterable) === false) {\n            break;\n          }\n        }\n        return object;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` and invokes it with the `this`\n     * binding of `thisArg`.\n     *\n     * @private\n     * @param {Function} func The function to bind.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @returns {Function} Returns the new bound function.\n     */\n    function createBindWrapper(func, thisArg) {\n      var Ctor = createCtorWrapper(func);\n\n      function wrapper() {\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return fn.apply(thisArg, arguments);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `Set` cache object to optimize linear searches of large arrays.\n     *\n     * @private\n     * @param {Array} [values] The values to cache.\n     * @returns {null|Object} Returns the new cache object if `Set` is supported, else `null`.\n     */\n    function createCache(values) {\n      return (nativeCreate && Set) ? new SetCache(values) : null;\n    }\n\n    /**\n     * Creates a function that produces compound words out of the words in a\n     * given string.\n     *\n     * @private\n     * @param {Function} callback The function to combine each word.\n     * @returns {Function} Returns the new compounder function.\n     */\n    function createCompounder(callback) {\n      return function(string) {\n        var index = -1,\n            array = words(deburr(string)),\n            length = array.length,\n            result = '';\n\n        while (++index < length) {\n          result = callback(result, array[index], index);\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that produces an instance of `Ctor` regardless of\n     * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n     *\n     * @private\n     * @param {Function} Ctor The constructor to wrap.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCtorWrapper(Ctor) {\n      return function() {\n        // Use a `switch` statement to work with class constructors.\n        // See http://ecma-international.org/ecma-262/6.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\n        // for more details.\n        var args = arguments;\n        switch (args.length) {\n          case 0: return new Ctor;\n          case 1: return new Ctor(args[0]);\n          case 2: return new Ctor(args[0], args[1]);\n          case 3: return new Ctor(args[0], args[1], args[2]);\n          case 4: return new Ctor(args[0], args[1], args[2], args[3]);\n          case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n          case 6: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n          case 7: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n        }\n        var thisBinding = baseCreate(Ctor.prototype),\n            result = Ctor.apply(thisBinding, args);\n\n        // Mimic the constructor's `return` behavior.\n        // See https://es5.github.io/#x13.2.2 for more details.\n        return isObject(result) ? result : thisBinding;\n      };\n    }\n\n    /**\n     * Creates a `_.curry` or `_.curryRight` function.\n     *\n     * @private\n     * @param {boolean} flag The curry bit flag.\n     * @returns {Function} Returns the new curry function.\n     */\n    function createCurry(flag) {\n      function curryFunc(func, arity, guard) {\n        if (guard && isIterateeCall(func, arity, guard)) {\n          arity = undefined;\n        }\n        var result = createWrapper(func, flag, undefined, undefined, undefined, undefined, undefined, arity);\n        result.placeholder = curryFunc.placeholder;\n        return result;\n      }\n      return curryFunc;\n    }\n\n    /**\n     * Creates a `_.defaults` or `_.defaultsDeep` function.\n     *\n     * @private\n     * @param {Function} assigner The function to assign values.\n     * @param {Function} customizer The function to customize assigned values.\n     * @returns {Function} Returns the new defaults function.\n     */\n    function createDefaults(assigner, customizer) {\n      return restParam(function(args) {\n        var object = args[0];\n        if (object == null) {\n          return object;\n        }\n        args.push(customizer);\n        return assigner.apply(undefined, args);\n      });\n    }\n\n    /**\n     * Creates a `_.max` or `_.min` function.\n     *\n     * @private\n     * @param {Function} comparator The function used to compare values.\n     * @param {*} exValue The initial extremum value.\n     * @returns {Function} Returns the new extremum function.\n     */\n    function createExtremum(comparator, exValue) {\n      return function(collection, iteratee, thisArg) {\n        if (thisArg && isIterateeCall(collection, iteratee, thisArg)) {\n          iteratee = undefined;\n        }\n        iteratee = getCallback(iteratee, thisArg, 3);\n        if (iteratee.length == 1) {\n          collection = isArray(collection) ? collection : toIterable(collection);\n          var result = arrayExtremum(collection, iteratee, comparator, exValue);\n          if (!(collection.length && result === exValue)) {\n            return result;\n          }\n        }\n        return baseExtremum(collection, iteratee, comparator, exValue);\n      };\n    }\n\n    /**\n     * Creates a `_.find` or `_.findLast` function.\n     *\n     * @private\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFind(eachFunc, fromRight) {\n      return function(collection, predicate, thisArg) {\n        predicate = getCallback(predicate, thisArg, 3);\n        if (isArray(collection)) {\n          var index = baseFindIndex(collection, predicate, fromRight);\n          return index > -1 ? collection[index] : undefined;\n        }\n        return baseFind(collection, predicate, eachFunc);\n      };\n    }\n\n    /**\n     * Creates a `_.findIndex` or `_.findLastIndex` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFindIndex(fromRight) {\n      return function(array, predicate, thisArg) {\n        if (!(array && array.length)) {\n          return -1;\n        }\n        predicate = getCallback(predicate, thisArg, 3);\n        return baseFindIndex(array, predicate, fromRight);\n      };\n    }\n\n    /**\n     * Creates a `_.findKey` or `_.findLastKey` function.\n     *\n     * @private\n     * @param {Function} objectFunc The function to iterate over an object.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFindKey(objectFunc) {\n      return function(object, predicate, thisArg) {\n        predicate = getCallback(predicate, thisArg, 3);\n        return baseFind(object, predicate, objectFunc, true);\n      };\n    }\n\n    /**\n     * Creates a `_.flow` or `_.flowRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new flow function.\n     */\n    function createFlow(fromRight) {\n      return function() {\n        var wrapper,\n            length = arguments.length,\n            index = fromRight ? length : -1,\n            leftIndex = 0,\n            funcs = Array(length);\n\n        while ((fromRight ? index-- : ++index < length)) {\n          var func = funcs[leftIndex++] = arguments[index];\n          if (typeof func != 'function') {\n            throw new TypeError(FUNC_ERROR_TEXT);\n          }\n          if (!wrapper && LodashWrapper.prototype.thru && getFuncName(func) == 'wrapper') {\n            wrapper = new LodashWrapper([], true);\n          }\n        }\n        index = wrapper ? -1 : length;\n        while (++index < length) {\n          func = funcs[index];\n\n          var funcName = getFuncName(func),\n              data = funcName == 'wrapper' ? getData(func) : undefined;\n\n          if (data && isLaziable(data[0]) && data[1] == (ARY_FLAG | CURRY_FLAG | PARTIAL_FLAG | REARG_FLAG) && !data[4].length && data[9] == 1) {\n            wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3]);\n          } else {\n            wrapper = (func.length == 1 && isLaziable(func)) ? wrapper[funcName]() : wrapper.thru(func);\n          }\n        }\n        return function() {\n          var args = arguments,\n              value = args[0];\n\n          if (wrapper && args.length == 1 && isArray(value) && value.length >= LARGE_ARRAY_SIZE) {\n            return wrapper.plant(value).value();\n          }\n          var index = 0,\n              result = length ? funcs[index].apply(this, args) : value;\n\n          while (++index < length) {\n            result = funcs[index].call(this, result);\n          }\n          return result;\n        };\n      };\n    }\n\n    /**\n     * Creates a function for `_.forEach` or `_.forEachRight`.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to iterate over an array.\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @returns {Function} Returns the new each function.\n     */\n    function createForEach(arrayFunc, eachFunc) {\n      return function(collection, iteratee, thisArg) {\n        return (typeof iteratee == 'function' && thisArg === undefined && isArray(collection))\n          ? arrayFunc(collection, iteratee)\n          : eachFunc(collection, bindCallback(iteratee, thisArg, 3));\n      };\n    }\n\n    /**\n     * Creates a function for `_.forIn` or `_.forInRight`.\n     *\n     * @private\n     * @param {Function} objectFunc The function to iterate over an object.\n     * @returns {Function} Returns the new each function.\n     */\n    function createForIn(objectFunc) {\n      return function(object, iteratee, thisArg) {\n        if (typeof iteratee != 'function' || thisArg !== undefined) {\n          iteratee = bindCallback(iteratee, thisArg, 3);\n        }\n        return objectFunc(object, iteratee, keysIn);\n      };\n    }\n\n    /**\n     * Creates a function for `_.forOwn` or `_.forOwnRight`.\n     *\n     * @private\n     * @param {Function} objectFunc The function to iterate over an object.\n     * @returns {Function} Returns the new each function.\n     */\n    function createForOwn(objectFunc) {\n      return function(object, iteratee, thisArg) {\n        if (typeof iteratee != 'function' || thisArg !== undefined) {\n          iteratee = bindCallback(iteratee, thisArg, 3);\n        }\n        return objectFunc(object, iteratee);\n      };\n    }\n\n    /**\n     * Creates a function for `_.mapKeys` or `_.mapValues`.\n     *\n     * @private\n     * @param {boolean} [isMapKeys] Specify mapping keys instead of values.\n     * @returns {Function} Returns the new map function.\n     */\n    function createObjectMapper(isMapKeys) {\n      return function(object, iteratee, thisArg) {\n        var result = {};\n        iteratee = getCallback(iteratee, thisArg, 3);\n\n        baseForOwn(object, function(value, key, object) {\n          var mapped = iteratee(value, key, object);\n          key = isMapKeys ? mapped : key;\n          value = isMapKeys ? value : mapped;\n          result[key] = value;\n        });\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function for `_.padLeft` or `_.padRight`.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify padding from the right.\n     * @returns {Function} Returns the new pad function.\n     */\n    function createPadDir(fromRight) {\n      return function(string, length, chars) {\n        string = baseToString(string);\n        return (fromRight ? string : '') + createPadding(string, length, chars) + (fromRight ? '' : string);\n      };\n    }\n\n    /**\n     * Creates a `_.partial` or `_.partialRight` function.\n     *\n     * @private\n     * @param {boolean} flag The partial bit flag.\n     * @returns {Function} Returns the new partial function.\n     */\n    function createPartial(flag) {\n      var partialFunc = restParam(function(func, partials) {\n        var holders = replaceHolders(partials, partialFunc.placeholder);\n        return createWrapper(func, flag, undefined, partials, holders);\n      });\n      return partialFunc;\n    }\n\n    /**\n     * Creates a function for `_.reduce` or `_.reduceRight`.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to iterate over an array.\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @returns {Function} Returns the new each function.\n     */\n    function createReduce(arrayFunc, eachFunc) {\n      return function(collection, iteratee, accumulator, thisArg) {\n        var initFromArray = arguments.length < 3;\n        return (typeof iteratee == 'function' && thisArg === undefined && isArray(collection))\n          ? arrayFunc(collection, iteratee, accumulator, initFromArray)\n          : baseReduce(collection, getCallback(iteratee, thisArg, 4), accumulator, initFromArray, eachFunc);\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` and invokes it with optional `this`\n     * binding of, partial application, and currying.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to reference.\n     * @param {number} bitmask The bitmask of flags. See `createWrapper` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [partialsRight] The arguments to append to those provided to the new function.\n     * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createHybridWrapper(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n      var isAry = bitmask & ARY_FLAG,\n          isBind = bitmask & BIND_FLAG,\n          isBindKey = bitmask & BIND_KEY_FLAG,\n          isCurry = bitmask & CURRY_FLAG,\n          isCurryBound = bitmask & CURRY_BOUND_FLAG,\n          isCurryRight = bitmask & CURRY_RIGHT_FLAG,\n          Ctor = isBindKey ? undefined : createCtorWrapper(func);\n\n      function wrapper() {\n        // Avoid `arguments` object use disqualifying optimizations by\n        // converting it to an array before providing it to other functions.\n        var length = arguments.length,\n            index = length,\n            args = Array(length);\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        if (partials) {\n          args = composeArgs(args, partials, holders);\n        }\n        if (partialsRight) {\n          args = composeArgsRight(args, partialsRight, holdersRight);\n        }\n        if (isCurry || isCurryRight) {\n          var placeholder = wrapper.placeholder,\n              argsHolders = replaceHolders(args, placeholder);\n\n          length -= argsHolders.length;\n          if (length < arity) {\n            var newArgPos = argPos ? arrayCopy(argPos) : undefined,\n                newArity = nativeMax(arity - length, 0),\n                newsHolders = isCurry ? argsHolders : undefined,\n                newHoldersRight = isCurry ? undefined : argsHolders,\n                newPartials = isCurry ? args : undefined,\n                newPartialsRight = isCurry ? undefined : args;\n\n            bitmask |= (isCurry ? PARTIAL_FLAG : PARTIAL_RIGHT_FLAG);\n            bitmask &= ~(isCurry ? PARTIAL_RIGHT_FLAG : PARTIAL_FLAG);\n\n            if (!isCurryBound) {\n              bitmask &= ~(BIND_FLAG | BIND_KEY_FLAG);\n            }\n            var newData = [func, bitmask, thisArg, newPartials, newsHolders, newPartialsRight, newHoldersRight, newArgPos, ary, newArity],\n                result = createHybridWrapper.apply(undefined, newData);\n\n            if (isLaziable(func)) {\n              setData(result, newData);\n            }\n            result.placeholder = placeholder;\n            return result;\n          }\n        }\n        var thisBinding = isBind ? thisArg : this,\n            fn = isBindKey ? thisBinding[func] : func;\n\n        if (argPos) {\n          args = reorder(args, argPos);\n        }\n        if (isAry && ary < args.length) {\n          args.length = ary;\n        }\n        if (this && this !== root && this instanceof wrapper) {\n          fn = Ctor || createCtorWrapper(func);\n        }\n        return fn.apply(thisBinding, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates the padding required for `string` based on the given `length`.\n     * The `chars` string is truncated if the number of characters exceeds `length`.\n     *\n     * @private\n     * @param {string} string The string to create padding for.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the pad for `string`.\n     */\n    function createPadding(string, length, chars) {\n      var strLength = string.length;\n      length = +length;\n\n      if (strLength >= length || !nativeIsFinite(length)) {\n        return '';\n      }\n      var padLength = length - strLength;\n      chars = chars == null ? ' ' : (chars + '');\n      return repeat(chars, nativeCeil(padLength / chars.length)).slice(0, padLength);\n    }\n\n    /**\n     * Creates a function that wraps `func` and invokes it with the optional `this`\n     * binding of `thisArg` and the `partials` prepended to those provided to\n     * the wrapper.\n     *\n     * @private\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {number} bitmask The bitmask of flags. See `createWrapper` for more details.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {Array} partials The arguments to prepend to those provided to the new function.\n     * @returns {Function} Returns the new bound function.\n     */\n    function createPartialWrapper(func, bitmask, thisArg, partials) {\n      var isBind = bitmask & BIND_FLAG,\n          Ctor = createCtorWrapper(func);\n\n      function wrapper() {\n        // Avoid `arguments` object use disqualifying optimizations by\n        // converting it to an array before providing it `func`.\n        var argsIndex = -1,\n            argsLength = arguments.length,\n            leftIndex = -1,\n            leftLength = partials.length,\n            args = Array(leftLength + argsLength);\n\n        while (++leftIndex < leftLength) {\n          args[leftIndex] = partials[leftIndex];\n        }\n        while (argsLength--) {\n          args[leftIndex++] = arguments[++argsIndex];\n        }\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return fn.apply(isBind ? thisArg : this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.ceil`, `_.floor`, or `_.round` function.\n     *\n     * @private\n     * @param {string} methodName The name of the `Math` method to use when rounding.\n     * @returns {Function} Returns the new round function.\n     */\n    function createRound(methodName) {\n      var func = Math[methodName];\n      return function(number, precision) {\n        precision = precision === undefined ? 0 : (+precision || 0);\n        if (precision) {\n          precision = pow(10, precision);\n          return func(number * precision) / precision;\n        }\n        return func(number);\n      };\n    }\n\n    /**\n     * Creates a `_.sortedIndex` or `_.sortedLastIndex` function.\n     *\n     * @private\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {Function} Returns the new index function.\n     */\n    function createSortedIndex(retHighest) {\n      return function(array, value, iteratee, thisArg) {\n        var callback = getCallback(iteratee);\n        return (iteratee == null && callback === baseCallback)\n          ? binaryIndex(array, value, retHighest)\n          : binaryIndexBy(array, value, callback(iteratee, thisArg, 1), retHighest);\n      };\n    }\n\n    /**\n     * Creates a function that either curries or invokes `func` with optional\n     * `this` binding and partially applied arguments.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to reference.\n     * @param {number} bitmask The bitmask of flags.\n     *  The bitmask may be composed of the following flags:\n     *     1 - `_.bind`\n     *     2 - `_.bindKey`\n     *     4 - `_.curry` or `_.curryRight` of a bound function\n     *     8 - `_.curry`\n     *    16 - `_.curryRight`\n     *    32 - `_.partial`\n     *    64 - `_.partialRight`\n     *   128 - `_.rearg`\n     *   256 - `_.ary`\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to be partially applied.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createWrapper(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n      var isBindKey = bitmask & BIND_KEY_FLAG;\n      if (!isBindKey && typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var length = partials ? partials.length : 0;\n      if (!length) {\n        bitmask &= ~(PARTIAL_FLAG | PARTIAL_RIGHT_FLAG);\n        partials = holders = undefined;\n      }\n      length -= (holders ? holders.length : 0);\n      if (bitmask & PARTIAL_RIGHT_FLAG) {\n        var partialsRight = partials,\n            holdersRight = holders;\n\n        partials = holders = undefined;\n      }\n      var data = isBindKey ? undefined : getData(func),\n          newData = [func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity];\n\n      if (data) {\n        mergeData(newData, data);\n        bitmask = newData[1];\n        arity = newData[9];\n      }\n      newData[9] = arity == null\n        ? (isBindKey ? 0 : func.length)\n        : (nativeMax(arity - length, 0) || 0);\n\n      if (bitmask == BIND_FLAG) {\n        var result = createBindWrapper(newData[0], newData[2]);\n      } else if ((bitmask == PARTIAL_FLAG || bitmask == (BIND_FLAG | PARTIAL_FLAG)) && !newData[4].length) {\n        result = createPartialWrapper.apply(undefined, newData);\n      } else {\n        result = createHybridWrapper.apply(undefined, newData);\n      }\n      var setter = data ? baseSetData : setData;\n      return setter(result, newData);\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for arrays with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Array} array The array to compare.\n     * @param {Array} other The other array to compare.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Function} [customizer] The function to customize comparing arrays.\n     * @param {boolean} [isLoose] Specify performing partial comparisons.\n     * @param {Array} [stackA] Tracks traversed `value` objects.\n     * @param {Array} [stackB] Tracks traversed `other` objects.\n     * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n     */\n    function equalArrays(array, other, equalFunc, customizer, isLoose, stackA, stackB) {\n      var index = -1,\n          arrLength = array.length,\n          othLength = other.length;\n\n      if (arrLength != othLength && !(isLoose && othLength > arrLength)) {\n        return false;\n      }\n      // Ignore non-index properties.\n      while (++index < arrLength) {\n        var arrValue = array[index],\n            othValue = other[index],\n            result = customizer ? customizer(isLoose ? othValue : arrValue, isLoose ? arrValue : othValue, index) : undefined;\n\n        if (result !== undefined) {\n          if (result) {\n            continue;\n          }\n          return false;\n        }\n        // Recursively compare arrays (susceptible to call stack limits).\n        if (isLoose) {\n          if (!arraySome(other, function(othValue) {\n                return arrValue === othValue || equalFunc(arrValue, othValue, customizer, isLoose, stackA, stackB);\n              })) {\n            return false;\n          }\n        } else if (!(arrValue === othValue || equalFunc(arrValue, othValue, customizer, isLoose, stackA, stackB))) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for comparing objects of\n     * the same `toStringTag`.\n     *\n     * **Note:** This function only supports comparing values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {string} tag The `toStringTag` of the objects to compare.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalByTag(object, other, tag) {\n      switch (tag) {\n        case boolTag:\n        case dateTag:\n          // Coerce dates and booleans to numbers, dates to milliseconds and booleans\n          // to `1` or `0` treating invalid dates coerced to `NaN` as not equal.\n          return +object == +other;\n\n        case errorTag:\n          return object.name == other.name && object.message == other.message;\n\n        case numberTag:\n          // Treat `NaN` vs. `NaN` as equal.\n          return (object != +object)\n            ? other != +other\n            : object == +other;\n\n        case regexpTag:\n        case stringTag:\n          // Coerce regexes to strings and treat strings primitives and string\n          // objects as equal. See https://es5.github.io/#x15.10.6.4 for more details.\n          return object == (other + '');\n      }\n      return false;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for objects with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Function} [customizer] The function to customize comparing values.\n     * @param {boolean} [isLoose] Specify performing partial comparisons.\n     * @param {Array} [stackA] Tracks traversed `value` objects.\n     * @param {Array} [stackB] Tracks traversed `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalObjects(object, other, equalFunc, customizer, isLoose, stackA, stackB) {\n      var objProps = keys(object),\n          objLength = objProps.length,\n          othProps = keys(other),\n          othLength = othProps.length;\n\n      if (objLength != othLength && !isLoose) {\n        return false;\n      }\n      var index = objLength;\n      while (index--) {\n        var key = objProps[index];\n        if (!(isLoose ? key in other : hasOwnProperty.call(other, key))) {\n          return false;\n        }\n      }\n      var skipCtor = isLoose;\n      while (++index < objLength) {\n        key = objProps[index];\n        var objValue = object[key],\n            othValue = other[key],\n            result = customizer ? customizer(isLoose ? othValue : objValue, isLoose? objValue : othValue, key) : undefined;\n\n        // Recursively compare objects (susceptible to call stack limits).\n        if (!(result === undefined ? equalFunc(objValue, othValue, customizer, isLoose, stackA, stackB) : result)) {\n          return false;\n        }\n        skipCtor || (skipCtor = key == 'constructor');\n      }\n      if (!skipCtor) {\n        var objCtor = object.constructor,\n            othCtor = other.constructor;\n\n        // Non `Object` object instances with different constructors are not equal.\n        if (objCtor != othCtor &&\n            ('constructor' in object && 'constructor' in other) &&\n            !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n              typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * Gets the appropriate \"callback\" function. If the `_.callback` method is\n     * customized this function returns the custom method, otherwise it returns\n     * the `baseCallback` function. If arguments are provided the chosen function\n     * is invoked with them and its result is returned.\n     *\n     * @private\n     * @returns {Function} Returns the chosen function or its result.\n     */\n    function getCallback(func, thisArg, argCount) {\n      var result = lodash.callback || callback;\n      result = result === callback ? baseCallback : result;\n      return argCount ? result(func, thisArg, argCount) : result;\n    }\n\n    /**\n     * Gets metadata for `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {*} Returns the metadata for `func`.\n     */\n    var getData = !metaMap ? noop : function(func) {\n      return metaMap.get(func);\n    };\n\n    /**\n     * Gets the name of `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {string} Returns the function name.\n     */\n    function getFuncName(func) {\n      var result = func.name,\n          array = realNames[result],\n          length = array ? array.length : 0;\n\n      while (length--) {\n        var data = array[length],\n            otherFunc = data.func;\n        if (otherFunc == null || otherFunc == func) {\n          return data.name;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Gets the appropriate \"indexOf\" function. If the `_.indexOf` method is\n     * customized this function returns the custom method, otherwise it returns\n     * the `baseIndexOf` function. If arguments are provided the chosen function\n     * is invoked with them and its result is returned.\n     *\n     * @private\n     * @returns {Function|number} Returns the chosen function or its result.\n     */\n    function getIndexOf(collection, target, fromIndex) {\n      var result = lodash.indexOf || indexOf;\n      result = result === indexOf ? baseIndexOf : result;\n      return collection ? result(collection, target, fromIndex) : result;\n    }\n\n    /**\n     * Gets the \"length\" property value of `object`.\n     *\n     * **Note:** This function is used to avoid a [JIT bug](https://bugs.webkit.org/show_bug.cgi?id=142792)\n     * that affects Safari on at least iOS 8.1-8.3 ARM64.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {*} Returns the \"length\" value.\n     */\n    var getLength = baseProperty('length');\n\n    /**\n     * Gets the propery names, values, and compare flags of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the match data of `object`.\n     */\n    function getMatchData(object) {\n      var result = pairs(object),\n          length = result.length;\n\n      while (length--) {\n        result[length][2] = isStrictComparable(result[length][1]);\n      }\n      return result;\n    }\n\n    /**\n     * Gets the native function at `key` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the method to get.\n     * @returns {*} Returns the function if it's native, else `undefined`.\n     */\n    function getNative(object, key) {\n      var value = object == null ? undefined : object[key];\n      return isNative(value) ? value : undefined;\n    }\n\n    /**\n     * Gets the view, applying any `transforms` to the `start` and `end` positions.\n     *\n     * @private\n     * @param {number} start The start of the view.\n     * @param {number} end The end of the view.\n     * @param {Array} transforms The transformations to apply to the view.\n     * @returns {Object} Returns an object containing the `start` and `end`\n     *  positions of the view.\n     */\n    function getView(start, end, transforms) {\n      var index = -1,\n          length = transforms.length;\n\n      while (++index < length) {\n        var data = transforms[index],\n            size = data.size;\n\n        switch (data.type) {\n          case 'drop':      start += size; break;\n          case 'dropRight': end -= size; break;\n          case 'take':      end = nativeMin(end, start + size); break;\n          case 'takeRight': start = nativeMax(start, end - size); break;\n        }\n      }\n      return { 'start': start, 'end': end };\n    }\n\n    /**\n     * Initializes an array clone.\n     *\n     * @private\n     * @param {Array} array The array to clone.\n     * @returns {Array} Returns the initialized clone.\n     */\n    function initCloneArray(array) {\n      var length = array.length,\n          result = new array.constructor(length);\n\n      // Add array properties assigned by `RegExp#exec`.\n      if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n        result.index = array.index;\n        result.input = array.input;\n      }\n      return result;\n    }\n\n    /**\n     * Initializes an object clone.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneObject(object) {\n      var Ctor = object.constructor;\n      if (!(typeof Ctor == 'function' && Ctor instanceof Ctor)) {\n        Ctor = Object;\n      }\n      return new Ctor;\n    }\n\n    /**\n     * Initializes an object clone based on its `toStringTag`.\n     *\n     * **Note:** This function only supports cloning values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @param {string} tag The `toStringTag` of the object to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneByTag(object, tag, isDeep) {\n      var Ctor = object.constructor;\n      switch (tag) {\n        case arrayBufferTag:\n          return bufferClone(object);\n\n        case boolTag:\n        case dateTag:\n          return new Ctor(+object);\n\n        case float32Tag: case float64Tag:\n        case int8Tag: case int16Tag: case int32Tag:\n        case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n          var buffer = object.buffer;\n          return new Ctor(isDeep ? bufferClone(buffer) : buffer, object.byteOffset, object.length);\n\n        case numberTag:\n        case stringTag:\n          return new Ctor(object);\n\n        case regexpTag:\n          var result = new Ctor(object.source, reFlags.exec(object));\n          result.lastIndex = object.lastIndex;\n      }\n      return result;\n    }\n\n    /**\n     * Invokes the method at `path` on `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {Array} args The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     */\n    function invokePath(object, path, args) {\n      if (object != null && !isKey(path, object)) {\n        path = toPath(path);\n        object = path.length == 1 ? object : baseGet(object, baseSlice(path, 0, -1));\n        path = last(path);\n      }\n      var func = object == null ? object : object[path];\n      return func == null ? undefined : func.apply(object, args);\n    }\n\n    /**\n     * Checks if `value` is array-like.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n     */\n    function isArrayLike(value) {\n      return value != null && isLength(getLength(value));\n    }\n\n    /**\n     * Checks if `value` is a valid array-like index.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n     * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n     */\n    function isIndex(value, length) {\n      value = (typeof value == 'number' || reIsUint.test(value)) ? +value : -1;\n      length = length == null ? MAX_SAFE_INTEGER : length;\n      return value > -1 && value % 1 == 0 && value < length;\n    }\n\n    /**\n     * Checks if the provided arguments are from an iteratee call.\n     *\n     * @private\n     * @param {*} value The potential iteratee value argument.\n     * @param {*} index The potential iteratee index or key argument.\n     * @param {*} object The potential iteratee object argument.\n     * @returns {boolean} Returns `true` if the arguments are from an iteratee call, else `false`.\n     */\n    function isIterateeCall(value, index, object) {\n      if (!isObject(object)) {\n        return false;\n      }\n      var type = typeof index;\n      if (type == 'number'\n          ? (isArrayLike(object) && isIndex(index, object.length))\n          : (type == 'string' && index in object)) {\n        var other = object[index];\n        return value === value ? (value === other) : (other !== other);\n      }\n      return false;\n    }\n\n    /**\n     * Checks if `value` is a property name and not a property path.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n     */\n    function isKey(value, object) {\n      var type = typeof value;\n      if ((type == 'string' && reIsPlainProp.test(value)) || type == 'number') {\n        return true;\n      }\n      if (isArray(value)) {\n        return false;\n      }\n      var result = !reIsDeepProp.test(value);\n      return result || (object != null && value in toObject(object));\n    }\n\n    /**\n     * Checks if `func` has a lazy counterpart.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` has a lazy counterpart, else `false`.\n     */\n    function isLaziable(func) {\n      var funcName = getFuncName(func);\n      if (!(funcName in LazyWrapper.prototype)) {\n        return false;\n      }\n      var other = lodash[funcName];\n      if (func === other) {\n        return true;\n      }\n      var data = getData(other);\n      return !!data && func === data[0];\n    }\n\n    /**\n     * Checks if `value` is a valid array-like length.\n     *\n     * **Note:** This function is based on [`ToLength`](http://ecma-international.org/ecma-262/6.0/#sec-tolength).\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n     */\n    function isLength(value) {\n      return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` if suitable for strict\n     *  equality comparisons, else `false`.\n     */\n    function isStrictComparable(value) {\n      return value === value && !isObject(value);\n    }\n\n    /**\n     * Merges the function metadata of `source` into `data`.\n     *\n     * Merging metadata reduces the number of wrappers required to invoke a function.\n     * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\n     * may be applied regardless of execution order. Methods like `_.ary` and `_.rearg`\n     * augment function arguments, making the order in which they are executed important,\n     * preventing the merging of metadata. However, we make an exception for a safe\n     * common case where curried functions have `_.ary` and or `_.rearg` applied.\n     *\n     * @private\n     * @param {Array} data The destination metadata.\n     * @param {Array} source The source metadata.\n     * @returns {Array} Returns `data`.\n     */\n    function mergeData(data, source) {\n      var bitmask = data[1],\n          srcBitmask = source[1],\n          newBitmask = bitmask | srcBitmask,\n          isCommon = newBitmask < ARY_FLAG;\n\n      var isCombo =\n        (srcBitmask == ARY_FLAG && bitmask == CURRY_FLAG) ||\n        (srcBitmask == ARY_FLAG && bitmask == REARG_FLAG && data[7].length <= source[8]) ||\n        (srcBitmask == (ARY_FLAG | REARG_FLAG) && bitmask == CURRY_FLAG);\n\n      // Exit early if metadata can't be merged.\n      if (!(isCommon || isCombo)) {\n        return data;\n      }\n      // Use source `thisArg` if available.\n      if (srcBitmask & BIND_FLAG) {\n        data[2] = source[2];\n        // Set when currying a bound function.\n        newBitmask |= (bitmask & BIND_FLAG) ? 0 : CURRY_BOUND_FLAG;\n      }\n      // Compose partial arguments.\n      var value = source[3];\n      if (value) {\n        var partials = data[3];\n        data[3] = partials ? composeArgs(partials, value, source[4]) : arrayCopy(value);\n        data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : arrayCopy(source[4]);\n      }\n      // Compose partial right arguments.\n      value = source[5];\n      if (value) {\n        partials = data[5];\n        data[5] = partials ? composeArgsRight(partials, value, source[6]) : arrayCopy(value);\n        data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : arrayCopy(source[6]);\n      }\n      // Use source `argPos` if available.\n      value = source[7];\n      if (value) {\n        data[7] = arrayCopy(value);\n      }\n      // Use source `ary` if it's smaller.\n      if (srcBitmask & ARY_FLAG) {\n        data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n      }\n      // Use source `arity` if one is not provided.\n      if (data[9] == null) {\n        data[9] = source[9];\n      }\n      // Use source `func` and merge bitmasks.\n      data[0] = source[0];\n      data[1] = newBitmask;\n\n      return data;\n    }\n\n    /**\n     * Used by `_.defaultsDeep` to customize its `_.merge` use.\n     *\n     * @private\n     * @param {*} objectValue The destination object property value.\n     * @param {*} sourceValue The source object property value.\n     * @returns {*} Returns the value to assign to the destination object.\n     */\n    function mergeDefaults(objectValue, sourceValue) {\n      return objectValue === undefined ? sourceValue : merge(objectValue, sourceValue, mergeDefaults);\n    }\n\n    /**\n     * A specialized version of `_.pick` which picks `object` properties specified\n     * by `props`.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} props The property names to pick.\n     * @returns {Object} Returns the new object.\n     */\n    function pickByArray(object, props) {\n      object = toObject(object);\n\n      var index = -1,\n          length = props.length,\n          result = {};\n\n      while (++index < length) {\n        var key = props[index];\n        if (key in object) {\n          result[key] = object[key];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.pick` which picks `object` properties `predicate`\n     * returns truthy for.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Object} Returns the new object.\n     */\n    function pickByCallback(object, predicate) {\n      var result = {};\n      baseForIn(object, function(value, key, object) {\n        if (predicate(value, key, object)) {\n          result[key] = value;\n        }\n      });\n      return result;\n    }\n\n    /**\n     * Reorder `array` according to the specified indexes where the element at\n     * the first index is assigned as the first element, the element at\n     * the second index is assigned as the second element, and so on.\n     *\n     * @private\n     * @param {Array} array The array to reorder.\n     * @param {Array} indexes The arranged array indexes.\n     * @returns {Array} Returns `array`.\n     */\n    function reorder(array, indexes) {\n      var arrLength = array.length,\n          length = nativeMin(indexes.length, arrLength),\n          oldArray = arrayCopy(array);\n\n      while (length--) {\n        var index = indexes[length];\n        array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n      }\n      return array;\n    }\n\n    /**\n     * Sets metadata for `func`.\n     *\n     * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\n     * period of time, it will trip its breaker and transition to an identity function\n     * to avoid garbage collection pauses in V8. See [V8 issue 2070](https://code.google.com/p/v8/issues/detail?id=2070)\n     * for more details.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var setData = (function() {\n      var count = 0,\n          lastCalled = 0;\n\n      return function(key, value) {\n        var stamp = now(),\n            remaining = HOT_SPAN - (stamp - lastCalled);\n\n        lastCalled = stamp;\n        if (remaining > 0) {\n          if (++count >= HOT_COUNT) {\n            return key;\n          }\n        } else {\n          count = 0;\n        }\n        return baseSetData(key, value);\n      };\n    }());\n\n    /**\n     * A fallback implementation of `Object.keys` which creates an array of the\n     * own enumerable property names of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function shimKeys(object) {\n      var props = keysIn(object),\n          propsLength = props.length,\n          length = propsLength && object.length;\n\n      var allowIndexes = !!length && isLength(length) &&\n        (isArray(object) || isArguments(object));\n\n      var index = -1,\n          result = [];\n\n      while (++index < propsLength) {\n        var key = props[index];\n        if ((allowIndexes && isIndex(key, length)) || hasOwnProperty.call(object, key)) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to an array-like object if it's not one.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {Array|Object} Returns the array-like object.\n     */\n    function toIterable(value) {\n      if (value == null) {\n        return [];\n      }\n      if (!isArrayLike(value)) {\n        return values(value);\n      }\n      return isObject(value) ? value : Object(value);\n    }\n\n    /**\n     * Converts `value` to an object if it's not one.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {Object} Returns the object.\n     */\n    function toObject(value) {\n      return isObject(value) ? value : Object(value);\n    }\n\n    /**\n     * Converts `value` to property path array if it's not one.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {Array} Returns the property path array.\n     */\n    function toPath(value) {\n      if (isArray(value)) {\n        return value;\n      }\n      var result = [];\n      baseToString(value).replace(rePropName, function(match, number, quote, string) {\n        result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));\n      });\n      return result;\n    }\n\n    /**\n     * Creates a clone of `wrapper`.\n     *\n     * @private\n     * @param {Object} wrapper The wrapper to clone.\n     * @returns {Object} Returns the cloned wrapper.\n     */\n    function wrapperClone(wrapper) {\n      return wrapper instanceof LazyWrapper\n        ? wrapper.clone()\n        : new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__, arrayCopy(wrapper.__actions__));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements split into groups the length of `size`.\n     * If `collection` can't be split evenly, the final chunk will be the remaining\n     * elements.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to process.\n     * @param {number} [size=1] The length of each chunk.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the new array containing chunks.\n     * @example\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 2);\n     * // => [['a', 'b'], ['c', 'd']]\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 3);\n     * // => [['a', 'b', 'c'], ['d']]\n     */\n    function chunk(array, size, guard) {\n      if (guard ? isIterateeCall(array, size, guard) : size == null) {\n        size = 1;\n      } else {\n        size = nativeMax(nativeFloor(size) || 1, 1);\n      }\n      var index = 0,\n          length = array ? array.length : 0,\n          resIndex = -1,\n          result = Array(nativeCeil(length / size));\n\n      while (index < length) {\n        result[++resIndex] = baseSlice(array, index, (index += size));\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array with all falsey values removed. The values `false`, `null`,\n     * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to compact.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.compact([0, 1, false, 2, '', 3]);\n     * // => [1, 2, 3]\n     */\n    function compact(array) {\n      var index = -1,\n          length = array ? array.length : 0,\n          resIndex = -1,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (value) {\n          result[++resIndex] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array of unique `array` values not included in the other\n     * provided arrays using [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The arrays of values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.difference([1, 2, 3], [4, 2]);\n     * // => [1, 3]\n     */\n    var difference = restParam(function(array, values) {\n      return (isObjectLike(array) && isArrayLike(array))\n        ? baseDifference(array, baseFlatten(values, false, true))\n        : [];\n    });\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.drop([1, 2, 3]);\n     * // => [2, 3]\n     *\n     * _.drop([1, 2, 3], 2);\n     * // => [3]\n     *\n     * _.drop([1, 2, 3], 5);\n     * // => []\n     *\n     * _.drop([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function drop(array, n, guard) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (guard ? isIterateeCall(array, n, guard) : n == null) {\n        n = 1;\n      }\n      return baseSlice(array, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the end.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRight([1, 2, 3]);\n     * // => [1, 2]\n     *\n     * _.dropRight([1, 2, 3], 2);\n     * // => [1]\n     *\n     * _.dropRight([1, 2, 3], 5);\n     * // => []\n     *\n     * _.dropRight([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function dropRight(array, n, guard) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (guard ? isIterateeCall(array, n, guard) : n == null) {\n        n = 1;\n      }\n      n = length - (+n || 0);\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the end.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * bound to `thisArg` and invoked with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that match the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRightWhile([1, 2, 3], function(n) {\n     *   return n > 1;\n     * });\n     * // => [1]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.dropRightWhile(users, { 'user': 'pebbles', 'active': false }), 'user');\n     * // => ['barney', 'fred']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.dropRightWhile(users, 'active', false), 'user');\n     * // => ['barney']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.dropRightWhile(users, 'active'), 'user');\n     * // => ['barney', 'fred', 'pebbles']\n     */\n    function dropRightWhile(array, predicate, thisArg) {\n      return (array && array.length)\n        ? baseWhile(array, getCallback(predicate, thisArg, 3), true, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the beginning.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * bound to `thisArg` and invoked with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropWhile([1, 2, 3], function(n) {\n     *   return n < 3;\n     * });\n     * // => [3]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.dropWhile(users, { 'user': 'barney', 'active': false }), 'user');\n     * // => ['fred', 'pebbles']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.dropWhile(users, 'active', false), 'user');\n     * // => ['pebbles']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.dropWhile(users, 'active'), 'user');\n     * // => ['barney', 'fred', 'pebbles']\n     */\n    function dropWhile(array, predicate, thisArg) {\n      return (array && array.length)\n        ? baseWhile(array, getCallback(predicate, thisArg, 3), true)\n        : [];\n    }\n\n    /**\n     * Fills elements of `array` with `value` from `start` up to, but not\n     * including, `end`.\n     *\n     * **Note:** This method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.fill(array, 'a');\n     * console.log(array);\n     * // => ['a', 'a', 'a']\n     *\n     * _.fill(Array(3), 2);\n     * // => [2, 2, 2]\n     *\n     * _.fill([4, 6, 8], '*', 1, 2);\n     * // => [4, '*', 8]\n     */\n    function fill(array, value, start, end) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (start && typeof start != 'number' && isIterateeCall(array, value, start)) {\n        start = 0;\n        end = length;\n      }\n      return baseFill(array, value, start, end);\n    }\n\n    /**\n     * This method is like `_.find` except that it returns the index of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.findIndex(users, function(chr) {\n     *   return chr.user == 'barney';\n     * });\n     * // => 0\n     *\n     * // using the `_.matches` callback shorthand\n     * _.findIndex(users, { 'user': 'fred', 'active': false });\n     * // => 1\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.findIndex(users, 'active', false);\n     * // => 0\n     *\n     * // using the `_.property` callback shorthand\n     * _.findIndex(users, 'active');\n     * // => 2\n     */\n    var findIndex = createFindIndex();\n\n    /**\n     * This method is like `_.findIndex` except that it iterates over elements\n     * of `collection` from right to left.\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.findLastIndex(users, function(chr) {\n     *   return chr.user == 'pebbles';\n     * });\n     * // => 2\n     *\n     * // using the `_.matches` callback shorthand\n     * _.findLastIndex(users, { 'user': 'barney', 'active': true });\n     * // => 0\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.findLastIndex(users, 'active', false);\n     * // => 2\n     *\n     * // using the `_.property` callback shorthand\n     * _.findLastIndex(users, 'active');\n     * // => 0\n     */\n    var findLastIndex = createFindIndex(true);\n\n    /**\n     * Gets the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @alias head\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the first element of `array`.\n     * @example\n     *\n     * _.first([1, 2, 3]);\n     * // => 1\n     *\n     * _.first([]);\n     * // => undefined\n     */\n    function first(array) {\n      return array ? array[0] : undefined;\n    }\n\n    /**\n     * Flattens a nested array. If `isDeep` is `true` the array is recursively\n     * flattened, otherwise it is only flattened a single level.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @param {boolean} [isDeep] Specify a deep flatten.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flatten([1, [2, 3, [4]]]);\n     * // => [1, 2, 3, [4]]\n     *\n     * // using `isDeep`\n     * _.flatten([1, [2, 3, [4]]], true);\n     * // => [1, 2, 3, 4]\n     */\n    function flatten(array, isDeep, guard) {\n      var length = array ? array.length : 0;\n      if (guard && isIterateeCall(array, isDeep, guard)) {\n        isDeep = false;\n      }\n      return length ? baseFlatten(array, isDeep) : [];\n    }\n\n    /**\n     * Recursively flattens a nested array.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to recursively flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flattenDeep([1, [2, 3, [4]]]);\n     * // => [1, 2, 3, 4]\n     */\n    function flattenDeep(array) {\n      var length = array ? array.length : 0;\n      return length ? baseFlatten(array, true) : [];\n    }\n\n    /**\n     * Gets the index at which the first occurrence of `value` is found in `array`\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n     * for equality comparisons. If `fromIndex` is negative, it is used as the offset\n     * from the end of `array`. If `array` is sorted providing `true` for `fromIndex`\n     * performs a faster binary search.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to search.\n     * @param {*} value The value to search for.\n     * @param {boolean|number} [fromIndex=0] The index to search from or `true`\n     *  to perform a binary search on a sorted array.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.indexOf([1, 2, 1, 2], 2);\n     * // => 1\n     *\n     * // using `fromIndex`\n     * _.indexOf([1, 2, 1, 2], 2, 2);\n     * // => 3\n     *\n     * // performing a binary search\n     * _.indexOf([1, 1, 2, 2], 2, true);\n     * // => 2\n     */\n    function indexOf(array, value, fromIndex) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return -1;\n      }\n      if (typeof fromIndex == 'number') {\n        fromIndex = fromIndex < 0 ? nativeMax(length + fromIndex, 0) : fromIndex;\n      } else if (fromIndex) {\n        var index = binaryIndex(array, value);\n        if (index < length &&\n            (value === value ? (value === array[index]) : (array[index] !== array[index]))) {\n          return index;\n        }\n        return -1;\n      }\n      return baseIndexOf(array, value, fromIndex || 0);\n    }\n\n    /**\n     * Gets all but the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.initial([1, 2, 3]);\n     * // => [1, 2]\n     */\n    function initial(array) {\n      return dropRight(array, 1);\n    }\n\n    /**\n     * Creates an array of unique values that are included in all of the provided\n     * arrays using [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of shared values.\n     * @example\n     * _.intersection([1, 2], [4, 2], [2, 1]);\n     * // => [2]\n     */\n    var intersection = restParam(function(arrays) {\n      var othLength = arrays.length,\n          othIndex = othLength,\n          caches = Array(length),\n          indexOf = getIndexOf(),\n          isCommon = indexOf == baseIndexOf,\n          result = [];\n\n      while (othIndex--) {\n        var value = arrays[othIndex] = isArrayLike(value = arrays[othIndex]) ? value : [];\n        caches[othIndex] = (isCommon && value.length >= 120) ? createCache(othIndex && value) : null;\n      }\n      var array = arrays[0],\n          index = -1,\n          length = array ? array.length : 0,\n          seen = caches[0];\n\n      outer:\n      while (++index < length) {\n        value = array[index];\n        if ((seen ? cacheIndexOf(seen, value) : indexOf(result, value, 0)) < 0) {\n          var othIndex = othLength;\n          while (--othIndex) {\n            var cache = caches[othIndex];\n            if ((cache ? cacheIndexOf(cache, value) : indexOf(arrays[othIndex], value, 0)) < 0) {\n              continue outer;\n            }\n          }\n          if (seen) {\n            seen.push(value);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    });\n\n    /**\n     * Gets the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the last element of `array`.\n     * @example\n     *\n     * _.last([1, 2, 3]);\n     * // => 3\n     */\n    function last(array) {\n      var length = array ? array.length : 0;\n      return length ? array[length - 1] : undefined;\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it iterates over elements of\n     * `array` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to search.\n     * @param {*} value The value to search for.\n     * @param {boolean|number} [fromIndex=array.length-1] The index to search from\n     *  or `true` to perform a binary search on a sorted array.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.lastIndexOf([1, 2, 1, 2], 2);\n     * // => 3\n     *\n     * // using `fromIndex`\n     * _.lastIndexOf([1, 2, 1, 2], 2, 2);\n     * // => 1\n     *\n     * // performing a binary search\n     * _.lastIndexOf([1, 1, 2, 2], 2, true);\n     * // => 3\n     */\n    function lastIndexOf(array, value, fromIndex) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return -1;\n      }\n      var index = length;\n      if (typeof fromIndex == 'number') {\n        index = (fromIndex < 0 ? nativeMax(length + fromIndex, 0) : nativeMin(fromIndex || 0, length - 1)) + 1;\n      } else if (fromIndex) {\n        index = binaryIndex(array, value, true) - 1;\n        var other = array[index];\n        if (value === value ? (value === other) : (other !== other)) {\n          return index;\n        }\n        return -1;\n      }\n      if (value !== value) {\n        return indexOfNaN(array, index, true);\n      }\n      while (index--) {\n        if (array[index] === value) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Removes all provided values from `array` using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.without`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...*} [values] The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3, 1, 2, 3];\n     *\n     * _.pull(array, 2, 3);\n     * console.log(array);\n     * // => [1, 1]\n     */\n    function pull() {\n      var args = arguments,\n          array = args[0];\n\n      if (!(array && array.length)) {\n        return array;\n      }\n      var index = 0,\n          indexOf = getIndexOf(),\n          length = args.length;\n\n      while (++index < length) {\n        var fromIndex = 0,\n            value = args[index];\n\n        while ((fromIndex = indexOf(array, value, fromIndex)) > -1) {\n          splice.call(array, fromIndex, 1);\n        }\n      }\n      return array;\n    }\n\n    /**\n     * Removes elements from `array` corresponding to the given indexes and returns\n     * an array of the removed elements. Indexes may be specified as an array of\n     * indexes or as individual arguments.\n     *\n     * **Note:** Unlike `_.at`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...(number|number[])} [indexes] The indexes of elements to remove,\n     *  specified as individual indexes or arrays of indexes.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [5, 10, 15, 20];\n     * var evens = _.pullAt(array, 1, 3);\n     *\n     * console.log(array);\n     * // => [5, 15]\n     *\n     * console.log(evens);\n     * // => [10, 20]\n     */\n    var pullAt = restParam(function(array, indexes) {\n      indexes = baseFlatten(indexes);\n\n      var result = baseAt(array, indexes);\n      basePullAt(array, indexes.sort(baseCompareAscending));\n      return result;\n    });\n\n    /**\n     * Removes all elements from `array` that `predicate` returns truthy for\n     * and returns an array of the removed elements. The predicate is bound to\n     * `thisArg` and invoked with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * **Note:** Unlike `_.filter`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [1, 2, 3, 4];\n     * var evens = _.remove(array, function(n) {\n     *   return n % 2 == 0;\n     * });\n     *\n     * console.log(array);\n     * // => [1, 3]\n     *\n     * console.log(evens);\n     * // => [2, 4]\n     */\n    function remove(array, predicate, thisArg) {\n      var result = [];\n      if (!(array && array.length)) {\n        return result;\n      }\n      var index = -1,\n          indexes = [],\n          length = array.length;\n\n      predicate = getCallback(predicate, thisArg, 3);\n      while (++index < length) {\n        var value = array[index];\n        if (predicate(value, index, array)) {\n          result.push(value);\n          indexes.push(index);\n        }\n      }\n      basePullAt(array, indexes);\n      return result;\n    }\n\n    /**\n     * Gets all but the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @alias tail\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.rest([1, 2, 3]);\n     * // => [2, 3]\n     */\n    function rest(array) {\n      return drop(array, 1);\n    }\n\n    /**\n     * Creates a slice of `array` from `start` up to, but not including, `end`.\n     *\n     * **Note:** This method is used instead of `Array#slice` to support node\n     * lists in IE < 9 and to ensure dense arrays are returned.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function slice(array, start, end) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (end && typeof end != 'number' && isIterateeCall(array, start, end)) {\n        start = 0;\n        end = length;\n      }\n      return baseSlice(array, start, end);\n    }\n\n    /**\n     * Uses a binary search to determine the lowest index at which `value` should\n     * be inserted into `array` in order to maintain its sort order. If an iteratee\n     * function is provided it is invoked for `value` and each element of `array`\n     * to compute their sort ranking. The iteratee is bound to `thisArg` and\n     * invoked with one argument; (value).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedIndex([30, 50], 40);\n     * // => 1\n     *\n     * _.sortedIndex([4, 4, 5, 5], 5);\n     * // => 2\n     *\n     * var dict = { 'data': { 'thirty': 30, 'forty': 40, 'fifty': 50 } };\n     *\n     * // using an iteratee function\n     * _.sortedIndex(['thirty', 'fifty'], 'forty', function(word) {\n     *   return this.data[word];\n     * }, dict);\n     * // => 1\n     *\n     * // using the `_.property` callback shorthand\n     * _.sortedIndex([{ 'x': 30 }, { 'x': 50 }], { 'x': 40 }, 'x');\n     * // => 1\n     */\n    var sortedIndex = createSortedIndex();\n\n    /**\n     * This method is like `_.sortedIndex` except that it returns the highest\n     * index at which `value` should be inserted into `array` in order to\n     * maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedLastIndex([4, 4, 5, 5], 5);\n     * // => 4\n     */\n    var sortedLastIndex = createSortedIndex(true);\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.take([1, 2, 3]);\n     * // => [1]\n     *\n     * _.take([1, 2, 3], 2);\n     * // => [1, 2]\n     *\n     * _.take([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.take([1, 2, 3], 0);\n     * // => []\n     */\n    function take(array, n, guard) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (guard ? isIterateeCall(array, n, guard) : n == null) {\n        n = 1;\n      }\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the end.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRight([1, 2, 3]);\n     * // => [3]\n     *\n     * _.takeRight([1, 2, 3], 2);\n     * // => [2, 3]\n     *\n     * _.takeRight([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.takeRight([1, 2, 3], 0);\n     * // => []\n     */\n    function takeRight(array, n, guard) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (guard ? isIterateeCall(array, n, guard) : n == null) {\n        n = 1;\n      }\n      n = length - (+n || 0);\n      return baseSlice(array, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the end. Elements are\n     * taken until `predicate` returns falsey. The predicate is bound to `thisArg`\n     * and invoked with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRightWhile([1, 2, 3], function(n) {\n     *   return n > 1;\n     * });\n     * // => [2, 3]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.takeRightWhile(users, { 'user': 'pebbles', 'active': false }), 'user');\n     * // => ['pebbles']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.takeRightWhile(users, 'active', false), 'user');\n     * // => ['fred', 'pebbles']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.takeRightWhile(users, 'active'), 'user');\n     * // => []\n     */\n    function takeRightWhile(array, predicate, thisArg) {\n      return (array && array.length)\n        ? baseWhile(array, getCallback(predicate, thisArg, 3), false, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the beginning. Elements\n     * are taken until `predicate` returns falsey. The predicate is bound to\n     * `thisArg` and invoked with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeWhile([1, 2, 3], function(n) {\n     *   return n < 3;\n     * });\n     * // => [1, 2]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false},\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.takeWhile(users, { 'user': 'barney', 'active': false }), 'user');\n     * // => ['barney']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.takeWhile(users, 'active', false), 'user');\n     * // => ['barney', 'fred']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.takeWhile(users, 'active'), 'user');\n     * // => []\n     */\n    function takeWhile(array, predicate, thisArg) {\n      return (array && array.length)\n        ? baseWhile(array, getCallback(predicate, thisArg, 3))\n        : [];\n    }\n\n    /**\n     * Creates an array of unique values, in order, from all of the provided arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.union([1, 2], [4, 2], [2, 1]);\n     * // => [1, 2, 4]\n     */\n    var union = restParam(function(arrays) {\n      return baseUniq(baseFlatten(arrays, false, true));\n    });\n\n    /**\n     * Creates a duplicate-free version of an array, using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n     * for equality comparisons, in which only the first occurence of each element\n     * is kept. Providing `true` for `isSorted` performs a faster search algorithm\n     * for sorted arrays. If an iteratee function is provided it is invoked for\n     * each element in the array to generate the criterion by which uniqueness\n     * is computed. The `iteratee` is bound to `thisArg` and invoked with three\n     * arguments: (value, index, array).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias unique\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {boolean} [isSorted] Specify the array is sorted.\n     * @param {Function|Object|string} [iteratee] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new duplicate-value-free array.\n     * @example\n     *\n     * _.uniq([2, 1, 2]);\n     * // => [2, 1]\n     *\n     * // using `isSorted`\n     * _.uniq([1, 1, 2], true);\n     * // => [1, 2]\n     *\n     * // using an iteratee function\n     * _.uniq([1, 2.5, 1.5, 2], function(n) {\n     *   return this.floor(n);\n     * }, Math);\n     * // => [1, 2.5]\n     *\n     * // using the `_.property` callback shorthand\n     * _.uniq([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    function uniq(array, isSorted, iteratee, thisArg) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (isSorted != null && typeof isSorted != 'boolean') {\n        thisArg = iteratee;\n        iteratee = isIterateeCall(array, isSorted, thisArg) ? undefined : isSorted;\n        isSorted = false;\n      }\n      var callback = getCallback();\n      if (!(iteratee == null && callback === baseCallback)) {\n        iteratee = callback(iteratee, thisArg, 3);\n      }\n      return (isSorted && getIndexOf() == baseIndexOf)\n        ? sortedUniq(array, iteratee)\n        : baseUniq(array, iteratee);\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts an array of grouped\n     * elements and creates an array regrouping the elements to their pre-zip\n     * configuration.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip(['fred', 'barney'], [30, 40], [true, false]);\n     * // => [['fred', 30, true], ['barney', 40, false]]\n     *\n     * _.unzip(zipped);\n     * // => [['fred', 'barney'], [30, 40], [true, false]]\n     */\n    function unzip(array) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var index = -1,\n          length = 0;\n\n      array = arrayFilter(array, function(group) {\n        if (isArrayLike(group)) {\n          length = nativeMax(group.length, length);\n          return true;\n        }\n      });\n      var result = Array(length);\n      while (++index < length) {\n        result[index] = arrayMap(array, baseProperty(index));\n      }\n      return result;\n    }\n\n    /**\n     * This method is like `_.unzip` except that it accepts an iteratee to specify\n     * how regrouped values should be combined. The `iteratee` is bound to `thisArg`\n     * and invoked with four arguments: (accumulator, value, index, group).\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @param {Function} [iteratee] The function to combine regrouped values.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip([1, 2], [10, 20], [100, 200]);\n     * // => [[1, 10, 100], [2, 20, 200]]\n     *\n     * _.unzipWith(zipped, _.add);\n     * // => [3, 30, 300]\n     */\n    function unzipWith(array, iteratee, thisArg) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      var result = unzip(array);\n      if (iteratee == null) {\n        return result;\n      }\n      iteratee = bindCallback(iteratee, thisArg, 4);\n      return arrayMap(result, function(group) {\n        return arrayReduce(group, iteratee, undefined, true);\n      });\n    }\n\n    /**\n     * Creates an array excluding all provided values using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to filter.\n     * @param {...*} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.without([1, 2, 1, 3], 1, 2);\n     * // => [3]\n     */\n    var without = restParam(function(array, values) {\n      return isArrayLike(array)\n        ? baseDifference(array, values)\n        : [];\n    });\n\n    /**\n     * Creates an array of unique values that is the [symmetric difference](https://en.wikipedia.org/wiki/Symmetric_difference)\n     * of the provided arrays.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of values.\n     * @example\n     *\n     * _.xor([1, 2], [4, 2]);\n     * // => [1, 4]\n     */\n    function xor() {\n      var index = -1,\n          length = arguments.length;\n\n      while (++index < length) {\n        var array = arguments[index];\n        if (isArrayLike(array)) {\n          var result = result\n            ? arrayPush(baseDifference(result, array), baseDifference(array, result))\n            : array;\n        }\n      }\n      return result ? baseUniq(result) : [];\n    }\n\n    /**\n     * Creates an array of grouped elements, the first of which contains the first\n     * elements of the given arrays, the second of which contains the second elements\n     * of the given arrays, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zip(['fred', 'barney'], [30, 40], [true, false]);\n     * // => [['fred', 30, true], ['barney', 40, false]]\n     */\n    var zip = restParam(unzip);\n\n    /**\n     * The inverse of `_.pairs`; this method returns an object composed from arrays\n     * of property names and values. Provide either a single two dimensional array,\n     * e.g. `[[key1, value1], [key2, value2]]` or two arrays, one of property names\n     * and one of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @alias object\n     * @category Array\n     * @param {Array} props The property names.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObject([['fred', 30], ['barney', 40]]);\n     * // => { 'fred': 30, 'barney': 40 }\n     *\n     * _.zipObject(['fred', 'barney'], [30, 40]);\n     * // => { 'fred': 30, 'barney': 40 }\n     */\n    function zipObject(props, values) {\n      var index = -1,\n          length = props ? props.length : 0,\n          result = {};\n\n      if (length && !values && !isArray(props[0])) {\n        values = [];\n      }\n      while (++index < length) {\n        var key = props[index];\n        if (values) {\n          result[key] = values[index];\n        } else if (key) {\n          result[key[0]] = key[1];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts an iteratee to specify\n     * how grouped values should be combined. The `iteratee` is bound to `thisArg`\n     * and invoked with four arguments: (accumulator, value, index, group).\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @param {Function} [iteratee] The function to combine grouped values.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zipWith([1, 2], [10, 20], [100, 200], _.add);\n     * // => [111, 222]\n     */\n    var zipWith = restParam(function(arrays) {\n      var length = arrays.length,\n          iteratee = length > 2 ? arrays[length - 2] : undefined,\n          thisArg = length > 1 ? arrays[length - 1] : undefined;\n\n      if (length > 2 && typeof iteratee == 'function') {\n        length -= 2;\n      } else {\n        iteratee = (length > 1 && typeof thisArg == 'function') ? (--length, thisArg) : undefined;\n        thisArg = undefined;\n      }\n      arrays.length = length;\n      return unzipWith(arrays, iteratee, thisArg);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object that wraps `value` with explicit method\n     * chaining enabled.\n     *\n     * @static\n     * @memberOf _\n     * @category Chain\n     * @param {*} value The value to wrap.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36 },\n     *   { 'user': 'fred',    'age': 40 },\n     *   { 'user': 'pebbles', 'age': 1 }\n     * ];\n     *\n     * var youngest = _.chain(users)\n     *   .sortBy('age')\n     *   .map(function(chr) {\n     *     return chr.user + ' is ' + chr.age;\n     *   })\n     *   .first()\n     *   .value();\n     * // => 'pebbles is 1'\n     */\n    function chain(value) {\n      var result = lodash(value);\n      result.__chain__ = true;\n      return result;\n    }\n\n    /**\n     * This method invokes `interceptor` and returns `value`. The interceptor is\n     * bound to `thisArg` and invoked with one argument; (value). The purpose of\n     * this method is to \"tap into\" a method chain in order to perform operations\n     * on intermediate results within the chain.\n     *\n     * @static\n     * @memberOf _\n     * @category Chain\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @param {*} [thisArg] The `this` binding of `interceptor`.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * _([1, 2, 3])\n     *  .tap(function(array) {\n     *    array.pop();\n     *  })\n     *  .reverse()\n     *  .value();\n     * // => [2, 1]\n     */\n    function tap(value, interceptor, thisArg) {\n      interceptor.call(thisArg, value);\n      return value;\n    }\n\n    /**\n     * This method is like `_.tap` except that it returns the result of `interceptor`.\n     *\n     * @static\n     * @memberOf _\n     * @category Chain\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @param {*} [thisArg] The `this` binding of `interceptor`.\n     * @returns {*} Returns the result of `interceptor`.\n     * @example\n     *\n     * _('  abc  ')\n     *  .chain()\n     *  .trim()\n     *  .thru(function(value) {\n     *    return [value];\n     *  })\n     *  .value();\n     * // => ['abc']\n     */\n    function thru(value, interceptor, thisArg) {\n      return interceptor.call(thisArg, value);\n    }\n\n    /**\n     * Enables explicit method chaining on the wrapper object.\n     *\n     * @name chain\n     * @memberOf _\n     * @category Chain\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // without explicit chaining\n     * _(users).first();\n     * // => { 'user': 'barney', 'age': 36 }\n     *\n     * // with explicit chaining\n     * _(users).chain()\n     *   .first()\n     *   .pick('user')\n     *   .value();\n     * // => { 'user': 'barney' }\n     */\n    function wrapperChain() {\n      return chain(this);\n    }\n\n    /**\n     * Executes the chained sequence and returns the wrapped result.\n     *\n     * @name commit\n     * @memberOf _\n     * @category Chain\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapped = _(array).push(3);\n     *\n     * console.log(array);\n     * // => [1, 2]\n     *\n     * wrapped = wrapped.commit();\n     * console.log(array);\n     * // => [1, 2, 3]\n     *\n     * wrapped.last();\n     * // => 3\n     *\n     * console.log(array);\n     * // => [1, 2, 3]\n     */\n    function wrapperCommit() {\n      return new LodashWrapper(this.value(), this.__chain__);\n    }\n\n    /**\n     * Creates a new array joining a wrapped array with any additional arrays\n     * and/or values.\n     *\n     * @name concat\n     * @memberOf _\n     * @category Chain\n     * @param {...*} [values] The values to concatenate.\n     * @returns {Array} Returns the new concatenated array.\n     * @example\n     *\n     * var array = [1];\n     * var wrapped = _(array).concat(2, [3], [[4]]);\n     *\n     * console.log(wrapped.value());\n     * // => [1, 2, 3, [4]]\n     *\n     * console.log(array);\n     * // => [1]\n     */\n    var wrapperConcat = restParam(function(values) {\n      values = baseFlatten(values);\n      return this.thru(function(array) {\n        return arrayConcat(isArray(array) ? array : [toObject(array)], values);\n      });\n    });\n\n    /**\n     * Creates a clone of the chained sequence planting `value` as the wrapped value.\n     *\n     * @name plant\n     * @memberOf _\n     * @category Chain\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapped = _(array).map(function(value) {\n     *   return Math.pow(value, 2);\n     * });\n     *\n     * var other = [3, 4];\n     * var otherWrapped = wrapped.plant(other);\n     *\n     * otherWrapped.value();\n     * // => [9, 16]\n     *\n     * wrapped.value();\n     * // => [1, 4]\n     */\n    function wrapperPlant(value) {\n      var result,\n          parent = this;\n\n      while (parent instanceof baseLodash) {\n        var clone = wrapperClone(parent);\n        if (result) {\n          previous.__wrapped__ = clone;\n        } else {\n          result = clone;\n        }\n        var previous = clone;\n        parent = parent.__wrapped__;\n      }\n      previous.__wrapped__ = value;\n      return result;\n    }\n\n    /**\n     * Reverses the wrapped array so the first element becomes the last, the\n     * second element becomes the second to last, and so on.\n     *\n     * **Note:** This method mutates the wrapped array.\n     *\n     * @name reverse\n     * @memberOf _\n     * @category Chain\n     * @returns {Object} Returns the new reversed `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _(array).reverse().value()\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function wrapperReverse() {\n      var value = this.__wrapped__;\n\n      var interceptor = function(value) {\n        return (wrapped && wrapped.__dir__ < 0) ? value : value.reverse();\n      };\n      if (value instanceof LazyWrapper) {\n        var wrapped = value;\n        if (this.__actions__.length) {\n          wrapped = new LazyWrapper(this);\n        }\n        wrapped = wrapped.reverse();\n        wrapped.__actions__.push({ 'func': thru, 'args': [interceptor], 'thisArg': undefined });\n        return new LodashWrapper(wrapped, this.__chain__);\n      }\n      return this.thru(interceptor);\n    }\n\n    /**\n     * Produces the result of coercing the unwrapped value to a string.\n     *\n     * @name toString\n     * @memberOf _\n     * @category Chain\n     * @returns {string} Returns the coerced string value.\n     * @example\n     *\n     * _([1, 2, 3]).toString();\n     * // => '1,2,3'\n     */\n    function wrapperToString() {\n      return (this.value() + '');\n    }\n\n    /**\n     * Executes the chained sequence to extract the unwrapped value.\n     *\n     * @name value\n     * @memberOf _\n     * @alias run, toJSON, valueOf\n     * @category Chain\n     * @returns {*} Returns the resolved unwrapped value.\n     * @example\n     *\n     * _([1, 2, 3]).value();\n     * // => [1, 2, 3]\n     */\n    function wrapperValue() {\n      return baseWrapperValue(this.__wrapped__, this.__actions__);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements corresponding to the given keys, or indexes,\n     * of `collection`. Keys may be specified as individual arguments or as arrays\n     * of keys.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {...(number|number[]|string|string[])} [props] The property names\n     *  or indexes of elements to pick, specified individually or in arrays.\n     * @returns {Array} Returns the new array of picked elements.\n     * @example\n     *\n     * _.at(['a', 'b', 'c'], [0, 2]);\n     * // => ['a', 'c']\n     *\n     * _.at(['barney', 'fred', 'pebbles'], 0, 2);\n     * // => ['barney', 'pebbles']\n     */\n    var at = restParam(function(collection, props) {\n      return baseAt(collection, baseFlatten(props));\n    });\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` through `iteratee`. The corresponding value\n     * of each key is the number of times the key was returned by `iteratee`.\n     * The `iteratee` is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.countBy([4.3, 6.1, 6.4], function(n) {\n     *   return Math.floor(n);\n     * });\n     * // => { '4': 1, '6': 2 }\n     *\n     * _.countBy([4.3, 6.1, 6.4], function(n) {\n     *   return this.floor(n);\n     * }, Math);\n     * // => { '4': 1, '6': 2 }\n     *\n     * _.countBy(['one', 'two', 'three'], 'length');\n     * // => { '3': 2, '5': 1 }\n     */\n    var countBy = createAggregator(function(result, value, key) {\n      hasOwnProperty.call(result, key) ? ++result[key] : (result[key] = 1);\n    });\n\n    /**\n     * Checks if `predicate` returns truthy for **all** elements of `collection`.\n     * The predicate is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias all\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.every([true, 1, null, 'yes'], Boolean);\n     * // => false\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': false },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.every(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.every(users, 'active', false);\n     * // => true\n     *\n     * // using the `_.property` callback shorthand\n     * _.every(users, 'active');\n     * // => false\n     */\n    function every(collection, predicate, thisArg) {\n      var func = isArray(collection) ? arrayEvery : baseEvery;\n      if (thisArg && isIterateeCall(collection, predicate, thisArg)) {\n        predicate = undefined;\n      }\n      if (typeof predicate != 'function' || thisArg !== undefined) {\n        predicate = getCallback(predicate, thisArg, 3);\n      }\n      return func(collection, predicate);\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning an array of all elements\n     * `predicate` returns truthy for. The predicate is bound to `thisArg` and\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias select\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the new filtered array.\n     * @example\n     *\n     * _.filter([4, 5, 6], function(n) {\n     *   return n % 2 == 0;\n     * });\n     * // => [4, 6]\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.filter(users, { 'age': 36, 'active': true }), 'user');\n     * // => ['barney']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.filter(users, 'active', false), 'user');\n     * // => ['fred']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.filter(users, 'active'), 'user');\n     * // => ['barney']\n     */\n    function filter(collection, predicate, thisArg) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      predicate = getCallback(predicate, thisArg, 3);\n      return func(collection, predicate);\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning the first element\n     * `predicate` returns truthy for. The predicate is bound to `thisArg` and\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias detect\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': true },\n     *   { 'user': 'fred',    'age': 40, 'active': false },\n     *   { 'user': 'pebbles', 'age': 1,  'active': true }\n     * ];\n     *\n     * _.result(_.find(users, function(chr) {\n     *   return chr.age < 40;\n     * }), 'user');\n     * // => 'barney'\n     *\n     * // using the `_.matches` callback shorthand\n     * _.result(_.find(users, { 'age': 1, 'active': true }), 'user');\n     * // => 'pebbles'\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.result(_.find(users, 'active', false), 'user');\n     * // => 'fred'\n     *\n     * // using the `_.property` callback shorthand\n     * _.result(_.find(users, 'active'), 'user');\n     * // => 'barney'\n     */\n    var find = createFind(baseEach);\n\n    /**\n     * This method is like `_.find` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * _.findLast([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 1;\n     * });\n     * // => 3\n     */\n    var findLast = createFind(baseEachRight, true);\n\n    /**\n     * Performs a deep comparison between each element in `collection` and the\n     * source object, returning the first element that has equivalent property\n     * values.\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties. For comparing a single\n     * own or inherited property value see `_.matchesProperty`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Object} source The object of property values to match.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.result(_.findWhere(users, { 'age': 36, 'active': true }), 'user');\n     * // => 'barney'\n     *\n     * _.result(_.findWhere(users, { 'age': 40, 'active': false }), 'user');\n     * // => 'fred'\n     */\n    function findWhere(collection, source) {\n      return find(collection, baseMatches(source));\n    }\n\n    /**\n     * Iterates over elements of `collection` invoking `iteratee` for each element.\n     * The `iteratee` is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection). Iteratee functions may exit iteration early\n     * by explicitly returning `false`.\n     *\n     * **Note:** As with other \"Collections\" methods, objects with a \"length\" property\n     * are iterated like arrays. To avoid this behavior `_.forIn` or `_.forOwn`\n     * may be used for object iteration.\n     *\n     * @static\n     * @memberOf _\n     * @alias each\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array|Object|string} Returns `collection`.\n     * @example\n     *\n     * _([1, 2]).forEach(function(n) {\n     *   console.log(n);\n     * }).value();\n     * // => logs each value from left to right and returns the array\n     *\n     * _.forEach({ 'a': 1, 'b': 2 }, function(n, key) {\n     *   console.log(n, key);\n     * });\n     * // => logs each value-key pair and returns the object (iteration order is not guaranteed)\n     */\n    var forEach = createForEach(arrayEach, baseEach);\n\n    /**\n     * This method is like `_.forEach` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @alias eachRight\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array|Object|string} Returns `collection`.\n     * @example\n     *\n     * _([1, 2]).forEachRight(function(n) {\n     *   console.log(n);\n     * }).value();\n     * // => logs each value from right to left and returns the array\n     */\n    var forEachRight = createForEach(arrayEachRight, baseEachRight);\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` through `iteratee`. The corresponding value\n     * of each key is an array of the elements responsible for generating the key.\n     * The `iteratee` is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.groupBy([4.2, 6.1, 6.4], function(n) {\n     *   return Math.floor(n);\n     * });\n     * // => { '4': [4.2], '6': [6.1, 6.4] }\n     *\n     * _.groupBy([4.2, 6.1, 6.4], function(n) {\n     *   return this.floor(n);\n     * }, Math);\n     * // => { '4': [4.2], '6': [6.1, 6.4] }\n     *\n     * // using the `_.property` callback shorthand\n     * _.groupBy(['one', 'two', 'three'], 'length');\n     * // => { '3': ['one', 'two'], '5': ['three'] }\n     */\n    var groupBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        result[key].push(value);\n      } else {\n        result[key] = [value];\n      }\n    });\n\n    /**\n     * Checks if `value` is in `collection` using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n     * for equality comparisons. If `fromIndex` is negative, it is used as the offset\n     * from the end of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @alias contains, include\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {*} target The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.reduce`.\n     * @returns {boolean} Returns `true` if a matching element is found, else `false`.\n     * @example\n     *\n     * _.includes([1, 2, 3], 1);\n     * // => true\n     *\n     * _.includes([1, 2, 3], 1, 2);\n     * // => false\n     *\n     * _.includes({ 'user': 'fred', 'age': 40 }, 'fred');\n     * // => true\n     *\n     * _.includes('pebbles', 'eb');\n     * // => true\n     */\n    function includes(collection, target, fromIndex, guard) {\n      var length = collection ? getLength(collection) : 0;\n      if (!isLength(length)) {\n        collection = values(collection);\n        length = collection.length;\n      }\n      if (typeof fromIndex != 'number' || (guard && isIterateeCall(target, fromIndex, guard))) {\n        fromIndex = 0;\n      } else {\n        fromIndex = fromIndex < 0 ? nativeMax(length + fromIndex, 0) : (fromIndex || 0);\n      }\n      return (typeof collection == 'string' || !isArray(collection) && isString(collection))\n        ? (fromIndex <= length && collection.indexOf(target, fromIndex) > -1)\n        : (!!length && getIndexOf(collection, target, fromIndex) > -1);\n    }\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` through `iteratee`. The corresponding value\n     * of each key is the last element responsible for generating the key. The\n     * iteratee function is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * var keyData = [\n     *   { 'dir': 'left', 'code': 97 },\n     *   { 'dir': 'right', 'code': 100 }\n     * ];\n     *\n     * _.indexBy(keyData, 'dir');\n     * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.indexBy(keyData, function(object) {\n     *   return String.fromCharCode(object.code);\n     * });\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.indexBy(keyData, function(object) {\n     *   return this.fromCharCode(object.code);\n     * }, String);\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     */\n    var indexBy = createAggregator(function(result, value, key) {\n      result[key] = value;\n    });\n\n    /**\n     * Invokes the method at `path` of each element in `collection`, returning\n     * an array of the results of each invoked method. Any additional arguments\n     * are provided to each invoked method. If `methodName` is a function it is\n     * invoked for, and `this` bound to, each element in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Array|Function|string} path The path of the method to invoke or\n     *  the function invoked per iteration.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.invoke([[5, 1, 7], [3, 2, 1]], 'sort');\n     * // => [[1, 5, 7], [1, 2, 3]]\n     *\n     * _.invoke([123, 456], String.prototype.split, '');\n     * // => [['1', '2', '3'], ['4', '5', '6']]\n     */\n    var invoke = restParam(function(collection, path, args) {\n      var index = -1,\n          isFunc = typeof path == 'function',\n          isProp = isKey(path),\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value) {\n        var func = isFunc ? path : ((isProp && value != null) ? value[path] : undefined);\n        result[++index] = func ? func.apply(value, args) : invokePath(value, path, args);\n      });\n      return result;\n    });\n\n    /**\n     * Creates an array of values by running each element in `collection` through\n     * `iteratee`. The `iteratee` is bound to `thisArg` and invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n     *\n     * The guarded methods are:\n     * `ary`, `callback`, `chunk`, `clone`, `create`, `curry`, `curryRight`,\n     * `drop`, `dropRight`, `every`, `fill`, `flatten`, `invert`, `max`, `min`,\n     * `parseInt`, `slice`, `sortBy`, `take`, `takeRight`, `template`, `trim`,\n     * `trimLeft`, `trimRight`, `trunc`, `random`, `range`, `sample`, `some`,\n     * `sum`, `uniq`, and `words`\n     *\n     * @static\n     * @memberOf _\n     * @alias collect\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new mapped array.\n     * @example\n     *\n     * function timesThree(n) {\n     *   return n * 3;\n     * }\n     *\n     * _.map([1, 2], timesThree);\n     * // => [3, 6]\n     *\n     * _.map({ 'a': 1, 'b': 2 }, timesThree);\n     * // => [3, 6] (iteration order is not guaranteed)\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * // using the `_.property` callback shorthand\n     * _.map(users, 'user');\n     * // => ['barney', 'fred']\n     */\n    function map(collection, iteratee, thisArg) {\n      var func = isArray(collection) ? arrayMap : baseMap;\n      iteratee = getCallback(iteratee, thisArg, 3);\n      return func(collection, iteratee);\n    }\n\n    /**\n     * Creates an array of elements split into two groups, the first of which\n     * contains elements `predicate` returns truthy for, while the second of which\n     * contains elements `predicate` returns falsey for. The predicate is bound\n     * to `thisArg` and invoked with three arguments: (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the array of grouped elements.\n     * @example\n     *\n     * _.partition([1, 2, 3], function(n) {\n     *   return n % 2;\n     * });\n     * // => [[1, 3], [2]]\n     *\n     * _.partition([1.2, 2.3, 3.4], function(n) {\n     *   return this.floor(n) % 2;\n     * }, Math);\n     * // => [[1.2, 3.4], [2.3]]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': false },\n     *   { 'user': 'fred',    'age': 40, 'active': true },\n     *   { 'user': 'pebbles', 'age': 1,  'active': false }\n     * ];\n     *\n     * var mapper = function(array) {\n     *   return _.pluck(array, 'user');\n     * };\n     *\n     * // using the `_.matches` callback shorthand\n     * _.map(_.partition(users, { 'age': 1, 'active': false }), mapper);\n     * // => [['pebbles'], ['barney', 'fred']]\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.map(_.partition(users, 'active', false), mapper);\n     * // => [['barney', 'pebbles'], ['fred']]\n     *\n     * // using the `_.property` callback shorthand\n     * _.map(_.partition(users, 'active'), mapper);\n     * // => [['fred'], ['barney', 'pebbles']]\n     */\n    var partition = createAggregator(function(result, value, key) {\n      result[key ? 0 : 1].push(value);\n    }, function() { return [[], []]; });\n\n    /**\n     * Gets the property value of `path` from all elements in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Array|string} path The path of the property to pluck.\n     * @returns {Array} Returns the property values.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * _.pluck(users, 'user');\n     * // => ['barney', 'fred']\n     *\n     * var userIndex = _.indexBy(users, 'user');\n     * _.pluck(userIndex, 'age');\n     * // => [36, 40] (iteration order is not guaranteed)\n     */\n    function pluck(collection, path) {\n      return map(collection, property(path));\n    }\n\n    /**\n     * Reduces `collection` to a value which is the accumulated result of running\n     * each element in `collection` through `iteratee`, where each successive\n     * invocation is supplied the return value of the previous. If `accumulator`\n     * is not provided the first element of `collection` is used as the initial\n     * value. The `iteratee` is bound to `thisArg` and invoked with four arguments:\n     * (accumulator, value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.reduce`, `_.reduceRight`, and `_.transform`.\n     *\n     * The guarded methods are:\n     * `assign`, `defaults`, `defaultsDeep`, `includes`, `merge`, `sortByAll`,\n     * and `sortByOrder`\n     *\n     * @static\n     * @memberOf _\n     * @alias foldl, inject\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.reduce([1, 2], function(total, n) {\n     *   return total + n;\n     * });\n     * // => 3\n     *\n     * _.reduce({ 'a': 1, 'b': 2 }, function(result, n, key) {\n     *   result[key] = n * 3;\n     *   return result;\n     * }, {});\n     * // => { 'a': 3, 'b': 6 } (iteration order is not guaranteed)\n     */\n    var reduce = createReduce(arrayReduce, baseEach);\n\n    /**\n     * This method is like `_.reduce` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @alias foldr\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * var array = [[0, 1], [2, 3], [4, 5]];\n     *\n     * _.reduceRight(array, function(flattened, other) {\n     *   return flattened.concat(other);\n     * }, []);\n     * // => [4, 5, 2, 3, 0, 1]\n     */\n    var reduceRight = createReduce(arrayReduceRight, baseEachRight);\n\n    /**\n     * The opposite of `_.filter`; this method returns the elements of `collection`\n     * that `predicate` does **not** return truthy for.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the new filtered array.\n     * @example\n     *\n     * _.reject([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 0;\n     * });\n     * // => [1, 3]\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': true }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.reject(users, { 'age': 40, 'active': true }), 'user');\n     * // => ['barney']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.reject(users, 'active', false), 'user');\n     * // => ['fred']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.reject(users, 'active'), 'user');\n     * // => ['barney']\n     */\n    function reject(collection, predicate, thisArg) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      predicate = getCallback(predicate, thisArg, 3);\n      return func(collection, function(value, index, collection) {\n        return !predicate(value, index, collection);\n      });\n    }\n\n    /**\n     * Gets a random element or `n` random elements from a collection.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to sample.\n     * @param {number} [n] The number of elements to sample.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {*} Returns the random sample(s).\n     * @example\n     *\n     * _.sample([1, 2, 3, 4]);\n     * // => 2\n     *\n     * _.sample([1, 2, 3, 4], 2);\n     * // => [3, 1]\n     */\n    function sample(collection, n, guard) {\n      if (guard ? isIterateeCall(collection, n, guard) : n == null) {\n        collection = toIterable(collection);\n        var length = collection.length;\n        return length > 0 ? collection[baseRandom(0, length - 1)] : undefined;\n      }\n      var index = -1,\n          result = toArray(collection),\n          length = result.length,\n          lastIndex = length - 1;\n\n      n = nativeMin(n < 0 ? 0 : (+n || 0), length);\n      while (++index < n) {\n        var rand = baseRandom(index, lastIndex),\n            value = result[rand];\n\n        result[rand] = result[index];\n        result[index] = value;\n      }\n      result.length = n;\n      return result;\n    }\n\n    /**\n     * Creates an array of shuffled values, using a version of the\n     * [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher-Yates_shuffle).\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     * @example\n     *\n     * _.shuffle([1, 2, 3, 4]);\n     * // => [4, 1, 3, 2]\n     */\n    function shuffle(collection) {\n      return sample(collection, POSITIVE_INFINITY);\n    }\n\n    /**\n     * Gets the size of `collection` by returning its length for array-like\n     * values or the number of own enumerable properties for objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @returns {number} Returns the size of `collection`.\n     * @example\n     *\n     * _.size([1, 2, 3]);\n     * // => 3\n     *\n     * _.size({ 'a': 1, 'b': 2 });\n     * // => 2\n     *\n     * _.size('pebbles');\n     * // => 7\n     */\n    function size(collection) {\n      var length = collection ? getLength(collection) : 0;\n      return isLength(length) ? length : keys(collection).length;\n    }\n\n    /**\n     * Checks if `predicate` returns truthy for **any** element of `collection`.\n     * The function returns as soon as it finds a passing value and does not iterate\n     * over the entire collection. The predicate is bound to `thisArg` and invoked\n     * with three arguments: (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias any\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.some([null, 0, 'yes', false], Boolean);\n     * // => true\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': true },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.some(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.some(users, 'active', false);\n     * // => true\n     *\n     * // using the `_.property` callback shorthand\n     * _.some(users, 'active');\n     * // => true\n     */\n    function some(collection, predicate, thisArg) {\n      var func = isArray(collection) ? arraySome : baseSome;\n      if (thisArg && isIterateeCall(collection, predicate, thisArg)) {\n        predicate = undefined;\n      }\n      if (typeof predicate != 'function' || thisArg !== undefined) {\n        predicate = getCallback(predicate, thisArg, 3);\n      }\n      return func(collection, predicate);\n    }\n\n    /**\n     * Creates an array of elements, sorted in ascending order by the results of\n     * running each element in a collection through `iteratee`. This method performs\n     * a stable sort, that is, it preserves the original sort order of equal elements.\n     * The `iteratee` is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * _.sortBy([1, 2, 3], function(n) {\n     *   return Math.sin(n);\n     * });\n     * // => [3, 1, 2]\n     *\n     * _.sortBy([1, 2, 3], function(n) {\n     *   return this.sin(n);\n     * }, Math);\n     * // => [3, 1, 2]\n     *\n     * var users = [\n     *   { 'user': 'fred' },\n     *   { 'user': 'pebbles' },\n     *   { 'user': 'barney' }\n     * ];\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.sortBy(users, 'user'), 'user');\n     * // => ['barney', 'fred', 'pebbles']\n     */\n    function sortBy(collection, iteratee, thisArg) {\n      if (collection == null) {\n        return [];\n      }\n      if (thisArg && isIterateeCall(collection, iteratee, thisArg)) {\n        iteratee = undefined;\n      }\n      var index = -1;\n      iteratee = getCallback(iteratee, thisArg, 3);\n\n      var result = baseMap(collection, function(value, key, collection) {\n        return { 'criteria': iteratee(value, key, collection), 'index': ++index, 'value': value };\n      });\n      return baseSortBy(result, compareAscending);\n    }\n\n    /**\n     * This method is like `_.sortBy` except that it can sort by multiple iteratees\n     * or property names.\n     *\n     * If a property name is provided for an iteratee the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If an object is provided for an iteratee the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {...(Function|Function[]|Object|Object[]|string|string[])} iteratees\n     *  The iteratees to sort by, specified as individual values or arrays of values.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 42 },\n     *   { 'user': 'barney', 'age': 34 }\n     * ];\n     *\n     * _.map(_.sortByAll(users, ['user', 'age']), _.values);\n     * // => [['barney', 34], ['barney', 36], ['fred', 42], ['fred', 48]]\n     *\n     * _.map(_.sortByAll(users, 'user', function(chr) {\n     *   return Math.floor(chr.age / 10);\n     * }), _.values);\n     * // => [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 42]]\n     */\n    var sortByAll = restParam(function(collection, iteratees) {\n      if (collection == null) {\n        return [];\n      }\n      var guard = iteratees[2];\n      if (guard && isIterateeCall(iteratees[0], iteratees[1], guard)) {\n        iteratees.length = 1;\n      }\n      return baseSortByOrder(collection, baseFlatten(iteratees), []);\n    });\n\n    /**\n     * This method is like `_.sortByAll` except that it allows specifying the\n     * sort orders of the iteratees to sort by. If `orders` is unspecified, all\n     * values are sorted in ascending order. Otherwise, a value is sorted in\n     * ascending order if its corresponding order is \"asc\", and descending if \"desc\".\n     *\n     * If a property name is provided for an iteratee the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If an object is provided for an iteratee the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n     * @param {boolean[]} [orders] The sort orders of `iteratees`.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.reduce`.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 34 },\n     *   { 'user': 'fred',   'age': 42 },\n     *   { 'user': 'barney', 'age': 36 }\n     * ];\n     *\n     * // sort by `user` in ascending order and by `age` in descending order\n     * _.map(_.sortByOrder(users, ['user', 'age'], ['asc', 'desc']), _.values);\n     * // => [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 42]]\n     */\n    function sortByOrder(collection, iteratees, orders, guard) {\n      if (collection == null) {\n        return [];\n      }\n      if (guard && isIterateeCall(iteratees, orders, guard)) {\n        orders = undefined;\n      }\n      if (!isArray(iteratees)) {\n        iteratees = iteratees == null ? [] : [iteratees];\n      }\n      if (!isArray(orders)) {\n        orders = orders == null ? [] : [orders];\n      }\n      return baseSortByOrder(collection, iteratees, orders);\n    }\n\n    /**\n     * Performs a deep comparison between each element in `collection` and the\n     * source object, returning an array of all elements that have equivalent\n     * property values.\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties. For comparing a single\n     * own or inherited property value see `_.matchesProperty`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Object} source The object of property values to match.\n     * @returns {Array} Returns the new filtered array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false, 'pets': ['hoppy'] },\n     *   { 'user': 'fred',   'age': 40, 'active': true, 'pets': ['baby puss', 'dino'] }\n     * ];\n     *\n     * _.pluck(_.where(users, { 'age': 36, 'active': false }), 'user');\n     * // => ['barney']\n     *\n     * _.pluck(_.where(users, { 'pets': ['dino'] }), 'user');\n     * // => ['fred']\n     */\n    function where(collection, source) {\n      return filter(collection, baseMatches(source));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Gets the number of milliseconds that have elapsed since the Unix epoch\n     * (1 January 1970 00:00:00 UTC).\n     *\n     * @static\n     * @memberOf _\n     * @category Date\n     * @example\n     *\n     * _.defer(function(stamp) {\n     *   console.log(_.now() - stamp);\n     * }, _.now());\n     * // => logs the number of milliseconds it took for the deferred function to be invoked\n     */\n    var now = nativeNow || function() {\n      return new Date().getTime();\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The opposite of `_.before`; this method creates a function that invokes\n     * `func` once it is called `n` or more times.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {number} n The number of calls before `func` is invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var saves = ['profile', 'settings'];\n     *\n     * var done = _.after(saves.length, function() {\n     *   console.log('done saving!');\n     * });\n     *\n     * _.forEach(saves, function(type) {\n     *   asyncSave({ 'type': type, 'complete': done });\n     * });\n     * // => logs 'done saving!' after the two async saves have completed\n     */\n    function after(n, func) {\n      if (typeof func != 'function') {\n        if (typeof n == 'function') {\n          var temp = n;\n          n = func;\n          func = temp;\n        } else {\n          throw new TypeError(FUNC_ERROR_TEXT);\n        }\n      }\n      n = nativeIsFinite(n = +n) ? n : 0;\n      return function() {\n        if (--n < 1) {\n          return func.apply(this, arguments);\n        }\n      };\n    }\n\n    /**\n     * Creates a function that accepts up to `n` arguments ignoring any\n     * additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @param {number} [n=func.length] The arity cap.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.ary(parseInt, 1));\n     * // => [6, 8, 10]\n     */\n    function ary(func, n, guard) {\n      if (guard && isIterateeCall(func, n, guard)) {\n        n = undefined;\n      }\n      n = (func && n == null) ? func.length : nativeMax(+n || 0, 0);\n      return createWrapper(func, ARY_FLAG, undefined, undefined, undefined, undefined, n);\n    }\n\n    /**\n     * Creates a function that invokes `func`, with the `this` binding and arguments\n     * of the created function, while it is called less than `n` times. Subsequent\n     * calls to the created function return the result of the last `func` invocation.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {number} n The number of calls at which `func` is no longer invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * jQuery('#add').on('click', _.before(5, addContactToList));\n     * // => allows adding up to 4 contacts to the list\n     */\n    function before(n, func) {\n      var result;\n      if (typeof func != 'function') {\n        if (typeof n == 'function') {\n          var temp = n;\n          n = func;\n          func = temp;\n        } else {\n          throw new TypeError(FUNC_ERROR_TEXT);\n        }\n      }\n      return function() {\n        if (--n > 0) {\n          result = func.apply(this, arguments);\n        }\n        if (n <= 1) {\n          func = undefined;\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and prepends any additional `_.bind` arguments to those provided to the\n     * bound function.\n     *\n     * The `_.bind.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** Unlike native `Function#bind` this method does not set the \"length\"\n     * property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var greet = function(greeting, punctuation) {\n     *   return greeting + ' ' + this.user + punctuation;\n     * };\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * var bound = _.bind(greet, object, 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * // using placeholders\n     * var bound = _.bind(greet, object, _, '!');\n     * bound('hi');\n     * // => 'hi fred!'\n     */\n    var bind = restParam(function(func, thisArg, partials) {\n      var bitmask = BIND_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, bind.placeholder);\n        bitmask |= PARTIAL_FLAG;\n      }\n      return createWrapper(func, bitmask, thisArg, partials, holders);\n    });\n\n    /**\n     * Binds methods of an object to the object itself, overwriting the existing\n     * method. Method names may be specified as individual arguments or as arrays\n     * of method names. If no method names are provided all enumerable function\n     * properties, own and inherited, of `object` are bound.\n     *\n     * **Note:** This method does not set the \"length\" property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Object} object The object to bind and assign the bound methods to.\n     * @param {...(string|string[])} [methodNames] The object method names to bind,\n     *  specified as individual method names or arrays of method names.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var view = {\n     *   'label': 'docs',\n     *   'onClick': function() {\n     *     console.log('clicked ' + this.label);\n     *   }\n     * };\n     *\n     * _.bindAll(view);\n     * jQuery('#docs').on('click', view.onClick);\n     * // => logs 'clicked docs' when the element is clicked\n     */\n    var bindAll = restParam(function(object, methodNames) {\n      methodNames = methodNames.length ? baseFlatten(methodNames) : functions(object);\n\n      var index = -1,\n          length = methodNames.length;\n\n      while (++index < length) {\n        var key = methodNames[index];\n        object[key] = createWrapper(object[key], BIND_FLAG, object);\n      }\n      return object;\n    });\n\n    /**\n     * Creates a function that invokes the method at `object[key]` and prepends\n     * any additional `_.bindKey` arguments to those provided to the bound function.\n     *\n     * This method differs from `_.bind` by allowing bound functions to reference\n     * methods that may be redefined or don't yet exist.\n     * See [Peter Michaux's article](http://peter.michaux.ca/articles/lazy-function-definition-pattern)\n     * for more details.\n     *\n     * The `_.bindKey.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Object} object The object the method belongs to.\n     * @param {string} key The key of the method.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var object = {\n     *   'user': 'fred',\n     *   'greet': function(greeting, punctuation) {\n     *     return greeting + ' ' + this.user + punctuation;\n     *   }\n     * };\n     *\n     * var bound = _.bindKey(object, 'greet', 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * object.greet = function(greeting, punctuation) {\n     *   return greeting + 'ya ' + this.user + punctuation;\n     * };\n     *\n     * bound('!');\n     * // => 'hiya fred!'\n     *\n     * // using placeholders\n     * var bound = _.bindKey(object, 'greet', _, '!');\n     * bound('hi');\n     * // => 'hiya fred!'\n     */\n    var bindKey = restParam(function(object, key, partials) {\n      var bitmask = BIND_FLAG | BIND_KEY_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, bindKey.placeholder);\n        bitmask |= PARTIAL_FLAG;\n      }\n      return createWrapper(key, bitmask, object, partials, holders);\n    });\n\n    /**\n     * Creates a function that accepts one or more arguments of `func` that when\n     * called either invokes `func` returning its result, if all `func` arguments\n     * have been provided, or returns a function that accepts one or more of the\n     * remaining `func` arguments, and so on. The arity of `func` may be specified\n     * if `func.length` is not sufficient.\n     *\n     * The `_.curry.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method does not set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curry(abc);\n     *\n     * curried(1)(2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // using placeholders\n     * curried(1)(_, 3)(2);\n     * // => [1, 2, 3]\n     */\n    var curry = createCurry(CURRY_FLAG);\n\n    /**\n     * This method is like `_.curry` except that arguments are applied to `func`\n     * in the manner of `_.partialRight` instead of `_.partial`.\n     *\n     * The `_.curryRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method does not set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curryRight(abc);\n     *\n     * curried(3)(2)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(2, 3)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // using placeholders\n     * curried(3)(1, _)(2);\n     * // => [1, 2, 3]\n     */\n    var curryRight = createCurry(CURRY_RIGHT_FLAG);\n\n    /**\n     * Creates a debounced function that delays invoking `func` until after `wait`\n     * milliseconds have elapsed since the last time the debounced function was\n     * invoked. The debounced function comes with a `cancel` method to cancel\n     * delayed invocations. Provide an options object to indicate that `func`\n     * should be invoked on the leading and/or trailing edge of the `wait` timeout.\n     * Subsequent calls to the debounced function return the result of the last\n     * `func` invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is invoked\n     * on the trailing edge of the timeout only if the the debounced function is\n     * invoked more than once during the `wait` timeout.\n     *\n     * See [David Corbacho's article](http://drupalmotion.com/article/debounce-and-throttle-visual-explanation)\n     * for details over the differences between `_.debounce` and `_.throttle`.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to debounce.\n     * @param {number} [wait=0] The number of milliseconds to delay.\n     * @param {Object} [options] The options object.\n     * @param {boolean} [options.leading=false] Specify invoking on the leading\n     *  edge of the timeout.\n     * @param {number} [options.maxWait] The maximum time `func` is allowed to be\n     *  delayed before it is invoked.\n     * @param {boolean} [options.trailing=true] Specify invoking on the trailing\n     *  edge of the timeout.\n     * @returns {Function} Returns the new debounced function.\n     * @example\n     *\n     * // avoid costly calculations while the window size is in flux\n     * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n     *\n     * // invoke `sendMail` when the click event is fired, debouncing subsequent calls\n     * jQuery('#postbox').on('click', _.debounce(sendMail, 300, {\n     *   'leading': true,\n     *   'trailing': false\n     * }));\n     *\n     * // ensure `batchLog` is invoked once after 1 second of debounced calls\n     * var source = new EventSource('/stream');\n     * jQuery(source).on('message', _.debounce(batchLog, 250, {\n     *   'maxWait': 1000\n     * }));\n     *\n     * // cancel a debounced call\n     * var todoChanges = _.debounce(batchLog, 1000);\n     * Object.observe(models.todo, todoChanges);\n     *\n     * Object.observe(models, function(changes) {\n     *   if (_.find(changes, { 'user': 'todo', 'type': 'delete'})) {\n     *     todoChanges.cancel();\n     *   }\n     * }, ['delete']);\n     *\n     * // ...at some point `models.todo` is changed\n     * models.todo.completed = true;\n     *\n     * // ...before 1 second has passed `models.todo` is deleted\n     * // which cancels the debounced `todoChanges` call\n     * delete models.todo;\n     */\n    function debounce(func, wait, options) {\n      var args,\n          maxTimeoutId,\n          result,\n          stamp,\n          thisArg,\n          timeoutId,\n          trailingCall,\n          lastCalled = 0,\n          maxWait = false,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      wait = wait < 0 ? 0 : (+wait || 0);\n      if (options === true) {\n        var leading = true;\n        trailing = false;\n      } else if (isObject(options)) {\n        leading = !!options.leading;\n        maxWait = 'maxWait' in options && nativeMax(+options.maxWait || 0, wait);\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n\n      function cancel() {\n        if (timeoutId) {\n          clearTimeout(timeoutId);\n        }\n        if (maxTimeoutId) {\n          clearTimeout(maxTimeoutId);\n        }\n        lastCalled = 0;\n        maxTimeoutId = timeoutId = trailingCall = undefined;\n      }\n\n      function complete(isCalled, id) {\n        if (id) {\n          clearTimeout(id);\n        }\n        maxTimeoutId = timeoutId = trailingCall = undefined;\n        if (isCalled) {\n          lastCalled = now();\n          result = func.apply(thisArg, args);\n          if (!timeoutId && !maxTimeoutId) {\n            args = thisArg = undefined;\n          }\n        }\n      }\n\n      function delayed() {\n        var remaining = wait - (now() - stamp);\n        if (remaining <= 0 || remaining > wait) {\n          complete(trailingCall, maxTimeoutId);\n        } else {\n          timeoutId = setTimeout(delayed, remaining);\n        }\n      }\n\n      function maxDelayed() {\n        complete(trailing, timeoutId);\n      }\n\n      function debounced() {\n        args = arguments;\n        stamp = now();\n        thisArg = this;\n        trailingCall = trailing && (timeoutId || !leading);\n\n        if (maxWait === false) {\n          var leadingCall = leading && !timeoutId;\n        } else {\n          if (!maxTimeoutId && !leading) {\n            lastCalled = stamp;\n          }\n          var remaining = maxWait - (stamp - lastCalled),\n              isCalled = remaining <= 0 || remaining > maxWait;\n\n          if (isCalled) {\n            if (maxTimeoutId) {\n              maxTimeoutId = clearTimeout(maxTimeoutId);\n            }\n            lastCalled = stamp;\n            result = func.apply(thisArg, args);\n          }\n          else if (!maxTimeoutId) {\n            maxTimeoutId = setTimeout(maxDelayed, remaining);\n          }\n        }\n        if (isCalled && timeoutId) {\n          timeoutId = clearTimeout(timeoutId);\n        }\n        else if (!timeoutId && wait !== maxWait) {\n          timeoutId = setTimeout(delayed, wait);\n        }\n        if (leadingCall) {\n          isCalled = true;\n          result = func.apply(thisArg, args);\n        }\n        if (isCalled && !timeoutId && !maxTimeoutId) {\n          args = thisArg = undefined;\n        }\n        return result;\n      }\n      debounced.cancel = cancel;\n      return debounced;\n    }\n\n    /**\n     * Defers invoking the `func` until the current call stack has cleared. Any\n     * additional arguments are provided to `func` when it is invoked.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to defer.\n     * @param {...*} [args] The arguments to invoke the function with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.defer(function(text) {\n     *   console.log(text);\n     * }, 'deferred');\n     * // logs 'deferred' after one or more milliseconds\n     */\n    var defer = restParam(function(func, args) {\n      return baseDelay(func, 1, args);\n    });\n\n    /**\n     * Invokes `func` after `wait` milliseconds. Any additional arguments are\n     * provided to `func` when it is invoked.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {...*} [args] The arguments to invoke the function with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.delay(function(text) {\n     *   console.log(text);\n     * }, 1000, 'later');\n     * // => logs 'later' after one second\n     */\n    var delay = restParam(function(func, wait, args) {\n      return baseDelay(func, wait, args);\n    });\n\n    /**\n     * Creates a function that returns the result of invoking the provided\n     * functions with the `this` binding of the created function, where each\n     * successive invocation is supplied the return value of the previous.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {...Function} [funcs] Functions to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flow(_.add, square);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flow = createFlow();\n\n    /**\n     * This method is like `_.flow` except that it creates a function that\n     * invokes the provided functions from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @alias backflow, compose\n     * @category Function\n     * @param {...Function} [funcs] Functions to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flowRight(square, _.add);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flowRight = createFlow(true);\n\n    /**\n     * Creates a function that memoizes the result of `func`. If `resolver` is\n     * provided it determines the cache key for storing the result based on the\n     * arguments provided to the memoized function. By default, the first argument\n     * provided to the memoized function is coerced to a string and used as the\n     * cache key. The `func` is invoked with the `this` binding of the memoized\n     * function.\n     *\n     * **Note:** The cache is exposed as the `cache` property on the memoized\n     * function. Its creation may be customized by replacing the `_.memoize.Cache`\n     * constructor with one whose instances implement the [`Map`](http://ecma-international.org/ecma-262/6.0/#sec-properties-of-the-map-prototype-object)\n     * method interface of `get`, `has`, and `set`.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to have its output memoized.\n     * @param {Function} [resolver] The function to resolve the cache key.\n     * @returns {Function} Returns the new memoizing function.\n     * @example\n     *\n     * var upperCase = _.memoize(function(string) {\n     *   return string.toUpperCase();\n     * });\n     *\n     * upperCase('fred');\n     * // => 'FRED'\n     *\n     * // modifying the result cache\n     * upperCase.cache.set('fred', 'BARNEY');\n     * upperCase('fred');\n     * // => 'BARNEY'\n     *\n     * // replacing `_.memoize.Cache`\n     * var object = { 'user': 'fred' };\n     * var other = { 'user': 'barney' };\n     * var identity = _.memoize(_.identity);\n     *\n     * identity(object);\n     * // => { 'user': 'fred' }\n     * identity(other);\n     * // => { 'user': 'fred' }\n     *\n     * _.memoize.Cache = WeakMap;\n     * var identity = _.memoize(_.identity);\n     *\n     * identity(object);\n     * // => { 'user': 'fred' }\n     * identity(other);\n     * // => { 'user': 'barney' }\n     */\n    function memoize(func, resolver) {\n      if (typeof func != 'function' || (resolver && typeof resolver != 'function')) {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var memoized = function() {\n        var args = arguments,\n            key = resolver ? resolver.apply(this, args) : args[0],\n            cache = memoized.cache;\n\n        if (cache.has(key)) {\n          return cache.get(key);\n        }\n        var result = func.apply(this, args);\n        memoized.cache = cache.set(key, result);\n        return result;\n      };\n      memoized.cache = new memoize.Cache;\n      return memoized;\n    }\n\n    /**\n     * Creates a function that runs each argument through a corresponding\n     * transform function.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to wrap.\n     * @param {...(Function|Function[])} [transforms] The functions to transform\n     * arguments, specified as individual functions or arrays of functions.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function doubled(n) {\n     *   return n * 2;\n     * }\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var modded = _.modArgs(function(x, y) {\n     *   return [x, y];\n     * }, square, doubled);\n     *\n     * modded(1, 2);\n     * // => [1, 4]\n     *\n     * modded(5, 10);\n     * // => [25, 20]\n     */\n    var modArgs = restParam(function(func, transforms) {\n      transforms = baseFlatten(transforms);\n      if (typeof func != 'function' || !arrayEvery(transforms, baseIsFunction)) {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var length = transforms.length;\n      return restParam(function(args) {\n        var index = nativeMin(args.length, length);\n        while (index--) {\n          args[index] = transforms[index](args[index]);\n        }\n        return func.apply(this, args);\n      });\n    });\n\n    /**\n     * Creates a function that negates the result of the predicate `func`. The\n     * `func` predicate is invoked with the `this` binding and arguments of the\n     * created function.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} predicate The predicate to negate.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function isEven(n) {\n     *   return n % 2 == 0;\n     * }\n     *\n     * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));\n     * // => [1, 3, 5]\n     */\n    function negate(predicate) {\n      if (typeof predicate != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return function() {\n        return !predicate.apply(this, arguments);\n      };\n    }\n\n    /**\n     * Creates a function that is restricted to invoking `func` once. Repeat calls\n     * to the function return the value of the first call. The `func` is invoked\n     * with the `this` binding and arguments of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var initialize = _.once(createApplication);\n     * initialize();\n     * initialize();\n     * // `initialize` invokes `createApplication` once\n     */\n    function once(func) {\n      return before(2, func);\n    }\n\n    /**\n     * Creates a function that invokes `func` with `partial` arguments prepended\n     * to those provided to the new function. This method is like `_.bind` except\n     * it does **not** alter the `this` binding.\n     *\n     * The `_.partial.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method does not set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * var greet = function(greeting, name) {\n     *   return greeting + ' ' + name;\n     * };\n     *\n     * var sayHelloTo = _.partial(greet, 'hello');\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     *\n     * // using placeholders\n     * var greetFred = _.partial(greet, _, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     */\n    var partial = createPartial(PARTIAL_FLAG);\n\n    /**\n     * This method is like `_.partial` except that partially applied arguments\n     * are appended to those provided to the new function.\n     *\n     * The `_.partialRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method does not set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * var greet = function(greeting, name) {\n     *   return greeting + ' ' + name;\n     * };\n     *\n     * var greetFred = _.partialRight(greet, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     *\n     * // using placeholders\n     * var sayHelloTo = _.partialRight(greet, 'hello', _);\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     */\n    var partialRight = createPartial(PARTIAL_RIGHT_FLAG);\n\n    /**\n     * Creates a function that invokes `func` with arguments arranged according\n     * to the specified indexes where the argument value at the first index is\n     * provided as the first argument, the argument value at the second index is\n     * provided as the second argument, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to rearrange arguments for.\n     * @param {...(number|number[])} indexes The arranged argument indexes,\n     *  specified as individual indexes or arrays of indexes.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var rearged = _.rearg(function(a, b, c) {\n     *   return [a, b, c];\n     * }, 2, 0, 1);\n     *\n     * rearged('b', 'c', 'a')\n     * // => ['a', 'b', 'c']\n     *\n     * var map = _.rearg(_.map, [1, 0]);\n     * map(function(n) {\n     *   return n * 3;\n     * }, [1, 2, 3]);\n     * // => [3, 6, 9]\n     */\n    var rearg = restParam(function(func, indexes) {\n      return createWrapper(func, REARG_FLAG, undefined, undefined, undefined, baseFlatten(indexes));\n    });\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * created function and arguments from `start` and beyond provided as an array.\n     *\n     * **Note:** This method is based on the [rest parameter](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/rest_parameters).\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.restParam(function(what, names) {\n     *   return what + ' ' + _.initial(names).join(', ') +\n     *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);\n     * });\n     *\n     * say('hello', 'fred', 'barney', 'pebbles');\n     * // => 'hello fred, barney, & pebbles'\n     */\n    function restParam(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = nativeMax(start === undefined ? (func.length - 1) : (+start || 0), 0);\n      return function() {\n        var args = arguments,\n            index = -1,\n            length = nativeMax(args.length - start, 0),\n            rest = Array(length);\n\n        while (++index < length) {\n          rest[index] = args[start + index];\n        }\n        switch (start) {\n          case 0: return func.call(this, rest);\n          case 1: return func.call(this, args[0], rest);\n          case 2: return func.call(this, args[0], args[1], rest);\n        }\n        var otherArgs = Array(start + 1);\n        index = -1;\n        while (++index < start) {\n          otherArgs[index] = args[index];\n        }\n        otherArgs[start] = rest;\n        return func.apply(this, otherArgs);\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the created\n     * function and an array of arguments much like [`Function#apply`](https://es5.github.io/#x15.3.4.3).\n     *\n     * **Note:** This method is based on the [spread operator](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_operator).\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to spread arguments over.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.spread(function(who, what) {\n     *   return who + ' says ' + what;\n     * });\n     *\n     * say(['fred', 'hello']);\n     * // => 'fred says hello'\n     *\n     * // with a Promise\n     * var numbers = Promise.all([\n     *   Promise.resolve(40),\n     *   Promise.resolve(36)\n     * ]);\n     *\n     * numbers.then(_.spread(function(x, y) {\n     *   return x + y;\n     * }));\n     * // => a Promise of 76\n     */\n    function spread(func) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return function(array) {\n        return func.apply(this, array);\n      };\n    }\n\n    /**\n     * Creates a throttled function that only invokes `func` at most once per\n     * every `wait` milliseconds. The throttled function comes with a `cancel`\n     * method to cancel delayed invocations. Provide an options object to indicate\n     * that `func` should be invoked on the leading and/or trailing edge of the\n     * `wait` timeout. Subsequent calls to the throttled function return the\n     * result of the last `func` call.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is invoked\n     * on the trailing edge of the timeout only if the the throttled function is\n     * invoked more than once during the `wait` timeout.\n     *\n     * See [David Corbacho's article](http://drupalmotion.com/article/debounce-and-throttle-visual-explanation)\n     * for details over the differences between `_.throttle` and `_.debounce`.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to throttle.\n     * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n     * @param {Object} [options] The options object.\n     * @param {boolean} [options.leading=true] Specify invoking on the leading\n     *  edge of the timeout.\n     * @param {boolean} [options.trailing=true] Specify invoking on the trailing\n     *  edge of the timeout.\n     * @returns {Function} Returns the new throttled function.\n     * @example\n     *\n     * // avoid excessively updating the position while scrolling\n     * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n     *\n     * // invoke `renewToken` when the click event is fired, but not more than once every 5 minutes\n     * jQuery('.interactive').on('click', _.throttle(renewToken, 300000, {\n     *   'trailing': false\n     * }));\n     *\n     * // cancel a trailing throttled call\n     * jQuery(window).on('popstate', throttled.cancel);\n     */\n    function throttle(func, wait, options) {\n      var leading = true,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (options === false) {\n        leading = false;\n      } else if (isObject(options)) {\n        leading = 'leading' in options ? !!options.leading : leading;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n      return debounce(func, wait, { 'leading': leading, 'maxWait': +wait, 'trailing': trailing });\n    }\n\n    /**\n     * Creates a function that provides `value` to the wrapper function as its\n     * first argument. Any additional arguments provided to the function are\n     * appended to those provided to the wrapper function. The wrapper is invoked\n     * with the `this` binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {*} value The value to wrap.\n     * @param {Function} wrapper The wrapper function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var p = _.wrap(_.escape, function(func, text) {\n     *   return '<p>' + func(text) + '</p>';\n     * });\n     *\n     * p('fred, barney, & pebbles');\n     * // => '<p>fred, barney, &amp; pebbles</p>'\n     */\n    function wrap(value, wrapper) {\n      wrapper = wrapper == null ? identity : wrapper;\n      return createWrapper(wrapper, PARTIAL_FLAG, undefined, [value], []);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a clone of `value`. If `isDeep` is `true` nested objects are cloned,\n     * otherwise they are assigned by reference. If `customizer` is provided it is\n     * invoked to produce the cloned values. If `customizer` returns `undefined`\n     * cloning is handled by the method instead. The `customizer` is bound to\n     * `thisArg` and invoked with two argument; (value [, index|key, object]).\n     *\n     * **Note:** This method is loosely based on the\n     * [structured clone algorithm](http://www.w3.org/TR/html5/infrastructure.html#internal-structured-cloning-algorithm).\n     * The enumerable properties of `arguments` objects and objects created by\n     * constructors other than `Object` are cloned to plain `Object` objects. An\n     * empty object is returned for uncloneable values such as functions, DOM nodes,\n     * Maps, Sets, and WeakMaps.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @param {Function} [customizer] The function to customize cloning values.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {*} Returns the cloned value.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * var shallow = _.clone(users);\n     * shallow[0] === users[0];\n     * // => true\n     *\n     * var deep = _.clone(users, true);\n     * deep[0] === users[0];\n     * // => false\n     *\n     * // using a customizer callback\n     * var el = _.clone(document.body, function(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(false);\n     *   }\n     * });\n     *\n     * el === document.body\n     * // => false\n     * el.nodeName\n     * // => BODY\n     * el.childNodes.length;\n     * // => 0\n     */\n    function clone(value, isDeep, customizer, thisArg) {\n      if (isDeep && typeof isDeep != 'boolean' && isIterateeCall(value, isDeep, customizer)) {\n        isDeep = false;\n      }\n      else if (typeof isDeep == 'function') {\n        thisArg = customizer;\n        customizer = isDeep;\n        isDeep = false;\n      }\n      return typeof customizer == 'function'\n        ? baseClone(value, isDeep, bindCallback(customizer, thisArg, 1))\n        : baseClone(value, isDeep);\n    }\n\n    /**\n     * Creates a deep clone of `value`. If `customizer` is provided it is invoked\n     * to produce the cloned values. If `customizer` returns `undefined` cloning\n     * is handled by the method instead. The `customizer` is bound to `thisArg`\n     * and invoked with two argument; (value [, index|key, object]).\n     *\n     * **Note:** This method is loosely based on the\n     * [structured clone algorithm](http://www.w3.org/TR/html5/infrastructure.html#internal-structured-cloning-algorithm).\n     * The enumerable properties of `arguments` objects and objects created by\n     * constructors other than `Object` are cloned to plain `Object` objects. An\n     * empty object is returned for uncloneable values such as functions, DOM nodes,\n     * Maps, Sets, and WeakMaps.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to deep clone.\n     * @param {Function} [customizer] The function to customize cloning values.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {*} Returns the deep cloned value.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * var deep = _.cloneDeep(users);\n     * deep[0] === users[0];\n     * // => false\n     *\n     * // using a customizer callback\n     * var el = _.cloneDeep(document.body, function(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(true);\n     *   }\n     * });\n     *\n     * el === document.body\n     * // => false\n     * el.nodeName\n     * // => BODY\n     * el.childNodes.length;\n     * // => 20\n     */\n    function cloneDeep(value, customizer, thisArg) {\n      return typeof customizer == 'function'\n        ? baseClone(value, true, bindCallback(customizer, thisArg, 1))\n        : baseClone(value, true);\n    }\n\n    /**\n     * Checks if `value` is greater than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`, else `false`.\n     * @example\n     *\n     * _.gt(3, 1);\n     * // => true\n     *\n     * _.gt(3, 3);\n     * // => false\n     *\n     * _.gt(1, 3);\n     * // => false\n     */\n    function gt(value, other) {\n      return value > other;\n    }\n\n    /**\n     * Checks if `value` is greater than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than or equal to `other`, else `false`.\n     * @example\n     *\n     * _.gte(3, 1);\n     * // => true\n     *\n     * _.gte(3, 3);\n     * // => true\n     *\n     * _.gte(1, 3);\n     * // => false\n     */\n    function gte(value, other) {\n      return value >= other;\n    }\n\n    /**\n     * Checks if `value` is classified as an `arguments` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isArguments(function() { return arguments; }());\n     * // => true\n     *\n     * _.isArguments([1, 2, 3]);\n     * // => false\n     */\n    function isArguments(value) {\n      return isObjectLike(value) && isArrayLike(value) &&\n        hasOwnProperty.call(value, 'callee') && !propertyIsEnumerable.call(value, 'callee');\n    }\n\n    /**\n     * Checks if `value` is classified as an `Array` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isArray([1, 2, 3]);\n     * // => true\n     *\n     * _.isArray(function() { return arguments; }());\n     * // => false\n     */\n    var isArray = nativeIsArray || function(value) {\n      return isObjectLike(value) && isLength(value.length) && objToString.call(value) == arrayTag;\n    };\n\n    /**\n     * Checks if `value` is classified as a boolean primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isBoolean(false);\n     * // => true\n     *\n     * _.isBoolean(null);\n     * // => false\n     */\n    function isBoolean(value) {\n      return value === true || value === false || (isObjectLike(value) && objToString.call(value) == boolTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Date` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isDate(new Date);\n     * // => true\n     *\n     * _.isDate('Mon April 23 2012');\n     * // => false\n     */\n    function isDate(value) {\n      return isObjectLike(value) && objToString.call(value) == dateTag;\n    }\n\n    /**\n     * Checks if `value` is a DOM element.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a DOM element, else `false`.\n     * @example\n     *\n     * _.isElement(document.body);\n     * // => true\n     *\n     * _.isElement('<body>');\n     * // => false\n     */\n    function isElement(value) {\n      return !!value && value.nodeType === 1 && isObjectLike(value) && !isPlainObject(value);\n    }\n\n    /**\n     * Checks if `value` is empty. A value is considered empty unless it is an\n     * `arguments` object, array, string, or jQuery-like collection with a length\n     * greater than `0` or an object with own enumerable properties.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {Array|Object|string} value The value to inspect.\n     * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n     * @example\n     *\n     * _.isEmpty(null);\n     * // => true\n     *\n     * _.isEmpty(true);\n     * // => true\n     *\n     * _.isEmpty(1);\n     * // => true\n     *\n     * _.isEmpty([1, 2, 3]);\n     * // => false\n     *\n     * _.isEmpty({ 'a': 1 });\n     * // => false\n     */\n    function isEmpty(value) {\n      if (value == null) {\n        return true;\n      }\n      if (isArrayLike(value) && (isArray(value) || isString(value) || isArguments(value) ||\n          (isObjectLike(value) && isFunction(value.splice)))) {\n        return !value.length;\n      }\n      return !keys(value).length;\n    }\n\n    /**\n     * Performs a deep comparison between two values to determine if they are\n     * equivalent. If `customizer` is provided it is invoked to compare values.\n     * If `customizer` returns `undefined` comparisons are handled by the method\n     * instead. The `customizer` is bound to `thisArg` and invoked with three\n     * arguments: (value, other [, index|key]).\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties. Functions and DOM nodes\n     * are **not** supported. Provide a customizer function to extend support\n     * for comparing other values.\n     *\n     * @static\n     * @memberOf _\n     * @alias eq\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize value comparisons.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'user': 'fred' };\n     * var other = { 'user': 'fred' };\n     *\n     * object == other;\n     * // => false\n     *\n     * _.isEqual(object, other);\n     * // => true\n     *\n     * // using a customizer callback\n     * var array = ['hello', 'goodbye'];\n     * var other = ['hi', 'goodbye'];\n     *\n     * _.isEqual(array, other, function(value, other) {\n     *   if (_.every([value, other], RegExp.prototype.test, /^h(?:i|ello)$/)) {\n     *     return true;\n     *   }\n     * });\n     * // => true\n     */\n    function isEqual(value, other, customizer, thisArg) {\n      customizer = typeof customizer == 'function' ? bindCallback(customizer, thisArg, 3) : undefined;\n      var result = customizer ? customizer(value, other) : undefined;\n      return  result === undefined ? baseIsEqual(value, other, customizer) : !!result;\n    }\n\n    /**\n     * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,\n     * `SyntaxError`, `TypeError`, or `URIError` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an error object, else `false`.\n     * @example\n     *\n     * _.isError(new Error);\n     * // => true\n     *\n     * _.isError(Error);\n     * // => false\n     */\n    function isError(value) {\n      return isObjectLike(value) && typeof value.message == 'string' && objToString.call(value) == errorTag;\n    }\n\n    /**\n     * Checks if `value` is a finite primitive number.\n     *\n     * **Note:** This method is based on [`Number.isFinite`](http://ecma-international.org/ecma-262/6.0/#sec-number.isfinite).\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a finite number, else `false`.\n     * @example\n     *\n     * _.isFinite(10);\n     * // => true\n     *\n     * _.isFinite('10');\n     * // => false\n     *\n     * _.isFinite(true);\n     * // => false\n     *\n     * _.isFinite(Object(10));\n     * // => false\n     *\n     * _.isFinite(Infinity);\n     * // => false\n     */\n    function isFinite(value) {\n      return typeof value == 'number' && nativeIsFinite(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Function` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isFunction(_);\n     * // => true\n     *\n     * _.isFunction(/abc/);\n     * // => false\n     */\n    function isFunction(value) {\n      // The use of `Object#toString` avoids issues with the `typeof` operator\n      // in older versions of Chrome and Safari which return 'function' for regexes\n      // and Safari 8 equivalents which return 'object' for typed array constructors.\n      return isObject(value) && objToString.call(value) == funcTag;\n    }\n\n    /**\n     * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n     * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n     * @example\n     *\n     * _.isObject({});\n     * // => true\n     *\n     * _.isObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isObject(1);\n     * // => false\n     */\n    function isObject(value) {\n      // Avoid a V8 JIT bug in Chrome 19-20.\n      // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n      var type = typeof value;\n      return !!value && (type == 'object' || type == 'function');\n    }\n\n    /**\n     * Performs a deep comparison between `object` and `source` to determine if\n     * `object` contains equivalent property values. If `customizer` is provided\n     * it is invoked to compare values. If `customizer` returns `undefined`\n     * comparisons are handled by the method instead. The `customizer` is bound\n     * to `thisArg` and invoked with three arguments: (value, other, index|key).\n     *\n     * **Note:** This method supports comparing properties of arrays, booleans,\n     * `Date` objects, numbers, `Object` objects, regexes, and strings. Functions\n     * and DOM nodes are **not** supported. Provide a customizer function to extend\n     * support for comparing other values.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Function} [customizer] The function to customize value comparisons.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * var object = { 'user': 'fred', 'age': 40 };\n     *\n     * _.isMatch(object, { 'age': 40 });\n     * // => true\n     *\n     * _.isMatch(object, { 'age': 36 });\n     * // => false\n     *\n     * // using a customizer callback\n     * var object = { 'greeting': 'hello' };\n     * var source = { 'greeting': 'hi' };\n     *\n     * _.isMatch(object, source, function(value, other) {\n     *   return _.every([value, other], RegExp.prototype.test, /^h(?:i|ello)$/) || undefined;\n     * });\n     * // => true\n     */\n    function isMatch(object, source, customizer, thisArg) {\n      customizer = typeof customizer == 'function' ? bindCallback(customizer, thisArg, 3) : undefined;\n      return baseIsMatch(object, getMatchData(source), customizer);\n    }\n\n    /**\n     * Checks if `value` is `NaN`.\n     *\n     * **Note:** This method is not the same as [`isNaN`](https://es5.github.io/#x15.1.2.4)\n     * which returns `true` for `undefined` and other non-numeric values.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n     * @example\n     *\n     * _.isNaN(NaN);\n     * // => true\n     *\n     * _.isNaN(new Number(NaN));\n     * // => true\n     *\n     * isNaN(undefined);\n     * // => true\n     *\n     * _.isNaN(undefined);\n     * // => false\n     */\n    function isNaN(value) {\n      // An `NaN` primitive is the only value that is not equal to itself.\n      // Perform the `toStringTag` check first to avoid errors with some host objects in IE.\n      return isNumber(value) && value != +value;\n    }\n\n    /**\n     * Checks if `value` is a native function.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function, else `false`.\n     * @example\n     *\n     * _.isNative(Array.prototype.push);\n     * // => true\n     *\n     * _.isNative(_);\n     * // => false\n     */\n    function isNative(value) {\n      if (value == null) {\n        return false;\n      }\n      if (isFunction(value)) {\n        return reIsNative.test(fnToString.call(value));\n      }\n      return isObjectLike(value) && reIsHostCtor.test(value);\n    }\n\n    /**\n     * Checks if `value` is `null`.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `null`, else `false`.\n     * @example\n     *\n     * _.isNull(null);\n     * // => true\n     *\n     * _.isNull(void 0);\n     * // => false\n     */\n    function isNull(value) {\n      return value === null;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Number` primitive or object.\n     *\n     * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are classified\n     * as numbers, use the `_.isFinite` method.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isNumber(8.4);\n     * // => true\n     *\n     * _.isNumber(NaN);\n     * // => true\n     *\n     * _.isNumber('8.4');\n     * // => false\n     */\n    function isNumber(value) {\n      return typeof value == 'number' || (isObjectLike(value) && objToString.call(value) == numberTag);\n    }\n\n    /**\n     * Checks if `value` is a plain object, that is, an object created by the\n     * `Object` constructor or one with a `[[Prototype]]` of `null`.\n     *\n     * **Note:** This method assumes objects created by the `Object` constructor\n     * have no inherited enumerable properties.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * _.isPlainObject(new Foo);\n     * // => false\n     *\n     * _.isPlainObject([1, 2, 3]);\n     * // => false\n     *\n     * _.isPlainObject({ 'x': 0, 'y': 0 });\n     * // => true\n     *\n     * _.isPlainObject(Object.create(null));\n     * // => true\n     */\n    function isPlainObject(value) {\n      var Ctor;\n\n      // Exit early for non `Object` objects.\n      if (!(isObjectLike(value) && objToString.call(value) == objectTag && !isArguments(value)) ||\n          (!hasOwnProperty.call(value, 'constructor') && (Ctor = value.constructor, typeof Ctor == 'function' && !(Ctor instanceof Ctor)))) {\n        return false;\n      }\n      // IE < 9 iterates inherited properties before own properties. If the first\n      // iterated property is an object's own property then there are no inherited\n      // enumerable properties.\n      var result;\n      // In most environments an object's own properties are iterated before\n      // its inherited properties. If the last iterated property is an object's\n      // own property then there are no inherited enumerable properties.\n      baseForIn(value, function(subValue, key) {\n        result = key;\n      });\n      return result === undefined || hasOwnProperty.call(value, result);\n    }\n\n    /**\n     * Checks if `value` is classified as a `RegExp` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isRegExp(/abc/);\n     * // => true\n     *\n     * _.isRegExp('/abc/');\n     * // => false\n     */\n    function isRegExp(value) {\n      return isObject(value) && objToString.call(value) == regexpTag;\n    }\n\n    /**\n     * Checks if `value` is classified as a `String` primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isString('abc');\n     * // => true\n     *\n     * _.isString(1);\n     * // => false\n     */\n    function isString(value) {\n      return typeof value == 'string' || (isObjectLike(value) && objToString.call(value) == stringTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a typed array.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isTypedArray(new Uint8Array);\n     * // => true\n     *\n     * _.isTypedArray([]);\n     * // => false\n     */\n    function isTypedArray(value) {\n      return isObjectLike(value) && isLength(value.length) && !!typedArrayTags[objToString.call(value)];\n    }\n\n    /**\n     * Checks if `value` is `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n     * @example\n     *\n     * _.isUndefined(void 0);\n     * // => true\n     *\n     * _.isUndefined(null);\n     * // => false\n     */\n    function isUndefined(value) {\n      return value === undefined;\n    }\n\n    /**\n     * Checks if `value` is less than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`, else `false`.\n     * @example\n     *\n     * _.lt(1, 3);\n     * // => true\n     *\n     * _.lt(3, 3);\n     * // => false\n     *\n     * _.lt(3, 1);\n     * // => false\n     */\n    function lt(value, other) {\n      return value < other;\n    }\n\n    /**\n     * Checks if `value` is less than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than or equal to `other`, else `false`.\n     * @example\n     *\n     * _.lte(1, 3);\n     * // => true\n     *\n     * _.lte(3, 3);\n     * // => true\n     *\n     * _.lte(3, 1);\n     * // => false\n     */\n    function lte(value, other) {\n      return value <= other;\n    }\n\n    /**\n     * Converts `value` to an array.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the converted array.\n     * @example\n     *\n     * (function() {\n     *   return _.toArray(arguments).slice(1);\n     * }(1, 2, 3));\n     * // => [2, 3]\n     */\n    function toArray(value) {\n      var length = value ? getLength(value) : 0;\n      if (!isLength(length)) {\n        return values(value);\n      }\n      if (!length) {\n        return [];\n      }\n      return arrayCopy(value);\n    }\n\n    /**\n     * Converts `value` to a plain object flattening inherited enumerable\n     * properties of `value` to own properties of the plain object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Object} Returns the converted plain object.\n     * @example\n     *\n     * function Foo() {\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.assign({ 'a': 1 }, new Foo);\n     * // => { 'a': 1, 'b': 2 }\n     *\n     * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n     * // => { 'a': 1, 'b': 2, 'c': 3 }\n     */\n    function toPlainObject(value) {\n      return baseCopy(value, keysIn(value));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Recursively merges own enumerable properties of the source object(s), that\n     * don't resolve to `undefined` into the destination object. Subsequent sources\n     * overwrite property assignments of previous sources. If `customizer` is\n     * provided it is invoked to produce the merged values of the destination and\n     * source properties. If `customizer` returns `undefined` merging is handled\n     * by the method instead. The `customizer` is bound to `thisArg` and invoked\n     * with five arguments: (objectValue, sourceValue, key, object, source).\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var users = {\n     *   'data': [{ 'user': 'barney' }, { 'user': 'fred' }]\n     * };\n     *\n     * var ages = {\n     *   'data': [{ 'age': 36 }, { 'age': 40 }]\n     * };\n     *\n     * _.merge(users, ages);\n     * // => { 'data': [{ 'user': 'barney', 'age': 36 }, { 'user': 'fred', 'age': 40 }] }\n     *\n     * // using a customizer callback\n     * var object = {\n     *   'fruits': ['apple'],\n     *   'vegetables': ['beet']\n     * };\n     *\n     * var other = {\n     *   'fruits': ['banana'],\n     *   'vegetables': ['carrot']\n     * };\n     *\n     * _.merge(object, other, function(a, b) {\n     *   if (_.isArray(a)) {\n     *     return a.concat(b);\n     *   }\n     * });\n     * // => { 'fruits': ['apple', 'banana'], 'vegetables': ['beet', 'carrot'] }\n     */\n    var merge = createAssigner(baseMerge);\n\n    /**\n     * Assigns own enumerable properties of source object(s) to the destination\n     * object. Subsequent sources overwrite property assignments of previous sources.\n     * If `customizer` is provided it is invoked to produce the assigned values.\n     * The `customizer` is bound to `thisArg` and invoked with five arguments:\n     * (objectValue, sourceValue, key, object, source).\n     *\n     * **Note:** This method mutates `object` and is based on\n     * [`Object.assign`](http://ecma-international.org/ecma-262/6.0/#sec-object.assign).\n     *\n     * @static\n     * @memberOf _\n     * @alias extend\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * _.assign({ 'user': 'barney' }, { 'age': 40 }, { 'user': 'fred' });\n     * // => { 'user': 'fred', 'age': 40 }\n     *\n     * // using a customizer callback\n     * var defaults = _.partialRight(_.assign, function(value, other) {\n     *   return _.isUndefined(value) ? other : value;\n     * });\n     *\n     * defaults({ 'user': 'barney' }, { 'age': 36 }, { 'user': 'fred' });\n     * // => { 'user': 'barney', 'age': 36 }\n     */\n    var assign = createAssigner(function(object, source, customizer) {\n      return customizer\n        ? assignWith(object, source, customizer)\n        : baseAssign(object, source);\n    });\n\n    /**\n     * Creates an object that inherits from the given `prototype` object. If a\n     * `properties` object is provided its own enumerable properties are assigned\n     * to the created object.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} prototype The object to inherit from.\n     * @param {Object} [properties] The properties to assign to the object.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * function Circle() {\n     *   Shape.call(this);\n     * }\n     *\n     * Circle.prototype = _.create(Shape.prototype, {\n     *   'constructor': Circle\n     * });\n     *\n     * var circle = new Circle;\n     * circle instanceof Circle;\n     * // => true\n     *\n     * circle instanceof Shape;\n     * // => true\n     */\n    function create(prototype, properties, guard) {\n      var result = baseCreate(prototype);\n      if (guard && isIterateeCall(prototype, properties, guard)) {\n        properties = undefined;\n      }\n      return properties ? baseAssign(result, properties) : result;\n    }\n\n    /**\n     * Assigns own enumerable properties of source object(s) to the destination\n     * object for all destination properties that resolve to `undefined`. Once a\n     * property is set, additional values of the same property are ignored.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * _.defaults({ 'user': 'barney' }, { 'age': 36 }, { 'user': 'fred' });\n     * // => { 'user': 'barney', 'age': 36 }\n     */\n    var defaults = createDefaults(assign, assignDefaults);\n\n    /**\n     * This method is like `_.defaults` except that it recursively assigns\n     * default properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * _.defaultsDeep({ 'user': { 'name': 'barney' } }, { 'user': { 'name': 'fred', 'age': 36 } });\n     * // => { 'user': { 'name': 'barney', 'age': 36 } }\n     *\n     */\n    var defaultsDeep = createDefaults(merge, mergeDefaults);\n\n    /**\n     * This method is like `_.find` except that it returns the key of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {string|undefined} Returns the key of the matched element, else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findKey(users, function(chr) {\n     *   return chr.age < 40;\n     * });\n     * // => 'barney' (iteration order is not guaranteed)\n     *\n     * // using the `_.matches` callback shorthand\n     * _.findKey(users, { 'age': 1, 'active': true });\n     * // => 'pebbles'\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.findKey(users, 'active', false);\n     * // => 'fred'\n     *\n     * // using the `_.property` callback shorthand\n     * _.findKey(users, 'active');\n     * // => 'barney'\n     */\n    var findKey = createFindKey(baseForOwn);\n\n    /**\n     * This method is like `_.findKey` except that it iterates over elements of\n     * a collection in the opposite order.\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {string|undefined} Returns the key of the matched element, else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findLastKey(users, function(chr) {\n     *   return chr.age < 40;\n     * });\n     * // => returns `pebbles` assuming `_.findKey` returns `barney`\n     *\n     * // using the `_.matches` callback shorthand\n     * _.findLastKey(users, { 'age': 36, 'active': true });\n     * // => 'barney'\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.findLastKey(users, 'active', false);\n     * // => 'fred'\n     *\n     * // using the `_.property` callback shorthand\n     * _.findLastKey(users, 'active');\n     * // => 'pebbles'\n     */\n    var findLastKey = createFindKey(baseForOwnRight);\n\n    /**\n     * Iterates over own and inherited enumerable properties of an object invoking\n     * `iteratee` for each property. The `iteratee` is bound to `thisArg` and invoked\n     * with three arguments: (value, key, object). Iteratee functions may exit\n     * iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forIn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'a', 'b', and 'c' (iteration order is not guaranteed)\n     */\n    var forIn = createForIn(baseFor);\n\n    /**\n     * This method is like `_.forIn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forInRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'c', 'b', and 'a' assuming `_.forIn ` logs 'a', 'b', and 'c'\n     */\n    var forInRight = createForIn(baseForRight);\n\n    /**\n     * Iterates over own enumerable properties of an object invoking `iteratee`\n     * for each property. The `iteratee` is bound to `thisArg` and invoked with\n     * three arguments: (value, key, object). Iteratee functions may exit iteration\n     * early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'a' and 'b' (iteration order is not guaranteed)\n     */\n    var forOwn = createForOwn(baseForOwn);\n\n    /**\n     * This method is like `_.forOwn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwnRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'b' and 'a' assuming `_.forOwn` logs 'a' and 'b'\n     */\n    var forOwnRight = createForOwn(baseForOwnRight);\n\n    /**\n     * Creates an array of function property names from all enumerable properties,\n     * own and inherited, of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @alias methods\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the new array of property names.\n     * @example\n     *\n     * _.functions(_);\n     * // => ['after', 'ary', 'assign', ...]\n     */\n    function functions(object) {\n      return baseFunctions(object, keysIn(object));\n    }\n\n    /**\n     * Gets the property value at `path` of `object`. If the resolved value is\n     * `undefined` the `defaultValue` is used in its place.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} [defaultValue] The value returned if the resolved value is `undefined`.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.get(object, 'a[0].b.c');\n     * // => 3\n     *\n     * _.get(object, ['a', '0', 'b', 'c']);\n     * // => 3\n     *\n     * _.get(object, 'a.b.c', 'default');\n     * // => 'default'\n     */\n    function get(object, path, defaultValue) {\n      var result = object == null ? undefined : baseGet(object, toPath(path), path + '');\n      return result === undefined ? defaultValue : result;\n    }\n\n    /**\n     * Checks if `path` is a direct property.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` is a direct property, else `false`.\n     * @example\n     *\n     * var object = { 'a': { 'b': { 'c': 3 } } };\n     *\n     * _.has(object, 'a');\n     * // => true\n     *\n     * _.has(object, 'a.b.c');\n     * // => true\n     *\n     * _.has(object, ['a', 'b', 'c']);\n     * // => true\n     */\n    function has(object, path) {\n      if (object == null) {\n        return false;\n      }\n      var result = hasOwnProperty.call(object, path);\n      if (!result && !isKey(path)) {\n        path = toPath(path);\n        object = path.length == 1 ? object : baseGet(object, baseSlice(path, 0, -1));\n        if (object == null) {\n          return false;\n        }\n        path = last(path);\n        result = hasOwnProperty.call(object, path);\n      }\n      return result || (isLength(object.length) && isIndex(path, object.length) &&\n        (isArray(object) || isArguments(object)));\n    }\n\n    /**\n     * Creates an object composed of the inverted keys and values of `object`.\n     * If `object` contains duplicate values, subsequent values overwrite property\n     * assignments of previous values unless `multiValue` is `true`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @param {boolean} [multiValue] Allow multiple values per key.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invert(object);\n     * // => { '1': 'c', '2': 'b' }\n     *\n     * // with `multiValue`\n     * _.invert(object, true);\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     */\n    function invert(object, multiValue, guard) {\n      if (guard && isIterateeCall(object, multiValue, guard)) {\n        multiValue = undefined;\n      }\n      var index = -1,\n          props = keys(object),\n          length = props.length,\n          result = {};\n\n      while (++index < length) {\n        var key = props[index],\n            value = object[key];\n\n        if (multiValue) {\n          if (hasOwnProperty.call(result, value)) {\n            result[value].push(key);\n          } else {\n            result[value] = [key];\n          }\n        }\n        else {\n          result[value] = key;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array of the own enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects. See the\n     * [ES spec](http://ecma-international.org/ecma-262/6.0/#sec-object.keys)\n     * for more details.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keys(new Foo);\n     * // => ['a', 'b'] (iteration order is not guaranteed)\n     *\n     * _.keys('hi');\n     * // => ['0', '1']\n     */\n    var keys = !nativeKeys ? shimKeys : function(object) {\n      var Ctor = object == null ? undefined : object.constructor;\n      if ((typeof Ctor == 'function' && Ctor.prototype === object) ||\n          (typeof object != 'function' && isArrayLike(object))) {\n        return shimKeys(object);\n      }\n      return isObject(object) ? nativeKeys(object) : [];\n    };\n\n    /**\n     * Creates an array of the own and inherited enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keysIn(new Foo);\n     * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n     */\n    function keysIn(object) {\n      if (object == null) {\n        return [];\n      }\n      if (!isObject(object)) {\n        object = Object(object);\n      }\n      var length = object.length;\n      length = (length && isLength(length) &&\n        (isArray(object) || isArguments(object)) && length) || 0;\n\n      var Ctor = object.constructor,\n          index = -1,\n          isProto = typeof Ctor == 'function' && Ctor.prototype === object,\n          result = Array(length),\n          skipIndexes = length > 0;\n\n      while (++index < length) {\n        result[index] = (index + '');\n      }\n      for (var key in object) {\n        if (!(skipIndexes && isIndex(key, length)) &&\n            !(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The opposite of `_.mapValues`; this method creates an object with the\n     * same values as `object` and keys generated by running each own enumerable\n     * property of `object` through `iteratee`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the new mapped object.\n     * @example\n     *\n     * _.mapKeys({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   return key + value;\n     * });\n     * // => { 'a1': 1, 'b2': 2 }\n     */\n    var mapKeys = createObjectMapper(true);\n\n    /**\n     * Creates an object with the same keys as `object` and values generated by\n     * running each own enumerable property of `object` through `iteratee`. The\n     * iteratee function is bound to `thisArg` and invoked with three arguments:\n     * (value, key, object).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the new mapped object.\n     * @example\n     *\n     * _.mapValues({ 'a': 1, 'b': 2 }, function(n) {\n     *   return n * 3;\n     * });\n     * // => { 'a': 3, 'b': 6 }\n     *\n     * var users = {\n     *   'fred':    { 'user': 'fred',    'age': 40 },\n     *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n     * };\n     *\n     * // using the `_.property` callback shorthand\n     * _.mapValues(users, 'age');\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     */\n    var mapValues = createObjectMapper();\n\n    /**\n     * The opposite of `_.pick`; this method creates an object composed of the\n     * own and inherited enumerable properties of `object` that are not omitted.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function|...(string|string[])} [predicate] The function invoked per\n     *  iteration or property names to omit, specified as individual property\n     *  names or arrays of property names.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'user': 'fred', 'age': 40 };\n     *\n     * _.omit(object, 'age');\n     * // => { 'user': 'fred' }\n     *\n     * _.omit(object, _.isNumber);\n     * // => { 'user': 'fred' }\n     */\n    var omit = restParam(function(object, props) {\n      if (object == null) {\n        return {};\n      }\n      if (typeof props[0] != 'function') {\n        var props = arrayMap(baseFlatten(props), String);\n        return pickByArray(object, baseDifference(keysIn(object), props));\n      }\n      var predicate = bindCallback(props[0], props[1], 3);\n      return pickByCallback(object, function(value, key, object) {\n        return !predicate(value, key, object);\n      });\n    });\n\n    /**\n     * Creates a two dimensional array of the key-value pairs for `object`,\n     * e.g. `[[key1, value1], [key2, value2]]`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the new array of key-value pairs.\n     * @example\n     *\n     * _.pairs({ 'barney': 36, 'fred': 40 });\n     * // => [['barney', 36], ['fred', 40]] (iteration order is not guaranteed)\n     */\n    function pairs(object) {\n      object = toObject(object);\n\n      var index = -1,\n          props = keys(object),\n          length = props.length,\n          result = Array(length);\n\n      while (++index < length) {\n        var key = props[index];\n        result[index] = [key, object[key]];\n      }\n      return result;\n    }\n\n    /**\n     * Creates an object composed of the picked `object` properties. Property\n     * names may be specified as individual arguments or as arrays of property\n     * names. If `predicate` is provided it is invoked for each property of `object`\n     * picking the properties `predicate` returns truthy for. The predicate is\n     * bound to `thisArg` and invoked with three arguments: (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function|...(string|string[])} [predicate] The function invoked per\n     *  iteration or property names to pick, specified as individual property\n     *  names or arrays of property names.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'user': 'fred', 'age': 40 };\n     *\n     * _.pick(object, 'user');\n     * // => { 'user': 'fred' }\n     *\n     * _.pick(object, _.isString);\n     * // => { 'user': 'fred' }\n     */\n    var pick = restParam(function(object, props) {\n      if (object == null) {\n        return {};\n      }\n      return typeof props[0] == 'function'\n        ? pickByCallback(object, bindCallback(props[0], props[1], 3))\n        : pickByArray(object, baseFlatten(props));\n    });\n\n    /**\n     * This method is like `_.get` except that if the resolved value is a function\n     * it is invoked with the `this` binding of its parent object and its result\n     * is returned.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to resolve.\n     * @param {*} [defaultValue] The value returned if the resolved value is `undefined`.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c1': 3, 'c2': _.constant(4) } }] };\n     *\n     * _.result(object, 'a[0].b.c1');\n     * // => 3\n     *\n     * _.result(object, 'a[0].b.c2');\n     * // => 4\n     *\n     * _.result(object, 'a.b.c', 'default');\n     * // => 'default'\n     *\n     * _.result(object, 'a.b.c', _.constant('default'));\n     * // => 'default'\n     */\n    function result(object, path, defaultValue) {\n      var result = object == null ? undefined : object[path];\n      if (result === undefined) {\n        if (object != null && !isKey(path, object)) {\n          path = toPath(path);\n          object = path.length == 1 ? object : baseGet(object, baseSlice(path, 0, -1));\n          result = object == null ? undefined : object[last(path)];\n        }\n        result = result === undefined ? defaultValue : result;\n      }\n      return isFunction(result) ? result.call(object) : result;\n    }\n\n    /**\n     * Sets the property value of `path` on `object`. If a portion of `path`\n     * does not exist it is created.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to augment.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.set(object, 'a[0].b.c', 4);\n     * console.log(object.a[0].b.c);\n     * // => 4\n     *\n     * _.set(object, 'x[0].y.z', 5);\n     * console.log(object.x[0].y.z);\n     * // => 5\n     */\n    function set(object, path, value) {\n      if (object == null) {\n        return object;\n      }\n      var pathKey = (path + '');\n      path = (object[pathKey] != null || isKey(path, object)) ? [pathKey] : toPath(path);\n\n      var index = -1,\n          length = path.length,\n          lastIndex = length - 1,\n          nested = object;\n\n      while (nested != null && ++index < length) {\n        var key = path[index];\n        if (isObject(nested)) {\n          if (index == lastIndex) {\n            nested[key] = value;\n          } else if (nested[key] == null) {\n            nested[key] = isIndex(path[index + 1]) ? [] : {};\n          }\n        }\n        nested = nested[key];\n      }\n      return object;\n    }\n\n    /**\n     * An alternative to `_.reduce`; this method transforms `object` to a new\n     * `accumulator` object which is the result of running each of its own enumerable\n     * properties through `iteratee`, with each invocation potentially mutating\n     * the `accumulator` object. The `iteratee` is bound to `thisArg` and invoked\n     * with four arguments: (accumulator, value, key, object). Iteratee functions\n     * may exit iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Array|Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The custom accumulator value.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.transform([2, 3, 4], function(result, n) {\n     *   result.push(n *= n);\n     *   return n % 2 == 0;\n     * });\n     * // => [4, 9]\n     *\n     * _.transform({ 'a': 1, 'b': 2 }, function(result, n, key) {\n     *   result[key] = n * 3;\n     * });\n     * // => { 'a': 3, 'b': 6 }\n     */\n    function transform(object, iteratee, accumulator, thisArg) {\n      var isArr = isArray(object) || isTypedArray(object);\n      iteratee = getCallback(iteratee, thisArg, 4);\n\n      if (accumulator == null) {\n        if (isArr || isObject(object)) {\n          var Ctor = object.constructor;\n          if (isArr) {\n            accumulator = isArray(object) ? new Ctor : [];\n          } else {\n            accumulator = baseCreate(isFunction(Ctor) ? Ctor.prototype : undefined);\n          }\n        } else {\n          accumulator = {};\n        }\n      }\n      (isArr ? arrayEach : baseForOwn)(object, function(value, index, object) {\n        return iteratee(accumulator, value, index, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * Creates an array of the own enumerable property values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.values(new Foo);\n     * // => [1, 2] (iteration order is not guaranteed)\n     *\n     * _.values('hi');\n     * // => ['h', 'i']\n     */\n    function values(object) {\n      return baseValues(object, keys(object));\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable property values\n     * of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.valuesIn(new Foo);\n     * // => [1, 2, 3] (iteration order is not guaranteed)\n     */\n    function valuesIn(object) {\n      return baseValues(object, keysIn(object));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Checks if `n` is between `start` and up to but not including, `end`. If\n     * `end` is not specified it is set to `start` with `start` then set to `0`.\n     *\n     * @static\n     * @memberOf _\n     * @category Number\n     * @param {number} n The number to check.\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `n` is in the range, else `false`.\n     * @example\n     *\n     * _.inRange(3, 2, 4);\n     * // => true\n     *\n     * _.inRange(4, 8);\n     * // => true\n     *\n     * _.inRange(4, 2);\n     * // => false\n     *\n     * _.inRange(2, 2);\n     * // => false\n     *\n     * _.inRange(1.2, 2);\n     * // => true\n     *\n     * _.inRange(5.2, 4);\n     * // => false\n     */\n    function inRange(value, start, end) {\n      start = +start || 0;\n      if (end === undefined) {\n        end = start;\n        start = 0;\n      } else {\n        end = +end || 0;\n      }\n      return value >= nativeMin(start, end) && value < nativeMax(start, end);\n    }\n\n    /**\n     * Produces a random number between `min` and `max` (inclusive). If only one\n     * argument is provided a number between `0` and the given number is returned.\n     * If `floating` is `true`, or either `min` or `max` are floats, a floating-point\n     * number is returned instead of an integer.\n     *\n     * @static\n     * @memberOf _\n     * @category Number\n     * @param {number} [min=0] The minimum possible value.\n     * @param {number} [max=1] The maximum possible value.\n     * @param {boolean} [floating] Specify returning a floating-point number.\n     * @returns {number} Returns the random number.\n     * @example\n     *\n     * _.random(0, 5);\n     * // => an integer between 0 and 5\n     *\n     * _.random(5);\n     * // => also an integer between 0 and 5\n     *\n     * _.random(5, true);\n     * // => a floating-point number between 0 and 5\n     *\n     * _.random(1.2, 5.2);\n     * // => a floating-point number between 1.2 and 5.2\n     */\n    function random(min, max, floating) {\n      if (floating && isIterateeCall(min, max, floating)) {\n        max = floating = undefined;\n      }\n      var noMin = min == null,\n          noMax = max == null;\n\n      if (floating == null) {\n        if (noMax && typeof min == 'boolean') {\n          floating = min;\n          min = 1;\n        }\n        else if (typeof max == 'boolean') {\n          floating = max;\n          noMax = true;\n        }\n      }\n      if (noMin && noMax) {\n        max = 1;\n        noMax = false;\n      }\n      min = +min || 0;\n      if (noMax) {\n        max = min;\n        min = 0;\n      } else {\n        max = +max || 0;\n      }\n      if (floating || min % 1 || max % 1) {\n        var rand = nativeRandom();\n        return nativeMin(min + (rand * (max - min + parseFloat('1e-' + ((rand + '').length - 1)))), max);\n      }\n      return baseRandom(min, max);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the camel cased string.\n     * @example\n     *\n     * _.camelCase('Foo Bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('--foo-bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('__foo_bar__');\n     * // => 'fooBar'\n     */\n    var camelCase = createCompounder(function(result, word, index) {\n      word = word.toLowerCase();\n      return result + (index ? (word.charAt(0).toUpperCase() + word.slice(1)) : word);\n    });\n\n    /**\n     * Capitalizes the first character of `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to capitalize.\n     * @returns {string} Returns the capitalized string.\n     * @example\n     *\n     * _.capitalize('fred');\n     * // => 'Fred'\n     */\n    function capitalize(string) {\n      string = baseToString(string);\n      return string && (string.charAt(0).toUpperCase() + string.slice(1));\n    }\n\n    /**\n     * Deburrs `string` by converting [latin-1 supplementary letters](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n     * to basic latin letters and removing [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to deburr.\n     * @returns {string} Returns the deburred string.\n     * @example\n     *\n     * _.deburr('déjà vu');\n     * // => 'deja vu'\n     */\n    function deburr(string) {\n      string = baseToString(string);\n      return string && string.replace(reLatin1, deburrLetter).replace(reComboMark, '');\n    }\n\n    /**\n     * Checks if `string` ends with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to search.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=string.length] The position to search from.\n     * @returns {boolean} Returns `true` if `string` ends with `target`, else `false`.\n     * @example\n     *\n     * _.endsWith('abc', 'c');\n     * // => true\n     *\n     * _.endsWith('abc', 'b');\n     * // => false\n     *\n     * _.endsWith('abc', 'b', 2);\n     * // => true\n     */\n    function endsWith(string, target, position) {\n      string = baseToString(string);\n      target = (target + '');\n\n      var length = string.length;\n      position = position === undefined\n        ? length\n        : nativeMin(position < 0 ? 0 : (+position || 0), length);\n\n      position -= target.length;\n      return position >= 0 && string.indexOf(target, position) == position;\n    }\n\n    /**\n     * Converts the characters \"&\", \"<\", \">\", '\"', \"'\", and \"\\`\", in `string` to\n     * their corresponding HTML entities.\n     *\n     * **Note:** No other characters are escaped. To escape additional characters\n     * use a third-party library like [_he_](https://mths.be/he).\n     *\n     * Though the \">\" character is escaped for symmetry, characters like\n     * \">\" and \"/\" don't need escaping in HTML and have no special meaning\n     * unless they're part of a tag or unquoted attribute value.\n     * See [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)\n     * (under \"semi-related fun fact\") for more details.\n     *\n     * Backticks are escaped because in Internet Explorer < 9, they can break out\n     * of attribute values or HTML comments. See [#59](https://html5sec.org/#59),\n     * [#102](https://html5sec.org/#102), [#108](https://html5sec.org/#108), and\n     * [#133](https://html5sec.org/#133) of the [HTML5 Security Cheatsheet](https://html5sec.org/)\n     * for more details.\n     *\n     * When working with HTML you should always [quote attribute values](http://wonko.com/post/html-escaping)\n     * to reduce XSS vectors.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escape('fred, barney, & pebbles');\n     * // => 'fred, barney, &amp; pebbles'\n     */\n    function escape(string) {\n      // Reset `lastIndex` because in IE < 9 `String#replace` does not.\n      string = baseToString(string);\n      return (string && reHasUnescapedHtml.test(string))\n        ? string.replace(reUnescapedHtml, escapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Escapes the `RegExp` special characters \"\\\", \"/\", \"^\", \"$\", \".\", \"|\", \"?\",\n     * \"*\", \"+\", \"(\", \")\", \"[\", \"]\", \"{\" and \"}\" in `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escapeRegExp('[lodash](https://lodash.com/)');\n     * // => '\\[lodash\\]\\(https:\\/\\/lodash\\.com\\/\\)'\n     */\n    function escapeRegExp(string) {\n      string = baseToString(string);\n      return (string && reHasRegExpChars.test(string))\n        ? string.replace(reRegExpChars, escapeRegExpChar)\n        : (string || '(?:)');\n    }\n\n    /**\n     * Converts `string` to [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the kebab cased string.\n     * @example\n     *\n     * _.kebabCase('Foo Bar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('fooBar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('__foo_bar__');\n     * // => 'foo-bar'\n     */\n    var kebabCase = createCompounder(function(result, word, index) {\n      return result + (index ? '-' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Pads `string` on the left and right sides if it's shorter than `length`.\n     * Padding characters are truncated if they can't be evenly divided by `length`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.pad('abc', 8);\n     * // => '  abc   '\n     *\n     * _.pad('abc', 8, '_-');\n     * // => '_-abc_-_'\n     *\n     * _.pad('abc', 3);\n     * // => 'abc'\n     */\n    function pad(string, length, chars) {\n      string = baseToString(string);\n      length = +length;\n\n      var strLength = string.length;\n      if (strLength >= length || !nativeIsFinite(length)) {\n        return string;\n      }\n      var mid = (length - strLength) / 2,\n          leftLength = nativeFloor(mid),\n          rightLength = nativeCeil(mid);\n\n      chars = createPadding('', rightLength, chars);\n      return chars.slice(0, leftLength) + string + chars;\n    }\n\n    /**\n     * Pads `string` on the left side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padLeft('abc', 6);\n     * // => '   abc'\n     *\n     * _.padLeft('abc', 6, '_-');\n     * // => '_-_abc'\n     *\n     * _.padLeft('abc', 3);\n     * // => 'abc'\n     */\n    var padLeft = createPadDir();\n\n    /**\n     * Pads `string` on the right side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padRight('abc', 6);\n     * // => 'abc   '\n     *\n     * _.padRight('abc', 6, '_-');\n     * // => 'abc_-_'\n     *\n     * _.padRight('abc', 3);\n     * // => 'abc'\n     */\n    var padRight = createPadDir(true);\n\n    /**\n     * Converts `string` to an integer of the specified radix. If `radix` is\n     * `undefined` or `0`, a `radix` of `10` is used unless `value` is a hexadecimal,\n     * in which case a `radix` of `16` is used.\n     *\n     * **Note:** This method aligns with the [ES5 implementation](https://es5.github.io/#E)\n     * of `parseInt`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} string The string to convert.\n     * @param {number} [radix] The radix to interpret `value` by.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.parseInt('08');\n     * // => 8\n     *\n     * _.map(['6', '08', '10'], _.parseInt);\n     * // => [6, 8, 10]\n     */\n    function parseInt(string, radix, guard) {\n      // Firefox < 21 and Opera < 15 follow ES3 for `parseInt`.\n      // Chrome fails to trim leading <BOM> whitespace characters.\n      // See https://code.google.com/p/v8/issues/detail?id=3109 for more details.\n      if (guard ? isIterateeCall(string, radix, guard) : radix == null) {\n        radix = 0;\n      } else if (radix) {\n        radix = +radix;\n      }\n      string = trim(string);\n      return nativeParseInt(string, radix || (reHasHexPrefix.test(string) ? 16 : 10));\n    }\n\n    /**\n     * Repeats the given string `n` times.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to repeat.\n     * @param {number} [n=0] The number of times to repeat the string.\n     * @returns {string} Returns the repeated string.\n     * @example\n     *\n     * _.repeat('*', 3);\n     * // => '***'\n     *\n     * _.repeat('abc', 2);\n     * // => 'abcabc'\n     *\n     * _.repeat('abc', 0);\n     * // => ''\n     */\n    function repeat(string, n) {\n      var result = '';\n      string = baseToString(string);\n      n = +n;\n      if (n < 1 || !string || !nativeIsFinite(n)) {\n        return result;\n      }\n      // Leverage the exponentiation by squaring algorithm for a faster repeat.\n      // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.\n      do {\n        if (n % 2) {\n          result += string;\n        }\n        n = nativeFloor(n / 2);\n        string += string;\n      } while (n);\n\n      return result;\n    }\n\n    /**\n     * Converts `string` to [snake case](https://en.wikipedia.org/wiki/Snake_case).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the snake cased string.\n     * @example\n     *\n     * _.snakeCase('Foo Bar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('fooBar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('--foo-bar');\n     * // => 'foo_bar'\n     */\n    var snakeCase = createCompounder(function(result, word, index) {\n      return result + (index ? '_' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts `string` to [start case](https://en.wikipedia.org/wiki/Letter_case#Stylistic_or_specialised_usage).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the start cased string.\n     * @example\n     *\n     * _.startCase('--foo-bar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('fooBar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('__foo_bar__');\n     * // => 'Foo Bar'\n     */\n    var startCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + (word.charAt(0).toUpperCase() + word.slice(1));\n    });\n\n    /**\n     * Checks if `string` starts with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to search.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=0] The position to search from.\n     * @returns {boolean} Returns `true` if `string` starts with `target`, else `false`.\n     * @example\n     *\n     * _.startsWith('abc', 'a');\n     * // => true\n     *\n     * _.startsWith('abc', 'b');\n     * // => false\n     *\n     * _.startsWith('abc', 'b', 1);\n     * // => true\n     */\n    function startsWith(string, target, position) {\n      string = baseToString(string);\n      position = position == null\n        ? 0\n        : nativeMin(position < 0 ? 0 : (+position || 0), string.length);\n\n      return string.lastIndexOf(target, position) == position;\n    }\n\n    /**\n     * Creates a compiled template function that can interpolate data properties\n     * in \"interpolate\" delimiters, HTML-escape interpolated data properties in\n     * \"escape\" delimiters, and execute JavaScript in \"evaluate\" delimiters. Data\n     * properties may be accessed as free variables in the template. If a setting\n     * object is provided it takes precedence over `_.templateSettings` values.\n     *\n     * **Note:** In the development build `_.template` utilizes\n     * [sourceURLs](http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl)\n     * for easier debugging.\n     *\n     * For more information on precompiling templates see\n     * [lodash's custom builds documentation](https://lodash.com/custom-builds).\n     *\n     * For more information on Chrome extension sandboxes see\n     * [Chrome's extensions documentation](https://developer.chrome.com/extensions/sandboxingEval).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The template string.\n     * @param {Object} [options] The options object.\n     * @param {RegExp} [options.escape] The HTML \"escape\" delimiter.\n     * @param {RegExp} [options.evaluate] The \"evaluate\" delimiter.\n     * @param {Object} [options.imports] An object to import into the template as free variables.\n     * @param {RegExp} [options.interpolate] The \"interpolate\" delimiter.\n     * @param {string} [options.sourceURL] The sourceURL of the template's compiled source.\n     * @param {string} [options.variable] The data object variable name.\n     * @param- {Object} [otherOptions] Enables the legacy `options` param signature.\n     * @returns {Function} Returns the compiled template function.\n     * @example\n     *\n     * // using the \"interpolate\" delimiter to create a compiled template\n     * var compiled = _.template('hello <%= user %>!');\n     * compiled({ 'user': 'fred' });\n     * // => 'hello fred!'\n     *\n     * // using the HTML \"escape\" delimiter to escape data property values\n     * var compiled = _.template('<b><%- value %></b>');\n     * compiled({ 'value': '<script>' });\n     * // => '<b>&lt;script&gt;</b>'\n     *\n     * // using the \"evaluate\" delimiter to execute JavaScript and generate HTML\n     * var compiled = _.template('<% _.forEach(users, function(user) { %><li><%- user %></li><% }); %>');\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // using the internal `print` function in \"evaluate\" delimiters\n     * var compiled = _.template('<% print(\"hello \" + user); %>!');\n     * compiled({ 'user': 'barney' });\n     * // => 'hello barney!'\n     *\n     * // using the ES delimiter as an alternative to the default \"interpolate\" delimiter\n     * var compiled = _.template('hello ${ user }!');\n     * compiled({ 'user': 'pebbles' });\n     * // => 'hello pebbles!'\n     *\n     * // using custom template delimiters\n     * _.templateSettings.interpolate = /{{([\\s\\S]+?)}}/g;\n     * var compiled = _.template('hello {{ user }}!');\n     * compiled({ 'user': 'mustache' });\n     * // => 'hello mustache!'\n     *\n     * // using backslashes to treat delimiters as plain text\n     * var compiled = _.template('<%= \"\\\\<%- value %\\\\>\" %>');\n     * compiled({ 'value': 'ignored' });\n     * // => '<%- value %>'\n     *\n     * // using the `imports` option to import `jQuery` as `jq`\n     * var text = '<% jq.each(users, function(user) { %><li><%- user %></li><% }); %>';\n     * var compiled = _.template(text, { 'imports': { 'jq': jQuery } });\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // using the `sourceURL` option to specify a custom sourceURL for the template\n     * var compiled = _.template('hello <%= user %>!', { 'sourceURL': '/basic/greeting.jst' });\n     * compiled(data);\n     * // => find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector\n     *\n     * // using the `variable` option to ensure a with-statement isn't used in the compiled template\n     * var compiled = _.template('hi <%= data.user %>!', { 'variable': 'data' });\n     * compiled.source;\n     * // => function(data) {\n     * //   var __t, __p = '';\n     * //   __p += 'hi ' + ((__t = ( data.user )) == null ? '' : __t) + '!';\n     * //   return __p;\n     * // }\n     *\n     * // using the `source` property to inline compiled templates for meaningful\n     * // line numbers in error messages and a stack trace\n     * fs.writeFileSync(path.join(cwd, 'jst.js'), '\\\n     *   var JST = {\\\n     *     \"main\": ' + _.template(mainText).source + '\\\n     *   };\\\n     * ');\n     */\n    function template(string, options, otherOptions) {\n      // Based on John Resig's `tmpl` implementation (http://ejohn.org/blog/javascript-micro-templating/)\n      // and Laura Doktorova's doT.js (https://github.com/olado/doT).\n      var settings = lodash.templateSettings;\n\n      if (otherOptions && isIterateeCall(string, options, otherOptions)) {\n        options = otherOptions = undefined;\n      }\n      string = baseToString(string);\n      options = assignWith(baseAssign({}, otherOptions || options), settings, assignOwnDefaults);\n\n      var imports = assignWith(baseAssign({}, options.imports), settings.imports, assignOwnDefaults),\n          importsKeys = keys(imports),\n          importsValues = baseValues(imports, importsKeys);\n\n      var isEscaping,\n          isEvaluating,\n          index = 0,\n          interpolate = options.interpolate || reNoMatch,\n          source = \"__p += '\";\n\n      // Compile the regexp to match each delimiter.\n      var reDelimiters = RegExp(\n        (options.escape || reNoMatch).source + '|' +\n        interpolate.source + '|' +\n        (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +\n        (options.evaluate || reNoMatch).source + '|$'\n      , 'g');\n\n      // Use a sourceURL for easier debugging.\n      var sourceURL = '//# sourceURL=' +\n        ('sourceURL' in options\n          ? options.sourceURL\n          : ('lodash.templateSources[' + (++templateCounter) + ']')\n        ) + '\\n';\n\n      string.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\n        interpolateValue || (interpolateValue = esTemplateValue);\n\n        // Escape characters that can't be included in string literals.\n        source += string.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n\n        // Replace delimiters with snippets.\n        if (escapeValue) {\n          isEscaping = true;\n          source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\n        }\n        if (evaluateValue) {\n          isEvaluating = true;\n          source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n        }\n        if (interpolateValue) {\n          source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n        }\n        index = offset + match.length;\n\n        // The JS engine embedded in Adobe products requires returning the `match`\n        // string in order to produce the correct `offset` value.\n        return match;\n      });\n\n      source += \"';\\n\";\n\n      // If `variable` is not specified wrap a with-statement around the generated\n      // code to add the data object to the top of the scope chain.\n      var variable = options.variable;\n      if (!variable) {\n        source = 'with (obj) {\\n' + source + '\\n}\\n';\n      }\n      // Cleanup code by stripping empty strings.\n      source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)\n        .replace(reEmptyStringMiddle, '$1')\n        .replace(reEmptyStringTrailing, '$1;');\n\n      // Frame code as the function body.\n      source = 'function(' + (variable || 'obj') + ') {\\n' +\n        (variable\n          ? ''\n          : 'obj || (obj = {});\\n'\n        ) +\n        \"var __t, __p = ''\" +\n        (isEscaping\n           ? ', __e = _.escape'\n           : ''\n        ) +\n        (isEvaluating\n          ? ', __j = Array.prototype.join;\\n' +\n            \"function print() { __p += __j.call(arguments, '') }\\n\"\n          : ';\\n'\n        ) +\n        source +\n        'return __p\\n}';\n\n      var result = attempt(function() {\n        return Function(importsKeys, sourceURL + 'return ' + source).apply(undefined, importsValues);\n      });\n\n      // Provide the compiled function's source by its `toString` method or\n      // the `source` property as a convenience for inlining compiled templates.\n      result.source = source;\n      if (isError(result)) {\n        throw result;\n      }\n      return result;\n    }\n\n    /**\n     * Removes leading and trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trim('  abc  ');\n     * // => 'abc'\n     *\n     * _.trim('-_-abc-_-', '_-');\n     * // => 'abc'\n     *\n     * _.map(['  foo  ', '  bar  '], _.trim);\n     * // => ['foo', 'bar']\n     */\n    function trim(string, chars, guard) {\n      var value = string;\n      string = baseToString(string);\n      if (!string) {\n        return string;\n      }\n      if (guard ? isIterateeCall(value, chars, guard) : chars == null) {\n        return string.slice(trimmedLeftIndex(string), trimmedRightIndex(string) + 1);\n      }\n      chars = (chars + '');\n      return string.slice(charsLeftIndex(string, chars), charsRightIndex(string, chars) + 1);\n    }\n\n    /**\n     * Removes leading whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimLeft('  abc  ');\n     * // => 'abc  '\n     *\n     * _.trimLeft('-_-abc-_-', '_-');\n     * // => 'abc-_-'\n     */\n    function trimLeft(string, chars, guard) {\n      var value = string;\n      string = baseToString(string);\n      if (!string) {\n        return string;\n      }\n      if (guard ? isIterateeCall(value, chars, guard) : chars == null) {\n        return string.slice(trimmedLeftIndex(string));\n      }\n      return string.slice(charsLeftIndex(string, (chars + '')));\n    }\n\n    /**\n     * Removes trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimRight('  abc  ');\n     * // => '  abc'\n     *\n     * _.trimRight('-_-abc-_-', '_-');\n     * // => '-_-abc'\n     */\n    function trimRight(string, chars, guard) {\n      var value = string;\n      string = baseToString(string);\n      if (!string) {\n        return string;\n      }\n      if (guard ? isIterateeCall(value, chars, guard) : chars == null) {\n        return string.slice(0, trimmedRightIndex(string) + 1);\n      }\n      return string.slice(0, charsRightIndex(string, (chars + '')) + 1);\n    }\n\n    /**\n     * Truncates `string` if it's longer than the given maximum string length.\n     * The last characters of the truncated string are replaced with the omission\n     * string which defaults to \"...\".\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to truncate.\n     * @param {Object|number} [options] The options object or maximum string length.\n     * @param {number} [options.length=30] The maximum string length.\n     * @param {string} [options.omission='...'] The string to indicate text is omitted.\n     * @param {RegExp|string} [options.separator] The separator pattern to truncate to.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {string} Returns the truncated string.\n     * @example\n     *\n     * _.trunc('hi-diddly-ho there, neighborino');\n     * // => 'hi-diddly-ho there, neighbo...'\n     *\n     * _.trunc('hi-diddly-ho there, neighborino', 24);\n     * // => 'hi-diddly-ho there, n...'\n     *\n     * _.trunc('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': ' '\n     * });\n     * // => 'hi-diddly-ho there,...'\n     *\n     * _.trunc('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': /,? +/\n     * });\n     * // => 'hi-diddly-ho there...'\n     *\n     * _.trunc('hi-diddly-ho there, neighborino', {\n     *   'omission': ' [...]'\n     * });\n     * // => 'hi-diddly-ho there, neig [...]'\n     */\n    function trunc(string, options, guard) {\n      if (guard && isIterateeCall(string, options, guard)) {\n        options = undefined;\n      }\n      var length = DEFAULT_TRUNC_LENGTH,\n          omission = DEFAULT_TRUNC_OMISSION;\n\n      if (options != null) {\n        if (isObject(options)) {\n          var separator = 'separator' in options ? options.separator : separator;\n          length = 'length' in options ? (+options.length || 0) : length;\n          omission = 'omission' in options ? baseToString(options.omission) : omission;\n        } else {\n          length = +options || 0;\n        }\n      }\n      string = baseToString(string);\n      if (length >= string.length) {\n        return string;\n      }\n      var end = length - omission.length;\n      if (end < 1) {\n        return omission;\n      }\n      var result = string.slice(0, end);\n      if (separator == null) {\n        return result + omission;\n      }\n      if (isRegExp(separator)) {\n        if (string.slice(end).search(separator)) {\n          var match,\n              newEnd,\n              substring = string.slice(0, end);\n\n          if (!separator.global) {\n            separator = RegExp(separator.source, (reFlags.exec(separator) || '') + 'g');\n          }\n          separator.lastIndex = 0;\n          while ((match = separator.exec(substring))) {\n            newEnd = match.index;\n          }\n          result = result.slice(0, newEnd == null ? end : newEnd);\n        }\n      } else if (string.indexOf(separator, end) != end) {\n        var index = result.lastIndexOf(separator);\n        if (index > -1) {\n          result = result.slice(0, index);\n        }\n      }\n      return result + omission;\n    }\n\n    /**\n     * The inverse of `_.escape`; this method converts the HTML entities\n     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, `&#39;`, and `&#96;` in `string` to their\n     * corresponding characters.\n     *\n     * **Note:** No other HTML entities are unescaped. To unescape additional HTML\n     * entities use a third-party library like [_he_](https://mths.be/he).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to unescape.\n     * @returns {string} Returns the unescaped string.\n     * @example\n     *\n     * _.unescape('fred, barney, &amp; pebbles');\n     * // => 'fred, barney, & pebbles'\n     */\n    function unescape(string) {\n      string = baseToString(string);\n      return (string && reHasEscapedHtml.test(string))\n        ? string.replace(reEscapedHtml, unescapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Splits `string` into an array of its words.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {RegExp|string} [pattern] The pattern to match words.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the words of `string`.\n     * @example\n     *\n     * _.words('fred, barney, & pebbles');\n     * // => ['fred', 'barney', 'pebbles']\n     *\n     * _.words('fred, barney, & pebbles', /[^, ]+/g);\n     * // => ['fred', 'barney', '&', 'pebbles']\n     */\n    function words(string, pattern, guard) {\n      if (guard && isIterateeCall(string, pattern, guard)) {\n        pattern = undefined;\n      }\n      string = baseToString(string);\n      return string.match(pattern || reWords) || [];\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Attempts to invoke `func`, returning either the result or the caught error\n     * object. Any additional arguments are provided to `func` when it is invoked.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Function} func The function to attempt.\n     * @returns {*} Returns the `func` result or error object.\n     * @example\n     *\n     * // avoid throwing errors for invalid selectors\n     * var elements = _.attempt(function(selector) {\n     *   return document.querySelectorAll(selector);\n     * }, '>_>');\n     *\n     * if (_.isError(elements)) {\n     *   elements = [];\n     * }\n     */\n    var attempt = restParam(function(func, args) {\n      try {\n        return func.apply(undefined, args);\n      } catch(e) {\n        return isError(e) ? e : new Error(e);\n      }\n    });\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and arguments of the created function. If `func` is a property name the\n     * created callback returns the property value for a given element. If `func`\n     * is an object the created callback returns `true` for elements that contain\n     * the equivalent object properties, otherwise it returns `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias iteratee\n     * @category Utility\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Function} Returns the callback.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // wrap to create custom callback shorthands\n     * _.callback = _.wrap(_.callback, function(callback, func, thisArg) {\n     *   var match = /^(.+?)__([gl]t)(.+)$/.exec(func);\n     *   if (!match) {\n     *     return callback(func, thisArg);\n     *   }\n     *   return function(object) {\n     *     return match[2] == 'gt'\n     *       ? object[match[1]] > match[3]\n     *       : object[match[1]] < match[3];\n     *   };\n     * });\n     *\n     * _.filter(users, 'age__gt36');\n     * // => [{ 'user': 'fred', 'age': 40 }]\n     */\n    function callback(func, thisArg, guard) {\n      if (guard && isIterateeCall(func, thisArg, guard)) {\n        thisArg = undefined;\n      }\n      return isObjectLike(func)\n        ? matches(func)\n        : baseCallback(func, thisArg);\n    }\n\n    /**\n     * Creates a function that returns `value`.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {*} value The value to return from the new function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var object = { 'user': 'fred' };\n     * var getter = _.constant(object);\n     *\n     * getter() === object;\n     * // => true\n     */\n    function constant(value) {\n      return function() {\n        return value;\n      };\n    }\n\n    /**\n     * This method returns the first argument provided to it.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {*} value Any value.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * _.identity(object) === object;\n     * // => true\n     */\n    function identity(value) {\n      return value;\n    }\n\n    /**\n     * Creates a function that performs a deep comparison between a given object\n     * and `source`, returning `true` if the given object has equivalent property\n     * values, else `false`.\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties. For comparing a single\n     * own or inherited property value see `_.matchesProperty`.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.filter(users, _.matches({ 'age': 40, 'active': false }));\n     * // => [{ 'user': 'fred', 'age': 40, 'active': false }]\n     */\n    function matches(source) {\n      return baseMatches(baseClone(source, true));\n    }\n\n    /**\n     * Creates a function that compares the property value of `path` on a given\n     * object to `value`.\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * _.find(users, _.matchesProperty('user', 'fred'));\n     * // => { 'user': 'fred' }\n     */\n    function matchesProperty(path, srcValue) {\n      return baseMatchesProperty(path, baseClone(srcValue, true));\n    }\n\n    /**\n     * Creates a function that invokes the method at `path` on a given object.\n     * Any additional arguments are provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': { 'c': _.constant(2) } } },\n     *   { 'a': { 'b': { 'c': _.constant(1) } } }\n     * ];\n     *\n     * _.map(objects, _.method('a.b.c'));\n     * // => [2, 1]\n     *\n     * _.invoke(_.sortBy(objects, _.method(['a', 'b', 'c'])), 'a.b.c');\n     * // => [1, 2]\n     */\n    var method = restParam(function(path, args) {\n      return function(object) {\n        return invokePath(object, path, args);\n      };\n    });\n\n    /**\n     * The opposite of `_.method`; this method creates a function that invokes\n     * the method at a given path on `object`. Any additional arguments are\n     * provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Object} object The object to query.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var array = _.times(3, _.constant),\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.methodOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.methodOf(object));\n     * // => [2, 0]\n     */\n    var methodOf = restParam(function(object, args) {\n      return function(path) {\n        return invokePath(object, path, args);\n      };\n    });\n\n    /**\n     * Adds all own enumerable function properties of a source object to the\n     * destination object. If `object` is a function then methods are added to\n     * its prototype as well.\n     *\n     * **Note:** Use `_.runInContext` to create a pristine `lodash` function to\n     * avoid conflicts caused by modifying the original.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Function|Object} [object=lodash] The destination object.\n     * @param {Object} source The object of functions to add.\n     * @param {Object} [options] The options object.\n     * @param {boolean} [options.chain=true] Specify whether the functions added\n     *  are chainable.\n     * @returns {Function|Object} Returns `object`.\n     * @example\n     *\n     * function vowels(string) {\n     *   return _.filter(string, function(v) {\n     *     return /[aeiou]/i.test(v);\n     *   });\n     * }\n     *\n     * _.mixin({ 'vowels': vowels });\n     * _.vowels('fred');\n     * // => ['e']\n     *\n     * _('fred').vowels().value();\n     * // => ['e']\n     *\n     * _.mixin({ 'vowels': vowels }, { 'chain': false });\n     * _('fred').vowels();\n     * // => ['e']\n     */\n    function mixin(object, source, options) {\n      if (options == null) {\n        var isObj = isObject(source),\n            props = isObj ? keys(source) : undefined,\n            methodNames = (props && props.length) ? baseFunctions(source, props) : undefined;\n\n        if (!(methodNames ? methodNames.length : isObj)) {\n          methodNames = false;\n          options = source;\n          source = object;\n          object = this;\n        }\n      }\n      if (!methodNames) {\n        methodNames = baseFunctions(source, keys(source));\n      }\n      var chain = true,\n          index = -1,\n          isFunc = isFunction(object),\n          length = methodNames.length;\n\n      if (options === false) {\n        chain = false;\n      } else if (isObject(options) && 'chain' in options) {\n        chain = options.chain;\n      }\n      while (++index < length) {\n        var methodName = methodNames[index],\n            func = source[methodName];\n\n        object[methodName] = func;\n        if (isFunc) {\n          object.prototype[methodName] = (function(func) {\n            return function() {\n              var chainAll = this.__chain__;\n              if (chain || chainAll) {\n                var result = object(this.__wrapped__),\n                    actions = result.__actions__ = arrayCopy(this.__actions__);\n\n                actions.push({ 'func': func, 'args': arguments, 'thisArg': object });\n                result.__chain__ = chainAll;\n                return result;\n              }\n              return func.apply(object, arrayPush([this.value()], arguments));\n            };\n          }(func));\n        }\n      }\n      return object;\n    }\n\n    /**\n     * Reverts the `_` variable to its previous value and returns a reference to\n     * the `lodash` function.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @returns {Function} Returns the `lodash` function.\n     * @example\n     *\n     * var lodash = _.noConflict();\n     */\n    function noConflict() {\n      root._ = oldDash;\n      return this;\n    }\n\n    /**\n     * A no-operation function that returns `undefined` regardless of the\n     * arguments it receives.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @example\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * _.noop(object) === undefined;\n     * // => true\n     */\n    function noop() {\n      // No operation performed.\n    }\n\n    /**\n     * Creates a function that returns the property value at `path` on a\n     * given object.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': { 'c': 2 } } },\n     *   { 'a': { 'b': { 'c': 1 } } }\n     * ];\n     *\n     * _.map(objects, _.property('a.b.c'));\n     * // => [2, 1]\n     *\n     * _.pluck(_.sortBy(objects, _.property(['a', 'b', 'c'])), 'a.b.c');\n     * // => [1, 2]\n     */\n    function property(path) {\n      return isKey(path) ? baseProperty(path) : basePropertyDeep(path);\n    }\n\n    /**\n     * The opposite of `_.property`; this method creates a function that returns\n     * the property value at a given path on `object`.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Object} object The object to query.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var array = [0, 1, 2],\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.propertyOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.propertyOf(object));\n     * // => [2, 0]\n     */\n    function propertyOf(object) {\n      return function(path) {\n        return baseGet(object, toPath(path), path + '');\n      };\n    }\n\n    /**\n     * Creates an array of numbers (positive and/or negative) progressing from\n     * `start` up to, but not including, `end`. If `end` is not specified it is\n     * set to `start` with `start` then set to `0`. If `end` is less than `start`\n     * a zero-length range is created unless a negative `step` is specified.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the new array of numbers.\n     * @example\n     *\n     * _.range(4);\n     * // => [0, 1, 2, 3]\n     *\n     * _.range(1, 5);\n     * // => [1, 2, 3, 4]\n     *\n     * _.range(0, 20, 5);\n     * // => [0, 5, 10, 15]\n     *\n     * _.range(0, -4, -1);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.range(0);\n     * // => []\n     */\n    function range(start, end, step) {\n      if (step && isIterateeCall(start, end, step)) {\n        end = step = undefined;\n      }\n      start = +start || 0;\n      step = step == null ? 1 : (+step || 0);\n\n      if (end == null) {\n        end = start;\n        start = 0;\n      } else {\n        end = +end || 0;\n      }\n      // Use `Array(length)` so engines like Chakra and V8 avoid slower modes.\n      // See https://youtu.be/XAqIpGU8ZZk#t=17m25s for more details.\n      var index = -1,\n          length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = start;\n        start += step;\n      }\n      return result;\n    }\n\n    /**\n     * Invokes the iteratee function `n` times, returning an array of the results\n     * of each invocation. The `iteratee` is bound to `thisArg` and invoked with\n     * one argument; (index).\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {number} n The number of times to invoke `iteratee`.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * var diceRolls = _.times(3, _.partial(_.random, 1, 6, false));\n     * // => [3, 6, 4]\n     *\n     * _.times(3, function(n) {\n     *   mage.castSpell(n);\n     * });\n     * // => invokes `mage.castSpell(n)` three times with `n` of `0`, `1`, and `2`\n     *\n     * _.times(3, function(n) {\n     *   this.cast(n);\n     * }, mage);\n     * // => also invokes `mage.castSpell(n)` three times\n     */\n    function times(n, iteratee, thisArg) {\n      n = nativeFloor(n);\n\n      // Exit early to avoid a JSC JIT bug in Safari 8\n      // where `Array(0)` is treated as `Array(1)`.\n      if (n < 1 || !nativeIsFinite(n)) {\n        return [];\n      }\n      var index = -1,\n          result = Array(nativeMin(n, MAX_ARRAY_LENGTH));\n\n      iteratee = bindCallback(iteratee, thisArg, 1);\n      while (++index < n) {\n        if (index < MAX_ARRAY_LENGTH) {\n          result[index] = iteratee(index);\n        } else {\n          iteratee(index);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Generates a unique ID. If `prefix` is provided the ID is appended to it.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {string} [prefix] The value to prefix the ID with.\n     * @returns {string} Returns the unique ID.\n     * @example\n     *\n     * _.uniqueId('contact_');\n     * // => 'contact_104'\n     *\n     * _.uniqueId();\n     * // => '105'\n     */\n    function uniqueId(prefix) {\n      var id = ++idCounter;\n      return baseToString(prefix) + id;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Adds two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {number} augend The first number to add.\n     * @param {number} addend The second number to add.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * _.add(6, 4);\n     * // => 10\n     */\n    function add(augend, addend) {\n      return (+augend || 0) + (+addend || 0);\n    }\n\n    /**\n     * Calculates `n` rounded up to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {number} n The number to round up.\n     * @param {number} [precision=0] The precision to round up to.\n     * @returns {number} Returns the rounded up number.\n     * @example\n     *\n     * _.ceil(4.006);\n     * // => 5\n     *\n     * _.ceil(6.004, 2);\n     * // => 6.01\n     *\n     * _.ceil(6040, -2);\n     * // => 6100\n     */\n    var ceil = createRound('ceil');\n\n    /**\n     * Calculates `n` rounded down to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {number} n The number to round down.\n     * @param {number} [precision=0] The precision to round down to.\n     * @returns {number} Returns the rounded down number.\n     * @example\n     *\n     * _.floor(4.006);\n     * // => 4\n     *\n     * _.floor(0.046, 2);\n     * // => 0.04\n     *\n     * _.floor(4060, -2);\n     * // => 4000\n     */\n    var floor = createRound('floor');\n\n    /**\n     * Gets the maximum value of `collection`. If `collection` is empty or falsey\n     * `-Infinity` is returned. If an iteratee function is provided it is invoked\n     * for each value in `collection` to generate the criterion by which the value\n     * is ranked. The `iteratee` is bound to `thisArg` and invoked with three\n     * arguments: (value, index, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * _.max([4, 2, 8, 6]);\n     * // => 8\n     *\n     * _.max([]);\n     * // => -Infinity\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * _.max(users, function(chr) {\n     *   return chr.age;\n     * });\n     * // => { 'user': 'fred', 'age': 40 }\n     *\n     * // using the `_.property` callback shorthand\n     * _.max(users, 'age');\n     * // => { 'user': 'fred', 'age': 40 }\n     */\n    var max = createExtremum(gt, NEGATIVE_INFINITY);\n\n    /**\n     * Gets the minimum value of `collection`. If `collection` is empty or falsey\n     * `Infinity` is returned. If an iteratee function is provided it is invoked\n     * for each value in `collection` to generate the criterion by which the value\n     * is ranked. The `iteratee` is bound to `thisArg` and invoked with three\n     * arguments: (value, index, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * _.min([4, 2, 8, 6]);\n     * // => 2\n     *\n     * _.min([]);\n     * // => Infinity\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * _.min(users, function(chr) {\n     *   return chr.age;\n     * });\n     * // => { 'user': 'barney', 'age': 36 }\n     *\n     * // using the `_.property` callback shorthand\n     * _.min(users, 'age');\n     * // => { 'user': 'barney', 'age': 36 }\n     */\n    var min = createExtremum(lt, POSITIVE_INFINITY);\n\n    /**\n     * Calculates `n` rounded to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {number} n The number to round.\n     * @param {number} [precision=0] The precision to round to.\n     * @returns {number} Returns the rounded number.\n     * @example\n     *\n     * _.round(4.006);\n     * // => 4\n     *\n     * _.round(4.006, 2);\n     * // => 4.01\n     *\n     * _.round(4060, -2);\n     * // => 4100\n     */\n    var round = createRound('round');\n\n    /**\n     * Gets the sum of the values in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * _.sum([4, 6]);\n     * // => 10\n     *\n     * _.sum({ 'a': 4, 'b': 6 });\n     * // => 10\n     *\n     * var objects = [\n     *   { 'n': 4 },\n     *   { 'n': 6 }\n     * ];\n     *\n     * _.sum(objects, function(object) {\n     *   return object.n;\n     * });\n     * // => 10\n     *\n     * // using the `_.property` callback shorthand\n     * _.sum(objects, 'n');\n     * // => 10\n     */\n    function sum(collection, iteratee, thisArg) {\n      if (thisArg && isIterateeCall(collection, iteratee, thisArg)) {\n        iteratee = undefined;\n      }\n      iteratee = getCallback(iteratee, thisArg, 3);\n      return iteratee.length == 1\n        ? arraySum(isArray(collection) ? collection : toIterable(collection), iteratee)\n        : baseSum(collection, iteratee);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    // Ensure wrappers are instances of `baseLodash`.\n    lodash.prototype = baseLodash.prototype;\n\n    LodashWrapper.prototype = baseCreate(baseLodash.prototype);\n    LodashWrapper.prototype.constructor = LodashWrapper;\n\n    LazyWrapper.prototype = baseCreate(baseLodash.prototype);\n    LazyWrapper.prototype.constructor = LazyWrapper;\n\n    // Add functions to the `Map` cache.\n    MapCache.prototype['delete'] = mapDelete;\n    MapCache.prototype.get = mapGet;\n    MapCache.prototype.has = mapHas;\n    MapCache.prototype.set = mapSet;\n\n    // Add functions to the `Set` cache.\n    SetCache.prototype.push = cachePush;\n\n    // Assign cache to `_.memoize`.\n    memoize.Cache = MapCache;\n\n    // Add functions that return wrapped values when chaining.\n    lodash.after = after;\n    lodash.ary = ary;\n    lodash.assign = assign;\n    lodash.at = at;\n    lodash.before = before;\n    lodash.bind = bind;\n    lodash.bindAll = bindAll;\n    lodash.bindKey = bindKey;\n    lodash.callback = callback;\n    lodash.chain = chain;\n    lodash.chunk = chunk;\n    lodash.compact = compact;\n    lodash.constant = constant;\n    lodash.countBy = countBy;\n    lodash.create = create;\n    lodash.curry = curry;\n    lodash.curryRight = curryRight;\n    lodash.debounce = debounce;\n    lodash.defaults = defaults;\n    lodash.defaultsDeep = defaultsDeep;\n    lodash.defer = defer;\n    lodash.delay = delay;\n    lodash.difference = difference;\n    lodash.drop = drop;\n    lodash.dropRight = dropRight;\n    lodash.dropRightWhile = dropRightWhile;\n    lodash.dropWhile = dropWhile;\n    lodash.fill = fill;\n    lodash.filter = filter;\n    lodash.flatten = flatten;\n    lodash.flattenDeep = flattenDeep;\n    lodash.flow = flow;\n    lodash.flowRight = flowRight;\n    lodash.forEach = forEach;\n    lodash.forEachRight = forEachRight;\n    lodash.forIn = forIn;\n    lodash.forInRight = forInRight;\n    lodash.forOwn = forOwn;\n    lodash.forOwnRight = forOwnRight;\n    lodash.functions = functions;\n    lodash.groupBy = groupBy;\n    lodash.indexBy = indexBy;\n    lodash.initial = initial;\n    lodash.intersection = intersection;\n    lodash.invert = invert;\n    lodash.invoke = invoke;\n    lodash.keys = keys;\n    lodash.keysIn = keysIn;\n    lodash.map = map;\n    lodash.mapKeys = mapKeys;\n    lodash.mapValues = mapValues;\n    lodash.matches = matches;\n    lodash.matchesProperty = matchesProperty;\n    lodash.memoize = memoize;\n    lodash.merge = merge;\n    lodash.method = method;\n    lodash.methodOf = methodOf;\n    lodash.mixin = mixin;\n    lodash.modArgs = modArgs;\n    lodash.negate = negate;\n    lodash.omit = omit;\n    lodash.once = once;\n    lodash.pairs = pairs;\n    lodash.partial = partial;\n    lodash.partialRight = partialRight;\n    lodash.partition = partition;\n    lodash.pick = pick;\n    lodash.pluck = pluck;\n    lodash.property = property;\n    lodash.propertyOf = propertyOf;\n    lodash.pull = pull;\n    lodash.pullAt = pullAt;\n    lodash.range = range;\n    lodash.rearg = rearg;\n    lodash.reject = reject;\n    lodash.remove = remove;\n    lodash.rest = rest;\n    lodash.restParam = restParam;\n    lodash.set = set;\n    lodash.shuffle = shuffle;\n    lodash.slice = slice;\n    lodash.sortBy = sortBy;\n    lodash.sortByAll = sortByAll;\n    lodash.sortByOrder = sortByOrder;\n    lodash.spread = spread;\n    lodash.take = take;\n    lodash.takeRight = takeRight;\n    lodash.takeRightWhile = takeRightWhile;\n    lodash.takeWhile = takeWhile;\n    lodash.tap = tap;\n    lodash.throttle = throttle;\n    lodash.thru = thru;\n    lodash.times = times;\n    lodash.toArray = toArray;\n    lodash.toPlainObject = toPlainObject;\n    lodash.transform = transform;\n    lodash.union = union;\n    lodash.uniq = uniq;\n    lodash.unzip = unzip;\n    lodash.unzipWith = unzipWith;\n    lodash.values = values;\n    lodash.valuesIn = valuesIn;\n    lodash.where = where;\n    lodash.without = without;\n    lodash.wrap = wrap;\n    lodash.xor = xor;\n    lodash.zip = zip;\n    lodash.zipObject = zipObject;\n    lodash.zipWith = zipWith;\n\n    // Add aliases.\n    lodash.backflow = flowRight;\n    lodash.collect = map;\n    lodash.compose = flowRight;\n    lodash.each = forEach;\n    lodash.eachRight = forEachRight;\n    lodash.extend = assign;\n    lodash.iteratee = callback;\n    lodash.methods = functions;\n    lodash.object = zipObject;\n    lodash.select = filter;\n    lodash.tail = rest;\n    lodash.unique = uniq;\n\n    // Add functions to `lodash.prototype`.\n    mixin(lodash, lodash);\n\n    /*------------------------------------------------------------------------*/\n\n    // Add functions that return unwrapped values when chaining.\n    lodash.add = add;\n    lodash.attempt = attempt;\n    lodash.camelCase = camelCase;\n    lodash.capitalize = capitalize;\n    lodash.ceil = ceil;\n    lodash.clone = clone;\n    lodash.cloneDeep = cloneDeep;\n    lodash.deburr = deburr;\n    lodash.endsWith = endsWith;\n    lodash.escape = escape;\n    lodash.escapeRegExp = escapeRegExp;\n    lodash.every = every;\n    lodash.find = find;\n    lodash.findIndex = findIndex;\n    lodash.findKey = findKey;\n    lodash.findLast = findLast;\n    lodash.findLastIndex = findLastIndex;\n    lodash.findLastKey = findLastKey;\n    lodash.findWhere = findWhere;\n    lodash.first = first;\n    lodash.floor = floor;\n    lodash.get = get;\n    lodash.gt = gt;\n    lodash.gte = gte;\n    lodash.has = has;\n    lodash.identity = identity;\n    lodash.includes = includes;\n    lodash.indexOf = indexOf;\n    lodash.inRange = inRange;\n    lodash.isArguments = isArguments;\n    lodash.isArray = isArray;\n    lodash.isBoolean = isBoolean;\n    lodash.isDate = isDate;\n    lodash.isElement = isElement;\n    lodash.isEmpty = isEmpty;\n    lodash.isEqual = isEqual;\n    lodash.isError = isError;\n    lodash.isFinite = isFinite;\n    lodash.isFunction = isFunction;\n    lodash.isMatch = isMatch;\n    lodash.isNaN = isNaN;\n    lodash.isNative = isNative;\n    lodash.isNull = isNull;\n    lodash.isNumber = isNumber;\n    lodash.isObject = isObject;\n    lodash.isPlainObject = isPlainObject;\n    lodash.isRegExp = isRegExp;\n    lodash.isString = isString;\n    lodash.isTypedArray = isTypedArray;\n    lodash.isUndefined = isUndefined;\n    lodash.kebabCase = kebabCase;\n    lodash.last = last;\n    lodash.lastIndexOf = lastIndexOf;\n    lodash.lt = lt;\n    lodash.lte = lte;\n    lodash.max = max;\n    lodash.min = min;\n    lodash.noConflict = noConflict;\n    lodash.noop = noop;\n    lodash.now = now;\n    lodash.pad = pad;\n    lodash.padLeft = padLeft;\n    lodash.padRight = padRight;\n    lodash.parseInt = parseInt;\n    lodash.random = random;\n    lodash.reduce = reduce;\n    lodash.reduceRight = reduceRight;\n    lodash.repeat = repeat;\n    lodash.result = result;\n    lodash.round = round;\n    lodash.runInContext = runInContext;\n    lodash.size = size;\n    lodash.snakeCase = snakeCase;\n    lodash.some = some;\n    lodash.sortedIndex = sortedIndex;\n    lodash.sortedLastIndex = sortedLastIndex;\n    lodash.startCase = startCase;\n    lodash.startsWith = startsWith;\n    lodash.sum = sum;\n    lodash.template = template;\n    lodash.trim = trim;\n    lodash.trimLeft = trimLeft;\n    lodash.trimRight = trimRight;\n    lodash.trunc = trunc;\n    lodash.unescape = unescape;\n    lodash.uniqueId = uniqueId;\n    lodash.words = words;\n\n    // Add aliases.\n    lodash.all = every;\n    lodash.any = some;\n    lodash.contains = includes;\n    lodash.eq = isEqual;\n    lodash.detect = find;\n    lodash.foldl = reduce;\n    lodash.foldr = reduceRight;\n    lodash.head = first;\n    lodash.include = includes;\n    lodash.inject = reduce;\n\n    mixin(lodash, (function() {\n      var source = {};\n      baseForOwn(lodash, function(func, methodName) {\n        if (!lodash.prototype[methodName]) {\n          source[methodName] = func;\n        }\n      });\n      return source;\n    }()), false);\n\n    /*------------------------------------------------------------------------*/\n\n    // Add functions capable of returning wrapped and unwrapped values when chaining.\n    lodash.sample = sample;\n\n    lodash.prototype.sample = function(n) {\n      if (!this.__chain__ && n == null) {\n        return sample(this.value());\n      }\n      return this.thru(function(value) {\n        return sample(value, n);\n      });\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The semantic version number.\n     *\n     * @static\n     * @memberOf _\n     * @type string\n     */\n    lodash.VERSION = VERSION;\n\n    // Assign default placeholders.\n    arrayEach(['bind', 'bindKey', 'curry', 'curryRight', 'partial', 'partialRight'], function(methodName) {\n      lodash[methodName].placeholder = lodash;\n    });\n\n    // Add `LazyWrapper` methods for `_.drop` and `_.take` variants.\n    arrayEach(['drop', 'take'], function(methodName, index) {\n      LazyWrapper.prototype[methodName] = function(n) {\n        var filtered = this.__filtered__;\n        if (filtered && !index) {\n          return new LazyWrapper(this);\n        }\n        n = n == null ? 1 : nativeMax(nativeFloor(n) || 0, 0);\n\n        var result = this.clone();\n        if (filtered) {\n          result.__takeCount__ = nativeMin(result.__takeCount__, n);\n        } else {\n          result.__views__.push({ 'size': n, 'type': methodName + (result.__dir__ < 0 ? 'Right' : '') });\n        }\n        return result;\n      };\n\n      LazyWrapper.prototype[methodName + 'Right'] = function(n) {\n        return this.reverse()[methodName](n).reverse();\n      };\n    });\n\n    // Add `LazyWrapper` methods that accept an `iteratee` value.\n    arrayEach(['filter', 'map', 'takeWhile'], function(methodName, index) {\n      var type = index + 1,\n          isFilter = type != LAZY_MAP_FLAG;\n\n      LazyWrapper.prototype[methodName] = function(iteratee, thisArg) {\n        var result = this.clone();\n        result.__iteratees__.push({ 'iteratee': getCallback(iteratee, thisArg, 1), 'type': type });\n        result.__filtered__ = result.__filtered__ || isFilter;\n        return result;\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.first` and `_.last`.\n    arrayEach(['first', 'last'], function(methodName, index) {\n      var takeName = 'take' + (index ? 'Right' : '');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this[takeName](1).value()[0];\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.initial` and `_.rest`.\n    arrayEach(['initial', 'rest'], function(methodName, index) {\n      var dropName = 'drop' + (index ? '' : 'Right');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this.__filtered__ ? new LazyWrapper(this) : this[dropName](1);\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.pluck` and `_.where`.\n    arrayEach(['pluck', 'where'], function(methodName, index) {\n      var operationName = index ? 'filter' : 'map',\n          createCallback = index ? baseMatches : property;\n\n      LazyWrapper.prototype[methodName] = function(value) {\n        return this[operationName](createCallback(value));\n      };\n    });\n\n    LazyWrapper.prototype.compact = function() {\n      return this.filter(identity);\n    };\n\n    LazyWrapper.prototype.reject = function(predicate, thisArg) {\n      predicate = getCallback(predicate, thisArg, 1);\n      return this.filter(function(value) {\n        return !predicate(value);\n      });\n    };\n\n    LazyWrapper.prototype.slice = function(start, end) {\n      start = start == null ? 0 : (+start || 0);\n\n      var result = this;\n      if (result.__filtered__ && (start > 0 || end < 0)) {\n        return new LazyWrapper(result);\n      }\n      if (start < 0) {\n        result = result.takeRight(-start);\n      } else if (start) {\n        result = result.drop(start);\n      }\n      if (end !== undefined) {\n        end = (+end || 0);\n        result = end < 0 ? result.dropRight(-end) : result.take(end - start);\n      }\n      return result;\n    };\n\n    LazyWrapper.prototype.takeRightWhile = function(predicate, thisArg) {\n      return this.reverse().takeWhile(predicate, thisArg).reverse();\n    };\n\n    LazyWrapper.prototype.toArray = function() {\n      return this.take(POSITIVE_INFINITY);\n    };\n\n    // Add `LazyWrapper` methods to `lodash.prototype`.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var checkIteratee = /^(?:filter|map|reject)|While$/.test(methodName),\n          retUnwrapped = /^(?:first|last)$/.test(methodName),\n          lodashFunc = lodash[retUnwrapped ? ('take' + (methodName == 'last' ? 'Right' : '')) : methodName];\n\n      if (!lodashFunc) {\n        return;\n      }\n      lodash.prototype[methodName] = function() {\n        var args = retUnwrapped ? [1] : arguments,\n            chainAll = this.__chain__,\n            value = this.__wrapped__,\n            isHybrid = !!this.__actions__.length,\n            isLazy = value instanceof LazyWrapper,\n            iteratee = args[0],\n            useLazy = isLazy || isArray(value);\n\n        if (useLazy && checkIteratee && typeof iteratee == 'function' && iteratee.length != 1) {\n          // Avoid lazy use if the iteratee has a \"length\" value other than `1`.\n          isLazy = useLazy = false;\n        }\n        var interceptor = function(value) {\n          return (retUnwrapped && chainAll)\n            ? lodashFunc(value, 1)[0]\n            : lodashFunc.apply(undefined, arrayPush([value], args));\n        };\n\n        var action = { 'func': thru, 'args': [interceptor], 'thisArg': undefined },\n            onlyLazy = isLazy && !isHybrid;\n\n        if (retUnwrapped && !chainAll) {\n          if (onlyLazy) {\n            value = value.clone();\n            value.__actions__.push(action);\n            return func.call(value);\n          }\n          return lodashFunc.call(undefined, this.value())[0];\n        }\n        if (!retUnwrapped && useLazy) {\n          value = onlyLazy ? value : new LazyWrapper(this);\n          var result = func.apply(value, args);\n          result.__actions__.push(action);\n          return new LodashWrapper(result, chainAll);\n        }\n        return this.thru(interceptor);\n      };\n    });\n\n    // Add `Array` and `String` methods to `lodash.prototype`.\n    arrayEach(['join', 'pop', 'push', 'replace', 'shift', 'sort', 'splice', 'split', 'unshift'], function(methodName) {\n      var func = (/^(?:replace|split)$/.test(methodName) ? stringProto : arrayProto)[methodName],\n          chainName = /^(?:push|sort|unshift)$/.test(methodName) ? 'tap' : 'thru',\n          retUnwrapped = /^(?:join|pop|replace|shift)$/.test(methodName);\n\n      lodash.prototype[methodName] = function() {\n        var args = arguments;\n        if (retUnwrapped && !this.__chain__) {\n          return func.apply(this.value(), args);\n        }\n        return this[chainName](function(value) {\n          return func.apply(value, args);\n        });\n      };\n    });\n\n    // Map minified function names to their real names.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var lodashFunc = lodash[methodName];\n      if (lodashFunc) {\n        var key = lodashFunc.name,\n            names = realNames[key] || (realNames[key] = []);\n\n        names.push({ 'name': methodName, 'func': lodashFunc });\n      }\n    });\n\n    realNames[createHybridWrapper(undefined, BIND_KEY_FLAG).name] = [{ 'name': 'wrapper', 'func': undefined }];\n\n    // Add functions to the lazy wrapper.\n    LazyWrapper.prototype.clone = lazyClone;\n    LazyWrapper.prototype.reverse = lazyReverse;\n    LazyWrapper.prototype.value = lazyValue;\n\n    // Add chaining functions to the `lodash` wrapper.\n    lodash.prototype.chain = wrapperChain;\n    lodash.prototype.commit = wrapperCommit;\n    lodash.prototype.concat = wrapperConcat;\n    lodash.prototype.plant = wrapperPlant;\n    lodash.prototype.reverse = wrapperReverse;\n    lodash.prototype.toString = wrapperToString;\n    lodash.prototype.run = lodash.prototype.toJSON = lodash.prototype.valueOf = lodash.prototype.value = wrapperValue;\n\n    // Add function aliases to the `lodash` wrapper.\n    lodash.prototype.collect = lodash.prototype.map;\n    lodash.prototype.head = lodash.prototype.first;\n    lodash.prototype.select = lodash.prototype.filter;\n    lodash.prototype.tail = lodash.prototype.rest;\n\n    return lodash;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  // Export lodash.\n  var _ = runInContext();\n\n  // Some AMD build optimizers like r.js check for condition patterns like the following:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose lodash to the global object when an AMD loader is present to avoid\n    // errors in cases where lodash is loaded by a script tag and not intended\n    // as an AMD module. See http://requirejs.org/docs/errors.html#mismatch for\n    // more details.\n    root._ = _;\n\n    // Define as an anonymous module so, through path mapping, it can be\n    // referenced as the \"underscore\" module.\n    define(function() {\n      return _;\n    });\n  }\n  // Check for `exports` after `define` in case a build optimizer adds an `exports` object.\n  else if (freeExports && freeModule) {\n    // Export for Node.js or RingoJS.\n    if (moduleExports) {\n      (freeModule.exports = _)._ = _;\n    }\n    // Export for Rhino with CommonJS support.\n    else {\n      freeExports._ = _;\n    }\n  }\n  else {\n    // Export for a browser or Rhino.\n    root._ = _;\n  }\n}.call(this));\n",
    "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _modes = require('./modes');\n\nvar _modes2 = _interopRequireDefault(_modes);\n\nexports['default'] = function () {\n  var _this = this;\n\n  var mode = this.mode;\n\n  if (!_modes2['default'][mode]) {\n    throw new Error('Invalid mode, try: ' + Object.keys(_modes2['default']).join(', '));\n  }\n\n  var notes = _modes2['default'][mode].map(function (i) {\n    return _this.root[i]();\n  });\n  this.notes = this.notes.concat(notes);\n};\n\nmodule.exports = exports['default'];",
    "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _note = require('../note');\n\nvar _note2 = _interopRequireDefault(_note);\n\nvar _addAdditionalNotes = require('./add-additional-notes');\n\nvar _addAdditionalNotes2 = _interopRequireDefault(_addAdditionalNotes);\n\nvar Chord = (function () {\n  function Chord() {\n    var signature = arguments.length <= 0 || arguments[0] === undefined ? 'A4' : arguments[0];\n    var mode = arguments.length <= 1 || arguments[1] === undefined ? undefined : arguments[1];\n\n    _classCallCheck(this, Chord);\n\n    this.root = new _note2['default'](signature);\n    this.mode = mode;\n    this.notes = [this.root];\n\n    if (mode) {\n      _addAdditionalNotes2['default'].call(this);\n    }\n  }\n\n  _createClass(Chord, [{\n    key: 'addInterval',\n    value: function addInterval(i) {\n      this.notes.push(this.root.interval(i));\n      return this;\n    }\n  }, {\n    key: 'signatures',\n    get: function get() {\n      return this.notes.map(function (n) {\n        return n.signature;\n      });\n    }\n  }, {\n    key: 'pianoKeys',\n    get: function get() {\n      return this.notes.map(function (n) {\n        return n.pianoKey;\n      });\n    }\n  }, {\n    key: 'frequencies',\n    get: function get() {\n      return this.notes.map(function (n) {\n        return n.frequency;\n      });\n    }\n  }]);\n\n  return Chord;\n})();\n\nexports['default'] = Chord;\nmodule.exports = exports['default'];",
    "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nvar modes = Object.defineProperties({\n  major: ['majorThird', 'perfectFifth'],\n  majorSixth: ['majorThird', 'perfectFifth', 'majorSixth'],\n  majorSeventh: ['majorThird', 'perfectFifth', 'majorSeventh'],\n  majorSeventhFlatFive: ['majorThird', 'diminishedFifth', 'majorSeventh'],\n  majorSeventhSharpFive: ['majorThird', 'minorSixth', 'majorSeventh'],\n  minor: ['minorThird', 'perfectFifth'],\n  minorSixth: ['minorThird', 'perfectFifth', 'majorSixth'],\n  minorSeventh: ['minorThird', 'perfectFifth', 'minorSeventh'],\n  minorMajor: ['minorThird', 'perfectFifth', 'minorSeventh'],\n  dominantSeventh: ['majorThird', 'perfectFifth', 'minorSeventh'],\n  diminished: ['minorThird', 'diminishedFifth'],\n  diminishedSeventh: ['minorThird', 'diminishedFifth', 'majorSixth'],\n  halfDimished: ['minorThird', 'diminishedFifth', 'minorSeventh'] }, {\n  maj: {\n    get: function get() {\n      return this.major;\n    },\n    enumerable: true\n  },\n  '6': {\n    get: function get() {\n      return this.majorSixth;\n    },\n    enumerable: true\n  },\n  maj6: {\n    get: function get() {\n      return this.majorSixth;\n    },\n    enumerable: true\n  },\n  '7': {\n    get: function get() {\n      return this.majorSeventh;\n    },\n    enumerable: true\n  },\n  maj7: {\n    get: function get() {\n      return this.majorSeventh;\n    },\n    enumerable: true\n  },\n  maj7b5: {\n    get: function get() {\n      return this.majorSeventhFlatFive;\n    },\n    enumerable: true\n  },\n  'maj7#5': {\n    get: function get() {\n      return this.majorSeventhSharpFive;\n    },\n    enumerable: true\n  },\n  min: {\n    get: function get() {\n      return this.minor;\n    },\n    enumerable: true\n  },\n  m: {\n    get: function get() {\n      return this.minor;\n    },\n    enumerable: true\n  },\n  min6: {\n    get: function get() {\n      return this.minorSixth;\n    },\n    enumerable: true\n  },\n  m6: {\n    get: function get() {\n      return this.minorSixth;\n    },\n    enumerable: true\n  },\n  min7: {\n    get: function get() {\n      return this.minorSeventh;\n    },\n    enumerable: true\n  },\n  m7: {\n    get: function get() {\n      return this.minorSeventh;\n    },\n    enumerable: true\n  },\n  'm#7': {\n    get: function get() {\n      return this.minorMajor;\n    },\n    enumerable: true\n  },\n  'min#7': {\n    get: function get() {\n      return this.minorMajor;\n    },\n    enumerable: true\n  },\n  'm(maj7)': {\n    get: function get() {\n      return this.minorMajor;\n    },\n    enumerable: true\n  },\n  dom7: {\n    get: function get() {\n      return this.dominantSeventh;\n    },\n    enumerable: true\n  },\n  dim: {\n    get: function get() {\n      return this.diminished;\n    },\n    enumerable: true\n  },\n  dim7: {\n    get: function get() {\n      return this.diminishedSeventh;\n    },\n    enumerable: true\n  },\n  m7b5: {\n    get: function get() {\n      return this.halfDiminshed;\n    },\n    enumerable: true\n  }\n});\n\nexports['default'] = Object.freeze(modes);\nmodule.exports = exports['default'];",
    "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _note = require('./note');\n\nvar _note2 = _interopRequireDefault(_note);\n\nvar _chord = require('./chord');\n\nvar _chord2 = _interopRequireDefault(_chord);\n\nexports['default'] = {\n  Note: _note2['default'],\n  Chord: _chord2['default']\n};\nmodule.exports = exports['default'];",
    "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nvar alternateNames = {\n  'Ab': 'G#',\n  'A#': 'Bb',\n  'Bb': 'A#',\n  'C#': 'Db',\n  'Db': 'C#',\n  'D#': 'Eb',\n  'Eb': 'D#',\n  'F#': 'Gb',\n  'Gb': 'F#',\n  'G#': 'Ab'\n};\n\nexports['default'] = function (signature) {\n  var _signature$match$slice = signature.match(/([A-G][b#]{0,1})(\\d)/).slice(1, 3);\n\n  var _signature$match$slice2 = _slicedToArray(_signature$match$slice, 2);\n\n  var note = _signature$match$slice2[0];\n  var octave = _signature$match$slice2[1];\n\n  if (!alternateNames[note]) {\n    return null;\n  }\n  return alternateNames[note] + octave;\n};\n\nmodule.exports = exports['default'];",
    "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _pianoKeys = require('./piano-keys');\n\nvar noteIndex = swapKeysAndValues(_pianoKeys.pianoKeys);\n\nexports['default'] = function (pianoKey) {\n  return noteIndex[pianoKey];\n};\n\nfunction swapKeysAndValues(object) {\n  return Object.keys(object).reduce(function (newObject, key) {\n    var value = object[key];\n    newObject[value] = key;\n    return newObject;\n  }, {});\n}\nmodule.exports = exports['default'];",
    "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _parseNote = require('./parse-note');\n\nvar _parseNote2 = _interopRequireDefault(_parseNote);\n\nvar _getAlternateName = require('./get-alternate-name');\n\nvar _getAlternateName2 = _interopRequireDefault(_getAlternateName);\n\nvar _getNoteFromPianoKey = require('./get-note-from-piano-key');\n\nvar _getNoteFromPianoKey2 = _interopRequireDefault(_getNoteFromPianoKey);\n\nvar _pianoKeys = require('./piano-keys');\n\nvar _validateNote = require('./validate-note');\n\nvar _validateNote2 = _interopRequireDefault(_validateNote);\n\nvar _intervals = require('./intervals');\n\nvar _intervals2 = _interopRequireDefault(_intervals);\n\nvar _chord = require('../chord');\n\nvar _chord2 = _interopRequireDefault(_chord);\n\nvar Note = (function () {\n  function Note(note) {\n    var _this = this;\n\n    _classCallCheck(this, Note);\n\n    var parsedNote = (0, _parseNote2['default'])(note);\n    Object.keys(parsedNote).forEach(function (key) {\n      return _this[key] = parsedNote[key];\n    });\n    (0, _validateNote2['default'])(this.signature);\n  }\n\n  _createClass(Note, [{\n    key: 'interval',\n    value: function interval(i) {\n      if (typeof i === 'number') {\n        return Note.fromPianoKey(this.pianoKey + i);\n      }\n\n      var validIntervals = Object.keys(_intervals2['default']);\n      if (validIntervals.indexOf(i) === -1) {\n        throw new Error(i + ' is an invalid interval,\\n                       try: ' + validIntervals.join(', '));\n      }\n\n      return this[i]();\n    }\n  }, {\n    key: 'toChord',\n    value: function toChord(mode) {\n      return new _chord2['default'](this.signature, mode);\n    }\n  }, {\n    key: 'signature',\n    get: function get() {\n      return '' + this.letter + (this.modifier || '') + this.octave;\n    },\n    set: function set(note) {\n      this.constructor(note);\n      return this.signature;\n    }\n  }, {\n    key: 'pianoKey',\n    get: function get() {\n      return _pianoKeys.pianoKeys[this.signature];\n    }\n  }, {\n    key: 'frequency',\n    get: function get() {\n      return _pianoKeys.frequencies[this.pianoKey];\n    }\n  }, {\n    key: 'alternateName',\n    get: function get() {\n      return (0, _getAlternateName2['default'])(this.signature);\n    }\n  }], [{\n    key: 'fromPianoKey',\n    value: function fromPianoKey(pianoKey) {\n      var note = (0, _getNoteFromPianoKey2['default'])(pianoKey);\n      return new this(note);\n    }\n  }]);\n\n  return Note;\n})();\n\nObject.keys(_intervals2['default']).forEach(function (interval) {\n  Note.prototype[interval] = function () {\n    return this.interval(_intervals2['default'][interval]);\n  };\n});\n\nexports['default'] = Note;\nmodule.exports = exports['default'];",
    "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar intervals = Object.defineProperties({\n  downOctave: -12,\n  minorSecond: 1,\n  majorSecond: 2,\n  minorThird: 3,\n  majorThird: 4,\n  perfectFourth: 5,\n  diminishedFifth: 6,\n  perfectFifth: 7,\n  minorSixth: 8,\n  majorSixth: 9,\n  minorSeventh: 10,\n  majorSeventh: 11,\n  perfectOctave: 12\n}, {\n  augmentedFourth: {\n    get: function get() {\n      return this.diminishedFifth;\n    },\n    enumerable: true\n  },\n  third: {\n    get: function get() {\n      return this.majorThird;\n    },\n    enumerable: true\n  },\n  fifth: {\n    get: function get() {\n      return this.perfectFifth;\n    },\n    enumerable: true\n  }\n});\n\nexports[\"default\"] = Object.freeze(intervals);\nmodule.exports = exports[\"default\"];",
    "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nvar validNoteLetters = 'ABCDEFG';\nvar validSharpNotes = 'ACDFG';\nvar validFlatNotes = 'ABDEG';\nvar validModifiers = '#b';\n\nexports['default'] = function (note) {\n  var letter = note.charAt(0).toUpperCase();\n  var modifier = note.charAt(1) || null;\n\n  if (modifier === 'b' && validFlatNotes.indexOf(letter) === -1) {\n    letter = validNoteLetters.charAt(validNoteLetters.indexOf(letter) - 1);\n    modifier = null;\n  }\n\n  if (modifier === '#' && validSharpNotes.indexOf(letter) === -1) {\n    letter = validNoteLetters.charAt(validNoteLetters.indexOf(letter) + 1);\n    modifier = null;\n  }\n\n  validateLetter(letter);\n  validateModifier(modifier);\n\n  return { letter: letter, modifier: modifier };\n};\n\nfunction validateLetter(letter) {\n  if (validNoteLetters.indexOf(letter) === -1) {\n    throw new Error('Invalid note letter');\n  }\n}\n\nfunction validateModifier(modifier) {\n  if (modifier && validModifiers.indexOf(modifier) === -1) {\n    throw new Error('Invalid modifier');\n  }\n}\nmodule.exports = exports['default'];",
    "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _normalizeNote2 = require('./normalize-note');\n\nvar _normalizeNote3 = _interopRequireDefault(_normalizeNote2);\n\nexports['default'] = function (note) {\n  var noteSegments = note.match(/([A-Ga-g])([#b]{0,1})([0-9])/);\n\n  if (!noteSegments) {\n    throw new Error('Invalid note format: ' + note + '.');\n  }\n\n  var noteWithModifier = noteSegments.slice(1, 3).join('');\n\n  var _normalizeNote = (0, _normalizeNote3['default'])(noteWithModifier);\n\n  var letter = _normalizeNote.letter;\n  var modifier = _normalizeNote.modifier;\n\n  var octave = noteSegments[3];\n\n  return {\n    letter: letter,\n    modifier: modifier || null,\n    octave: parseInt(octave, 10)\n  };\n};\n\nmodule.exports = exports['default'];",
    "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar pianoKeys = {\n  \"A0\": 1,\n  \"Bb0\": 2,\n  \"A#0\": 2,\n  \"B0\": 3,\n  \"C1\": 4,\n  \"Db1\": 5,\n  \"C#1\": 5,\n  \"D1\": 6,\n  \"Eb1\": 7,\n  \"D#1\": 7,\n  \"E1\": 8,\n  \"F1\": 9,\n  \"Gb1\": 10,\n  \"F#1\": 10,\n  \"G1\": 11,\n  \"Ab1\": 12,\n  \"G#1\": 12,\n  \"A1\": 13,\n  \"Bb1\": 14,\n  \"A#1\": 14,\n  \"B1\": 15,\n  \"C2\": 16,\n  \"Db2\": 17,\n  \"C#2\": 17,\n  \"D2\": 18,\n  \"Eb2\": 19,\n  \"D#2\": 19,\n  \"E2\": 20,\n  \"F2\": 21,\n  \"Gb2\": 22,\n  \"F#2\": 22,\n  \"G2\": 23,\n  \"Ab2\": 24,\n  \"G#2\": 24,\n  \"A2\": 25,\n  \"Bb2\": 26,\n  \"A#2\": 26,\n  \"B2\": 27,\n  \"C3\": 28,\n  \"Db3\": 29,\n  \"C#3\": 29,\n  \"D3\": 30,\n  \"Eb3\": 31,\n  \"D#3\": 31,\n  \"E3\": 32,\n  \"F3\": 33,\n  \"Gb3\": 34,\n  \"F#3\": 34,\n  \"G3\": 35,\n  \"Ab3\": 36,\n  \"G#3\": 36,\n  \"A3\": 37,\n  \"Bb3\": 38,\n  \"A#3\": 38,\n  \"B3\": 39,\n  \"C4\": 40,\n  \"Db4\": 41,\n  \"C#4\": 41,\n  \"D4\": 42,\n  \"Eb4\": 43,\n  \"D#4\": 43,\n  \"E4\": 44,\n  \"F4\": 45,\n  \"Gb4\": 46,\n  \"F#4\": 46,\n  \"G4\": 47,\n  \"Ab4\": 48,\n  \"G#4\": 48,\n  \"A4\": 49,\n  \"Bb4\": 50,\n  \"A#4\": 50,\n  \"B4\": 51,\n  \"C5\": 52,\n  \"Db5\": 53,\n  \"C#5\": 53,\n  \"D5\": 54,\n  \"Eb5\": 55,\n  \"D#5\": 55,\n  \"E5\": 56,\n  \"F5\": 57,\n  \"Gb5\": 58,\n  \"F#5\": 58,\n  \"G5\": 59,\n  \"Ab5\": 60,\n  \"G#5\": 60,\n  \"A5\": 61,\n  \"Bb5\": 62,\n  \"A#5\": 62,\n  \"B5\": 63,\n  \"C6\": 64,\n  \"Db6\": 65,\n  \"C#6\": 65,\n  \"D6\": 66,\n  \"Eb6\": 67,\n  \"D#6\": 67,\n  \"E6\": 68,\n  \"F6\": 69,\n  \"Gb6\": 70,\n  \"F#6\": 70,\n  \"G6\": 71,\n  \"Ab6\": 72,\n  \"G#6\": 72,\n  \"A6\": 73,\n  \"Bb6\": 74,\n  \"A#6\": 74,\n  \"B6\": 75,\n  \"C7\": 76,\n  \"Db7\": 77,\n  \"C#7\": 77,\n  \"D7\": 78,\n  \"Eb7\": 79,\n  \"D#7\": 79,\n  \"E7\": 80,\n  \"F7\": 81,\n  \"Gb7\": 82,\n  \"F#7\": 82,\n  \"G7\": 83,\n  \"Ab7\": 84,\n  \"G#7\": 84,\n  \"A7\": 85,\n  \"Bb7\": 86,\n  \"A#7\": 86,\n  \"B7\": 87,\n  \"C8\": 88\n};\n\nexports.pianoKeys = pianoKeys;\nvar frequencies = {\n  10: 46.2493,\n  11: 48.9994,\n  12: 51.9131,\n  13: 55.0000,\n  14: 58.2705,\n  15: 61.7354,\n  16: 65.4064,\n  17: 69.2957,\n  18: 73.4162,\n  19: 77.7817,\n  1: 27.5000,\n  20: 82.4069,\n  21: 87.3071,\n  22: 92.4986,\n  23: 97.9989,\n  24: 103.826,\n  25: 110.000,\n  26: 116.541,\n  27: 123.471,\n  28: 130.813,\n  29: 138.591,\n  2: 29.1352,\n  30: 146.832,\n  31: 155.563,\n  32: 164.814,\n  33: 174.614,\n  34: 184.997,\n  35: 195.998,\n  36: 207.652,\n  37: 220.000,\n  38: 233.082,\n  39: 246.942,\n  3: 30.8677,\n  40: 261.626,\n  41: 277.183,\n  42: 293.665,\n  43: 311.127,\n  44: 329.628,\n  45: 349.228,\n  46: 369.994,\n  47: 391.995,\n  48: 415.305,\n  49: 440.000,\n  4: 32.7032,\n  50: 466.164,\n  51: 493.883,\n  52: 523.251,\n  53: 554.365,\n  54: 587.330,\n  55: 622.254,\n  56: 659.255,\n  57: 698.456,\n  58: 739.989,\n  59: 783.991,\n  5: 34.6478,\n  60: 830.609,\n  61: 880.000,\n  62: 932.328,\n  63: 987.767,\n  64: 1046.50,\n  65: 1108.73,\n  66: 1174.66,\n  67: 1244.51,\n  68: 1318.51,\n  69: 1396.91,\n  6: 36.7081,\n  70: 1479.98,\n  71: 1567.98,\n  72: 1661.22,\n  73: 1760.00,\n  74: 1864.66,\n  75: 1975.53,\n  76: 2093.00,\n  77: 2217.46,\n  78: 2349.32,\n  79: 2489.02,\n  7: 38.8909,\n  80: 2637.02,\n  81: 2793.83,\n  82: 2959.96,\n  83: 3135.96,\n  84: 3322.44,\n  85: 3520.00,\n  86: 3729.31,\n  87: 3951.07,\n  88: 4186.01,\n  8: 41.2034,\n  9: 43.6535\n\n};\nexports.frequencies = frequencies;",
    "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports['default'] = validateNote;\n\nvar _pianoKeys = require('./piano-keys');\n\nvar validNotes = Object.keys(_pianoKeys.pianoKeys);\n\nfunction validateNote(signature) {\n  if (validNotes.indexOf(signature) === -1) {\n    throw new Error('Out of range');\n  }\n}\n\nmodule.exports = exports['default'];",
    "var Dat = require('dat-gui')\nvar SoundCircles = require('./sound/sound')\nvar AudioContext = window.AudioContext || window.webkitAudioContext || null\n\nvar current = {\n\tapp : {\n\t\tctx : new AudioContext()\n\t},\n\tsound : {\n\t\tconvolerDuration : 4,\n\t\tconvolerDecay    : 7,\n\t\tlengthOfBeat     : 0.2,\n\t\tnotesToPlay      : 16,\n\t\tnoteUnitLength   : 1,\n\t\twaveType : \"triangle\",\n\t\tprogression : \"Dm7 Gm7 Cm7\",\n\t\tprogressionChords : {\n\t\t\t\"Dm7 Gm7 Cm7\" : [\n\t\t\t\t[\"D\", 'min7', 2, 5],\n\t\t\t\t[\"G\", 'min7', 2, 5],\n\t\t\t\t[\"C\", 'min7', 2, 5],\n\t\t\t],\n\t\t\t\"Cm Bb Ab7 G7\" : [\n\t\t\t\t[\"C\", 'm', 2, 5],\n\t\t\t\t[\"Bb\", '', 2, 5],\n\t\t\t\t[\"Ab\", '7', 2, 5],\n\t\t\t\t[\"G\", '7', 2, 5],\n\t\t\t],\n\t\t\t\"D7 G7 C7 F7\" : [\n\t\t\t\t[\"D\", '7', 2, 5],\n\t\t\t\t[\"G\", '7', 2, 5],\n\t\t\t\t[\"C\", '7', 2, 5],\n\t\t\t\t[\"F\", '7', 2, 5],\n\t\t\t],\n\t\t\t\"G C G D\" : [\n\t\t\t\t[\"G\", 'maj', 2, 5],\n\t\t\t\t[\"C\", 'maj', 2, 5],\n\t\t\t\t[\"G\", 'maj', 2, 5],\n\t\t\t\t[\"D\", 'maj', 2, 5],\n\t\t\t],\n\t\t}\n\t},\n\tsoundCircle : null\n}\n\n\nfunction _init() {\n\tif( current.soundCircle ) {\n\t\tcurrent.soundCircle.destroy()\n\t}\n\t\n\t//Grab the chord frequences from dat.gui\n\tvar sound = current.sound\n\tsound.chordFrequencies = sound.progressionChords[sound.progression]\n\t\n\tcurrent.soundCircle = SoundCircles(current.app, sound)\n}\n\nwindow.onload = function() {\n\t\n\tvar gui = new Dat.GUI()\n\n\tgui.add( current.sound, \"lengthOfBeat\", 0.01, 0.5 ).onFinishChange( _init )\n\tgui.add( current.sound, \"notesToPlay\", 1, 32).step(1).onFinishChange( _init )\n\tgui.add( current.sound, \"noteUnitLength\", 0, 1).onFinishChange( _init )\n\tgui.add( current.sound, \"waveType\", [\"sine\", \"square\", \"sawtooth\", \"triangle\"]).onFinishChange( _init )\n\tgui.add( current.sound, \"convolerDuration\", 1, 10 ).onFinishChange( _init )\n\tgui.add( current.sound, \"convolerDecay\", 1, 50).onFinishChange( _init )\n\tgui.add( current.sound, \"progression\", [\n\t\t\"Dm7 Gm7 Cm7\",\n\t\t\"Cm Bb Ab7 G7\",\n\t\t\"D7 G7 C7 F7\",\n\t\t\"G C G D\"\n\t]).onFinishChange( _init )\n\t\n\t_init()\n}\n",
    "exports.pinkNoise = function( ctx, bufferSize ) {\n\n\tvar b0, b1, b2, b3, b4, b5, b6, node\n\t\n\tb0 = b1 = b2 = b3 = b4 = b5 = b6 = 0.0\n\tnode = ctx.createScriptProcessor(bufferSize, 1, 1)\n\t\n\tnode.onaudioprocess = function(e) {\n\t\t\n\t\t// http://noisehack.com/generate-noise-web-audio-api/\n\t\tvar output = e.outputBuffer.getChannelData(0)\n\t\t\n\t\tfor (var i = 0; i < bufferSize; i++) {\n\t\t\tvar white = Math.random() * 2 - 1\n\t\t\tb0 = 0.99886 * b0 + white * 0.0555179\n\t\t\tb1 = 0.99332 * b1 + white * 0.0750759\n\t\t\tb2 = 0.96900 * b2 + white * 0.1538520\n\t\t\tb3 = 0.86650 * b3 + white * 0.3104856\n\t\t\tb4 = 0.55000 * b4 + white * 0.5329522\n\t\t\tb5 = -0.7616 * b5 - white * 0.0168980\n\t\t\toutput[i] = b0 + b1 + b2 + b3 + b4 + b5 + b6 + white * 0.5362\n\t\t\toutput[i] *= 0.11 // (roughly) compensate for gain\n\t\t\tb6 = white * 0.115926\n\t\t}\n\t}\n\t\n\treturn node\n}\n\nexports.oscillator = function( ctx, type, frequency ) {\n\t/*\n\t\tenum OscillatorType {\n\t\t  \"sine\",\n\t\t  \"square\",\n\t\t  \"sawtooth\",\n\t\t  \"triangle\",\n\t\t  \"custom\"\n\t\t}\n\t*/\n\t\n\tvar node = ctx.createOscillator()\n\tnode.type = type || \"sawtooth\"\n\tnode.frequency.value = frequency || 2000\n\t\n\treturn node\n}\n\t\nexports.gain = function( ctx ) {\n\tvar node = ctx.createGain()\n\tnode.gain.value = 1\n\treturn node\n}\n\t\nexports.panner = function( ctx ) {\n\t\n\tctx.listener.setPosition(0, 0, 0);\n\t\n\tvar node = ctx.createPanner();\n\t\n\tnode.panningModel = 'equalpower';\n\tnode.coneOuterGain = 0.1;\n\tnode.coneOuterAngle = 180;\n\tnode.coneInnerAngle = 0;\n\t\n\treturn node;\n}\n\t\nexports.bandpass = function( ctx ) {\n\n\tvar node = ctx.createBiquadFilter()\n\t\n\tnode.type = \"bandpass\"\n\tnode.frequency.value = 440\n\tnode.Q.value = 0.5\n\t\n\treturn node\n}",
    "var _ = require('lodash')\n\nexports.setGain = function ( ctx, node, gain, delay, speed ) {\n\t\n\tnode.gain.setTargetAtTime(\n\t\tgain,\n\t\tctx.currentTime + delay,\n\t\tspeed\n\t)\n}\n\nexports.setBandpassQ = function ( ctx, node, Q ) {\n\t\n\tnode.Q.setTargetAtTime(\n\t\tQ,\n\t\tctx.currentTime,\n\t\t0.1\n\t)\n},\n\nexports.setBandpassFrequency = function ( ctx, node, frequency ) {\n\t\n\tnode.frequency.setTargetAtTime(\n\t\tfrequency,\n\t\tctx.currentTime,\n\t\t0.1\n\t)\n}\n\nexports.connect = function( nodes ) {\n\t\n\t_.each( _.rest( nodes ), function(node, i, list) {\n\t\tvar prevNode = nodes[i]\n\t\t\n\t\tprevNode.connect( node )\n\t})\n}\n\nexports.setFrequency = function( ctx, node, frequency, delay, speed ) {\n\t\n\tnode.frequency.setTargetAtTime(\n\t\tfrequency,\n\t\tctx.currentTime + delay,\n\t\tspeed\n\t)\n}",
    "var Make = require('./make-sound-node')\nvar Utils = require('./sound-utils')\nvar Octavian = require('octavian')\nvar _ = require('lodash')\n\nfunction _impulseResponse( ctx, duration, decay, reverse ) {\n\n\tvar bufferLength = ctx.sampleRate * duration\n\tvar buffer = ctx.createBuffer( 2, bufferLength, ctx.sampleRate )\n\tvar bufferL = buffer.getChannelData(0)\n\tvar bufferR = buffer.getChannelData(1)\n\n\tdecay = decay || 2.0\n\t\n\tfor(var i = 0; i < bufferLength; i++){\n\t \tvar decayValue = Math.pow(1 - i / bufferLength, decay)\n\t\tbufferL[i] = (Math.random() * 2 - 1) * decayValue\n\t\tbufferR[i] = (Math.random() * 2 - 1) * decayValue\n\t}\n\treturn buffer\n}\n\nfunction _createNodes( ctx, config ) {\n\t\n\tvar oscillator = Make.oscillator( ctx, config.waveType )\n\tvar gain = Make.gain( ctx )\n\tvar convolver = ctx.createConvolver()\n\t\n\tconvolver.buffer = _impulseResponse( ctx,\n\t\tconfig.convolerDuration,\n\t\tconfig.convolerDecay\n\t)\n\t\n\tUtils.connect([\n\t\toscillator,\n\t\tconvolver,\n\t\tgain,\n\t\tctx.destination\n\t]);\n\t\n\treturn {\n\t\tctx        : ctx,\n\t\toscillator : oscillator,\n\t\tgain       : gain,\n\t\tconvolver  : convolver\n\t}\n}\n\nfunction _getChordFrequencies( chordDefinitions ) {\n\t\n\treturn _.map( chordDefinitions, function mapChords( chordDefinition ) {\n\t\t\n\t\tvar [note, chordName, octaveStart, octaveEnd] = chordDefinition\n\t\t\n\t\treturn _.flatten(_.times( octaveEnd - octaveStart, function toFrequencies(i) {\n\t\t\t\n\t\t\tvar octave = octaveStart + i\n\t\t\tvar chord = new Octavian.Chord(note + octave, chordName)\n\t\t\t\n\t\t\treturn chord.frequencies\n\t\t}))\n\t})\n}\n\nfunction _playNoteFn( nodes, lengthOfBeat, noteUnitLength ) {\n\t\n\tvar transitionSpeed = lengthOfBeat * noteUnitLength * 0.05\n\t\n\treturn function playNote( time, frequency ) {\n\t\t\n\t\tvar speed = 0\n\t\t\n\t\tnodes.gain.gain.setTargetAtTime(\n\t\t\t1, //gain\n\t\t\ttime,\n\t\t\ttransitionSpeed\n\t\t)\n\t\t\n\t\tnodes.gain.gain.setTargetAtTime(\n\t\t\t0, // gain\n\t\t\ttime + lengthOfBeat * noteUnitLength, // time\n\t\t\ttransitionSpeed\n\t\t)\n\t\n\t\tnodes.oscillator.frequency.setTargetAtTime(\n\t\t\tfrequency,\n\t\t\ttime,      \n\t\t\t0 //speed          \n\t\t)\n\t}\n}\n\nfunction _randomlyArpeggiateThroughChords( nodes, chords, config ) {\n\t\n\tvar playNote = _playNoteFn( nodes, config.lengthOfBeat, config.noteUnitLength )\n\t\n\tvar interval = 16\n\tvar progressionLength = chords.length * config.notesToPlay * config.lengthOfBeat\n\tvar progressionStarted = nodes.ctx.currentTime - config.lengthOfBeat\n\tvar noteScheduledAt = progressionStarted\t//start out in the past so the next note will play immediately\n\tvar prevTime = progressionStarted\n\t\n\tnodes.oscillator.frequency.setTargetAtTime(\n\t\tchords[0][0],\n\t\t0,      \n\t\t0 //speed          \n\t)\n\n\treturn setInterval(function() {\n\t\t\n\t\t// This function is horrible\n\n\t\tvar currTime = nodes.ctx.currentTime\n\t\tvar progressionTime = currTime - progressionStarted\n\t\tvar timeSinceLastNotePlay = noteScheduledAt - currTime\n\t\tvar unitProgressionPosition = progressionTime / progressionLength\n\t\t\n\t\t// Schedule next note one beat ahead\n\t\tif( timeSinceLastNotePlay < config.lengthOfBeat ) {\n\n\t\t\tvar chordIndex = Math.floor( chords.length * unitProgressionPosition )\n\t\t\tchordIndex = Math.min( chordIndex, chords.length - 1 )\n\t\t\tchordIndex = Math.max( chordIndex, 0 )\n\t\t\t\n\t\t\tvar currentChord = chords[ chordIndex ]\n\t\t\tnoteScheduledAt += config.lengthOfBeat\n\t\t\tplayNote( noteScheduledAt, _.sample(currentChord) )\n\t\t}\n\n\t\tif( currTime >= progressionStarted + progressionLength ) {\n\t\t\tprogressionStarted += progressionLength\n\t\t}\n\n\t\tprevTime = currTime\n\n\t}, interval)\n\t\n}\n\n\nmodule.exports = function sound( app, props ) {\n\t\n\tvar config = _.extend({\n\t\tconvolerDuration : 4,\n\t\tconvolerDecay    : 7,\n\t\twaveType         : \"triangle\",\n\t\tlengthOfBeat     : 0.2,\n\t\tnotesToPlay      : 16,\n\t\tnoteUnitLength   : 1,\n\t\tchordFrequencies : [\n\t\t\t// [note, chord, octaveStart, octaveEnd]\n\t\t\t[\"D\", 'min7', 2, 5],\n\t\t\t[\"G\", 'min7', 2, 5],\n\t\t\t[\"C\", 'min7', 2, 5],\n\t\t]\n\t}, props)\n\t\n\t// config.waveType = _.sample([\"sine\", \"square\", \"sawtooth\", \"triangle\"])\n\t\n\tvar nodes = _createNodes( app.ctx, config )\n\t\n\tvar chords = _getChordFrequencies( config.chordFrequencies )\n\t\n\tvar arpeggiate = _randomlyArpeggiateThroughChords( nodes, chords, config )\n\t\n\tnodes.oscillator.start(0)\n\t\n\treturn {\n\t\tdestroy : function() {\n\t\t\tnodes.oscillator.stop(0)\n\t\t\tclearInterval(arpeggiate)\n\t\t}\n\t}\n}"
  ]
}